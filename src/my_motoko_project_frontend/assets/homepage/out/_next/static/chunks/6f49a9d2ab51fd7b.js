(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,25002,(e,t,r)=>{},2537,(e,t,r)=>{var i=e.i(86072);e.r(25002);var n=e.r(47272),s=n&&"object"==typeof n&&"default"in n?n:{default:n},a=void 0!==i.default&&i.default.env&&!0,o=function(e){return"[object String]"===Object.prototype.toString.call(e)},c=function(){function e(e){var t=void 0===e?{}:e,r=t.name,i=void 0===r?"stylesheet":r,n=t.optimizeForSpeed,s=void 0===n?a:n;l(o(i),"`name` must be a string"),this._name=i,this._deletedRulePlaceholder="#"+i+"-deleted-rule____{}",l("boolean"==typeof s,"`optimizeForSpeed` must be a boolean"),this._optimizeForSpeed=s,this._serverSheet=void 0,this._tags=[],this._injected=!1,this._rulesCount=0;var c="u">typeof window&&document.querySelector('meta[property="csp-nonce"]');this._nonce=c?c.getAttribute("content"):null}var t,r=e.prototype;return r.setOptimizeForSpeed=function(e){l("boolean"==typeof e,"`setOptimizeForSpeed` accepts a boolean"),l(0===this._rulesCount,"optimizeForSpeed cannot be when rules have already been inserted"),this.flush(),this._optimizeForSpeed=e,this.inject()},r.isOptimizeForSpeed=function(){return this._optimizeForSpeed},r.inject=function(){var e=this;if(l(!this._injected,"sheet already injected"),this._injected=!0,"u">typeof window&&this._optimizeForSpeed){this._tags[0]=this.makeStyleTag(this._name),this._optimizeForSpeed="insertRule"in this.getSheet(),this._optimizeForSpeed||(a||console.warn("StyleSheet: optimizeForSpeed mode not supported falling back to standard mode."),this.flush(),this._injected=!0);return}this._serverSheet={cssRules:[],insertRule:function(t,r){return"number"==typeof r?e._serverSheet.cssRules[r]={cssText:t}:e._serverSheet.cssRules.push({cssText:t}),r},deleteRule:function(t){e._serverSheet.cssRules[t]=null}}},r.getSheetForTag=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]},r.getSheet=function(){return this.getSheetForTag(this._tags[this._tags.length-1])},r.insertRule=function(e,t){if(l(o(e),"`insertRule` accepts only strings"),"u"<typeof window)return"number"!=typeof t&&(t=this._serverSheet.cssRules.length),this._serverSheet.insertRule(e,t),this._rulesCount++;if(this._optimizeForSpeed){var r=this.getSheet();"number"!=typeof t&&(t=r.cssRules.length);try{r.insertRule(e,t)}catch(t){return a||console.warn("StyleSheet: illegal rule: \n\n"+e+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),-1}}else{var i=this._tags[t];this._tags.push(this.makeStyleTag(this._name,e,i))}return this._rulesCount++},r.replaceRule=function(e,t){if(this._optimizeForSpeed||"u"<typeof window){var r="u">typeof window?this.getSheet():this._serverSheet;if(t.trim()||(t=this._deletedRulePlaceholder),!r.cssRules[e])return e;r.deleteRule(e);try{r.insertRule(t,e)}catch(i){a||console.warn("StyleSheet: illegal rule: \n\n"+t+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),r.insertRule(this._deletedRulePlaceholder,e)}}else{var i=this._tags[e];l(i,"old rule at index `"+e+"` not found"),i.textContent=t}return e},r.deleteRule=function(e){if("u"<typeof window)return void this._serverSheet.deleteRule(e);if(this._optimizeForSpeed)this.replaceRule(e,"");else{var t=this._tags[e];l(t,"rule at index `"+e+"` not found"),t.parentNode.removeChild(t),this._tags[e]=null}},r.flush=function(){this._injected=!1,this._rulesCount=0,"u">typeof window?(this._tags.forEach(function(e){return e&&e.parentNode.removeChild(e)}),this._tags=[]):this._serverSheet.cssRules=[]},r.cssRules=function(){var e=this;return"u"<typeof window?this._serverSheet.cssRules:this._tags.reduce(function(t,r){return r?t=t.concat(Array.prototype.map.call(e.getSheetForTag(r).cssRules,function(t){return t.cssText===e._deletedRulePlaceholder?null:t})):t.push(null),t},[])},r.makeStyleTag=function(e,t,r){t&&l(o(t),"makeStyleTag accepts only strings as second parameter");var i=document.createElement("style");this._nonce&&i.setAttribute("nonce",this._nonce),i.type="text/css",i.setAttribute("data-"+e,""),t&&i.appendChild(document.createTextNode(t));var n=document.head||document.getElementsByTagName("head")[0];return r?n.insertBefore(i,r):n.appendChild(i),i},t=[{key:"length",get:function(){return this._rulesCount}}],function(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(e.prototype,t),e}();function l(e,t){if(!e)throw Error("StyleSheet: "+t+".")}var d=function(e){for(var t=5381,r=e.length;r;)t=33*t^e.charCodeAt(--r);return t>>>0},u={};function f(e,t){if(!t)return"jsx-"+e;var r=String(t),i=e+r;return u[i]||(u[i]="jsx-"+d(e+"-"+r)),u[i]}function h(e,t){"u"<typeof window&&(t=t.replace(/\/style/gi,"\\/style"));var r=e+t;return u[r]||(u[r]=t.replace(/__jsx-style-dynamic-selector/g,e)),u[r]}var p=function(){function e(e){var t=void 0===e?{}:e,r=t.styleSheet,i=void 0===r?null:r,n=t.optimizeForSpeed,s=void 0!==n&&n;this._sheet=i||new c({name:"styled-jsx",optimizeForSpeed:s}),this._sheet.inject(),i&&"boolean"==typeof s&&(this._sheet.setOptimizeForSpeed(s),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),this._fromServer=void 0,this._indices={},this._instancesCounts={}}var t=e.prototype;return t.add=function(e){var t=this;void 0===this._optimizeForSpeed&&(this._optimizeForSpeed=Array.isArray(e.children),this._sheet.setOptimizeForSpeed(this._optimizeForSpeed),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),"u">typeof window&&!this._fromServer&&(this._fromServer=this.selectFromServer(),this._instancesCounts=Object.keys(this._fromServer).reduce(function(e,t){return e[t]=0,e},{}));var r=this.getIdAndRules(e),i=r.styleId,n=r.rules;if(i in this._instancesCounts){this._instancesCounts[i]+=1;return}var s=n.map(function(e){return t._sheet.insertRule(e)}).filter(function(e){return -1!==e});this._indices[i]=s,this._instancesCounts[i]=1},t.remove=function(e){var t=this,r=this.getIdAndRules(e).styleId;if(function(e,t){if(!e)throw Error("StyleSheetRegistry: "+t+".")}(r in this._instancesCounts,"styleId: `"+r+"` not found"),this._instancesCounts[r]-=1,this._instancesCounts[r]<1){var i=this._fromServer&&this._fromServer[r];i?(i.parentNode.removeChild(i),delete this._fromServer[r]):(this._indices[r].forEach(function(e){return t._sheet.deleteRule(e)}),delete this._indices[r]),delete this._instancesCounts[r]}},t.update=function(e,t){this.add(t),this.remove(e)},t.flush=function(){this._sheet.flush(),this._sheet.inject(),this._fromServer=void 0,this._indices={},this._instancesCounts={}},t.cssRules=function(){var e=this,t=this._fromServer?Object.keys(this._fromServer).map(function(t){return[t,e._fromServer[t]]}):[],r=this._sheet.cssRules();return t.concat(Object.keys(this._indices).map(function(t){return[t,e._indices[t].map(function(e){return r[e].cssText}).join(e._optimizeForSpeed?"":"\n")]}).filter(function(e){return!!e[1]}))},t.styles=function(e){var t,r;return t=this.cssRules(),void 0===(r=e)&&(r={}),t.map(function(e){var t=e[0],i=e[1];return s.default.createElement("style",{id:"__"+t,key:"__"+t,nonce:r.nonce?r.nonce:void 0,dangerouslySetInnerHTML:{__html:i}})})},t.getIdAndRules=function(e){var t=e.children,r=e.dynamic,i=e.id;if(r){var n=f(i,r);return{styleId:n,rules:Array.isArray(t)?t.map(function(e){return h(n,e)}):[h(n,t)]}}return{styleId:f(i),rules:Array.isArray(t)?t:[t]}},t.selectFromServer=function(){return Array.prototype.slice.call(document.querySelectorAll('[id^="__jsx-"]')).reduce(function(e,t){return e[t.id.slice(2)]=t,e},{})},e}(),m=n.createContext(null);function y(){return new p}function b(){return n.useContext(m)}m.displayName="StyleSheetContext";var g=s.default.useInsertionEffect||s.default.useLayoutEffect,x="u">typeof window?y():void 0;function w(e){var t=x||b();return t&&("u"<typeof window?t.add(e):g(function(){return t.add(e),function(){t.remove(e)}},[e.id,String(e.dynamic)])),null}w.dynamic=function(e){return e.map(function(e){return f(e[0],e[1])}).join(" ")},r.StyleRegistry=function(e){var t=e.registry,r=e.children,i=n.useContext(m),a=n.useState(function(){return i||t||y()})[0];return s.default.createElement(m.Provider,{value:a},r)},r.createStyleRegistry=y,r.style=w,r.useStyleRegistry=b},81186,(e,t,r)=>{t.exports=e.r(2537).style},14157,(e,t,r)=>{t.exports=e.r(57246)},78166,e=>{"use strict";let t,r,i,n,s,a,o,c,l,d;var u,f,h,p,m,y,b,g,x,w,v,E,_,I,S,T,j,N,B,C,k,O,A,R,D,U,P,q,F=e.i(72227),L=e.i(47272),$=e.i(81186);function M({onComplete:e}){let t,[r,i]=(0,L.useState)(0),[n,s]=(0,L.useState)(!1),[a,o]=(0,L.useState)({x:.5,y:.5}),c=(0,L.useRef)(null),l=(0,L.useCallback)(()=>{n||(s(!0),setTimeout(()=>e(),1200))},[e,n]);(0,L.useEffect)(()=>{let e=[setTimeout(()=>i(1),300),setTimeout(()=>i(2),1200),setTimeout(()=>i(3),2200),setTimeout(()=>i(4),3200),setTimeout(()=>i(5),4e3)];return()=>e.forEach(clearTimeout)},[]),(0,L.useEffect)(()=>{let e=e=>{o({x:e.clientX/window.innerWidth,y:e.clientY/window.innerHeight})};return window.addEventListener("mousemove",e),()=>window.removeEventListener("mousemove",e)},[]);let d=e=>({transform:`translate(${(a.x-.5)*e}px, ${(a.y-.5)*e}px)`});return(0,F.jsxs)("div",{ref:c,style:{background:"#faf9f7",clipPath:n?"circle(0% at 50% 50%)":"circle(150% at 50% 50%)",transition:n?"clip-path 1.2s cubic-bezier(0.76, 0, 0.24, 1)":"none"},className:"jsx-532d500bfc6d5d04 fixed inset-0 z-50 flex items-center justify-center overflow-hidden",children:[(0,F.jsx)("div",{style:{width:"60vmin",height:"60vmin",borderRadius:"50%",background:"radial-gradient(circle at 40% 40%, hsl(348 100% 85% / 0.4), hsl(348 100% 60% / 0.15) 50%, transparent 70%)",filter:"blur(60px)",opacity:+(r>=2),...(t=`scale(${r>=2?1:.3})`,{transform:`${t} translate(${(a.x-.5)*20}px, ${(a.y-.5)*20}px)`}),transition:"opacity 1.8s ease, transform 2s cubic-bezier(0.34, 1.56, 0.64, 1)"},"aria-hidden":"true",className:"jsx-532d500bfc6d5d04 absolute pointer-events-none"}),(0,F.jsx)("div",{style:{width:"30vmin",height:"30vmin",borderRadius:"50%",top:"25%",right:"20%",background:"radial-gradient(circle, hsl(260 80% 80% / 0.25), transparent 70%)",filter:"blur(50px)",opacity:.8*(r>=2),transition:"opacity 2s ease 0.3s",...d(-15)},"aria-hidden":"true",className:"jsx-532d500bfc6d5d04 absolute pointer-events-none"}),(0,F.jsxs)("svg",{viewBox:"0 0 1440 900",preserveAspectRatio:"xMidYMid slice","aria-hidden":"true",className:"jsx-532d500bfc6d5d04 absolute inset-0 w-full h-full pointer-events-none",children:[(0,F.jsx)("line",{x1:"0",y1:"450",x2:"1440",y2:"450",stroke:"hsl(0 0% 10% / 0.06)",strokeWidth:"1",strokeDasharray:"1440",strokeDashoffset:r>=1?"0":"1440",style:{transition:"stroke-dashoffset 1.5s cubic-bezier(0.65, 0, 0.35, 1)"},className:"jsx-532d500bfc6d5d04"}),(0,F.jsx)("line",{x1:"720",y1:"0",x2:"720",y2:"900",stroke:"hsl(0 0% 10% / 0.06)",strokeWidth:"1",strokeDasharray:"900",strokeDashoffset:r>=1?"0":"900",style:{transition:"stroke-dashoffset 1.5s cubic-bezier(0.65, 0, 0.35, 1) 0.2s"},className:"jsx-532d500bfc6d5d04"}),(0,F.jsx)("circle",{cx:"720",cy:"450",r:"280",fill:"none",stroke:"hsl(348 100% 60% / 0.08)",strokeWidth:"1",strokeDasharray:"1759.29",strokeDashoffset:r>=1?"0":"1759.29",style:{transition:"stroke-dashoffset 2s cubic-bezier(0.65, 0, 0.35, 1) 0.4s"},className:"jsx-532d500bfc6d5d04"}),(0,F.jsx)("circle",{cx:"720",cy:"450",r:"180",fill:"none",stroke:"hsl(0 0% 10% / 0.04)",strokeWidth:"1",strokeDasharray:"1130.97",strokeDashoffset:r>=1?"0":"1130.97",style:{transition:"stroke-dashoffset 2.2s cubic-bezier(0.65, 0, 0.35, 1) 0.6s"},className:"jsx-532d500bfc6d5d04"}),(0,F.jsx)("line",{x1:"300",y1:"150",x2:"1140",y2:"750",stroke:"hsl(348 100% 60% / 0.04)",strokeWidth:"1",strokeDasharray:"1131",strokeDashoffset:r>=1?"0":"1131",style:{transition:"stroke-dashoffset 2.5s cubic-bezier(0.65, 0, 0.35, 1) 0.3s"},className:"jsx-532d500bfc6d5d04"})]}),(0,F.jsx)("div",{style:{top:"15%",left:"12%",width:60,height:60,border:"1px solid hsl(348 100% 60% / 0.12)",borderRadius:"50%",opacity:+(r>=2),transform:`rotate(${45+30*a.x}deg)`,transition:"opacity 1s ease 0.2s"},"aria-hidden":"true",className:"jsx-532d500bfc6d5d04 absolute pointer-events-none"}),(0,F.jsx)("div",{style:{bottom:"20%",right:"15%",width:40,height:40,border:"1px solid hsl(0 0% 10% / 0.08)",transform:`rotate(${60*a.y}deg)`,opacity:+(r>=2),transition:"opacity 1s ease 0.4s"},"aria-hidden":"true",className:"jsx-532d500bfc6d5d04 absolute pointer-events-none"}),(0,F.jsx)("div",{style:{top:"70%",left:"20%",width:24,height:24,borderRadius:"2px",border:"1px solid hsl(348 100% 60% / 0.1)",transform:`rotate(${45+20*a.x}deg)`,opacity:+(r>=2),transition:"opacity 1s ease 0.6s"},"aria-hidden":"true",className:"jsx-532d500bfc6d5d04 absolute pointer-events-none"}),(0,F.jsx)("div",{style:{top:"25%",right:"25%",width:8,height:8,borderRadius:"50%",background:"hsl(348 100% 60% / 0.2)",opacity:+(r>=2),transition:"opacity 1s ease 0.8s",...d(-30)},"aria-hidden":"true",className:"jsx-532d500bfc6d5d04 absolute pointer-events-none"}),(0,F.jsx)("div",{style:{bottom:"35%",left:"30%",width:6,height:6,borderRadius:"50%",background:"hsl(260 80% 70% / 0.2)",opacity:+(r>=2),transition:"opacity 1s ease 1s",...d(25)},"aria-hidden":"true",className:"jsx-532d500bfc6d5d04 absolute pointer-events-none"}),(0,F.jsxs)("div",{style:d(8),className:"jsx-532d500bfc6d5d04 relative z-10 flex flex-col items-center",children:[(0,F.jsx)("span",{style:{color:"hsl(var(--muted-foreground))",opacity:+(r>=3),transform:r>=3?"translateY(0)":"translateY(-10px)",transition:"opacity 0.8s ease, transform 0.8s ease"},className:"jsx-532d500bfc6d5d04 block text-xs tracking-[0.4em] uppercase mb-8",children:"est. 2025"}),(0,F.jsxs)("div",{"aria-label":"TUAMS",className:"jsx-532d500bfc6d5d04 relative mb-4",children:[(0,F.jsx)("div",{className:"jsx-532d500bfc6d5d04 flex items-baseline",children:"TUAMS".split("").map((e,t)=>(0,F.jsx)("span",{className:"jsx-532d500bfc6d5d04 inline-block overflow-hidden",children:(0,F.jsx)("span",{style:{fontSize:"clamp(4rem, 15vw, 12rem)",lineHeight:.9,letterSpacing:"-0.02em",color:"hsl(var(--foreground))",transform:r>=3?"translateY(0) rotateX(0deg)":"translateY(110%) rotateX(-40deg)",opacity:+(r>=3),transition:`transform 1s cubic-bezier(0.16, 1, 0.3, 1) ${.1*t}s, opacity 0.6s ease ${.1*t}s`},className:"jsx-532d500bfc6d5d04 inline-block font-serif font-light",children:e})},`${e}-${t}`))}),(0,F.jsx)("div",{style:{background:"linear-gradient(90deg, hsl(var(--accent)), hsl(348 100% 75%), transparent)",width:r>=3?"100%":"0%",transition:"width 1.2s cubic-bezier(0.65, 0, 0.35, 1) 0.6s"},"aria-hidden":"true",className:"jsx-532d500bfc6d5d04 absolute -bottom-2 left-0 h-[2px]"})]}),(0,F.jsx)("div",{style:{width:80*(r>=4),height:1,background:"hsl(var(--foreground) / 0.15)",transition:"width 0.8s cubic-bezier(0.65, 0, 0.35, 1)"},"aria-hidden":"true",className:"jsx-532d500bfc6d5d04 my-6"}),(0,F.jsx)("p",{style:{color:"hsl(var(--muted-foreground))",opacity:+(r>=4),transform:r>=4?"translateY(0)":"translateY(16px)",transition:"opacity 1s ease, transform 1s ease"},className:"jsx-532d500bfc6d5d04 text-sm md:text-base tracking-[0.3em] uppercase",children:"bringing the new world"}),(0,F.jsxs)("button",{type:"button",onClick:l,style:{opacity:+(r>=5),transform:r>=5?"translateY(0)":"translateY(20px)",transition:"opacity 0.8s ease, transform 0.8s ease"},"aria-label":"Enter site",className:"jsx-532d500bfc6d5d04 group mt-12 relative cursor-pointer",children:[(0,F.jsx)("svg",{viewBox:"0 0 200 60","aria-hidden":"true",className:"jsx-532d500bfc6d5d04 absolute -inset-3 w-[calc(100%+24px)] h-[calc(100%+24px)] pointer-events-none",children:(0,F.jsx)("rect",{x:"1",y:"1",width:"198",height:"58",rx:"29",fill:"none",stroke:"hsl(348 100% 60% / 0.15)",strokeWidth:"1",strokeDasharray:"4 8",style:{animation:"spin 20s linear infinite"},className:"jsx-532d500bfc6d5d04 origin-center"})}),(0,F.jsxs)("span",{style:{background:"hsl(var(--card))",color:"hsl(var(--foreground))"},className:"jsx-532d500bfc6d5d04 inline-flex items-center gap-3 px-10 py-4 rounded-full text-xs font-medium uppercase tracking-[0.25em] border border-foreground/10 transition-all duration-500 group-hover:border-accent group-hover:text-accent-foreground group-hover:bg-accent group-hover:shadow-lg",children:[(0,F.jsx)("span",{className:"jsx-532d500bfc6d5d04",children:"Join"}),(0,F.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",className:"jsx-532d500bfc6d5d04 transition-transform duration-300 group-hover:translate-x-1",children:(0,F.jsx)("path",{d:"M3 8h10M9 4l4 4-4 4",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",className:"jsx-532d500bfc6d5d04"})})]})]})]}),r<5&&(0,F.jsx)("button",{type:"button",onClick:l,"aria-label":"Skip intro",className:"jsx-532d500bfc6d5d04 absolute bottom-8 right-8 z-20 text-xs text-muted-foreground/40 hover:text-muted-foreground transition-colors duration-300 cursor-pointer uppercase tracking-[0.2em]",children:"Skip"}),(0,F.jsx)($.default,{id:"532d500bfc6d5d04",children:"@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"})]})}let V=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},K=(...e)=>e.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim();var z={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let G=(0,L.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:i,className:n="",children:s,iconNode:a,...o},c)=>(0,L.createElement)("svg",{ref:c,...z,width:t,height:t,stroke:e,strokeWidth:i?24*Number(r)/Number(t):r,className:K("lucide",n),...!s&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(o)&&{"aria-hidden":"true"},...o},[...a.map(([e,t])=>(0,L.createElement)(e,t)),...Array.isArray(s)?s:[s]])),Y=(e,t)=>{let r=(0,L.forwardRef)(({className:r,...i},n)=>(0,L.createElement)(G,{ref:n,iconNode:t,className:K(`lucide-${V(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,r),...i}));return r.displayName=V(e),r},Z=Y("menu",[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]]),H=Y("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),W=[{label:"Work",href:"#work"},{label:"Services",href:"#services"},{label:"Founder",href:"/profile.html"}];function X(){let[e,t]=(0,L.useState)(!1),[r,i]=(0,L.useState)(!1);return(0,L.useEffect)(()=>{let e=()=>{t(window.scrollY>20)};return window.addEventListener("scroll",e,{passive:!0}),()=>window.removeEventListener("scroll",e)},[]),(0,F.jsxs)("nav",{className:`fixed top-0 left-0 right-0 z-40 transition-all duration-400 ${e?"bg-background/95 backdrop-blur-lg border-b border-border shadow-sm":"bg-transparent"}`,children:[(0,F.jsxs)("div",{className:"max-w-7xl mx-auto px-6 lg:px-8 flex items-center justify-between h-20",children:[(0,F.jsx)("a",{href:"#",className:"font-serif text-4xl font-bold tracking-wide text-foreground",children:"TUAMS"}),(0,F.jsxs)("ul",{className:"hidden md:flex items-center gap-10",children:[W.map(e=>(0,F.jsx)("li",{children:(0,F.jsx)("a",{href:e.href,className:"relative text-foreground font-medium text-sm transition-colors duration-300 hover:text-accent after:content-[''] after:absolute after:-bottom-1 after:left-0 after:w-0 after:h-0.5 after:bg-accent after:transition-all after:duration-300 hover:after:w-full",children:e.label})},e.href)),(0,F.jsx)("li",{children:(0,F.jsx)("a",{href:"#contact",className:"px-5 py-2.5 bg-foreground text-background rounded-full text-sm font-medium transition-all duration-300 hover:bg-accent hover:text-accent-foreground hover:-translate-y-0.5",children:"Contact"})})]}),(0,F.jsx)("button",{type:"button",className:"md:hidden text-foreground",onClick:()=>i(!r),"aria-label":"Toggle menu",children:r?(0,F.jsx)(H,{className:"w-6 h-6"}):(0,F.jsx)(Z,{className:"w-6 h-6"})})]}),r&&(0,F.jsx)("div",{className:"md:hidden bg-background/98 backdrop-blur-lg border-t border-border",children:(0,F.jsxs)("ul",{className:"flex flex-col gap-1 p-6",children:[W.map(e=>(0,F.jsx)("li",{children:(0,F.jsx)("a",{href:e.href,className:"block py-3 text-foreground font-medium text-lg transition-colors hover:text-accent",onClick:()=>i(!1),children:e.label})},e.href)),(0,F.jsx)("li",{className:"mt-4",children:(0,F.jsx)("a",{href:"#contact",className:"block text-center px-5 py-3 bg-foreground text-background rounded-full text-sm font-medium transition-all duration-300 hover:bg-accent hover:text-accent-foreground",onClick:()=>i(!1),children:"Contact"})})]})})]})}function J({word:e,x:t,y:r,delay:i,mousePos:n}){let s=t-n.x,a=r-n.y,o=Math.sqrt(s*s+a*a),c=o<250?(1-o/250)*60:0;return(0,F.jsx)("span",{className:"absolute font-serif italic text-foreground/[0.06] select-none pointer-events-none whitespace-nowrap",style:{left:`${t}%`,top:`${r}%`,fontSize:`clamp(0.75rem, ${1.2+.4*i}vw, 1.6rem)`,transform:`translate(-50%, -50%) translate(${o>0?s/o*c:0}px, ${o>0?a/o*c:0}px)`,transition:"transform 0.4s cubic-bezier(0.23, 1, 0.32, 1)",animationDelay:`${.2*i}s`,animation:`heroWordFloat ${6+1.5*i}s ease-in-out infinite`},children:e})}function Q({text:e,className:t,baseDelay:r,style:i}){let[n,s]=(0,L.useState)(!1),a=(0,L.useRef)(null);return(0,L.useEffect)(()=>{let e=setTimeout(()=>s(!0),1e3*r);return()=>clearTimeout(e)},[r]),(0,F.jsx)("span",{ref:a,className:t,style:i,"aria-label":e,children:e.split("").map((e,t)=>(0,F.jsx)("span",{className:"inline-block",style:{opacity:+!!n,transform:n?"translateY(0) rotateX(0deg)":"translateY(100%) rotateX(-80deg)",transition:"opacity 0.5s ease, transform 0.7s cubic-bezier(0.16, 1, 0.3, 1)",transitionDelay:`${.04*t}s`},children:" "===e?"Â ":e},`${e}-${t}`))})}function ee(){return(0,F.jsx)("div",{className:"absolute pointer-events-none",style:{width:"min(700px, 90vw)",height:"min(700px, 90vw)",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},"aria-hidden":"true",children:(0,F.jsxs)("svg",{viewBox:"0 0 500 500",className:"w-full h-full",children:[(0,F.jsx)("circle",{cx:"250",cy:"250",r:"220",fill:"none",stroke:"hsl(348, 100%, 60%)",strokeWidth:"0.5",strokeDasharray:"1382",strokeDashoffset:"1382",opacity:"0.2",style:{animation:"heroRingDraw 3s ease-out 0.5s forwards"}}),(0,F.jsx)("circle",{cx:"250",cy:"250",r:"190",fill:"none",stroke:"hsl(var(--foreground))",strokeWidth:"0.3",strokeDasharray:"6 12",opacity:"0.08",style:{animation:"heroRingSpin 60s linear infinite",transformOrigin:"250px 250px"}}),(0,F.jsx)("path",{d:"M 250 40 A 210 210 0 0 1 460 250",fill:"none",stroke:"hsl(348, 100%, 60%)",strokeWidth:"1",strokeDasharray:"330",strokeDashoffset:"330",strokeLinecap:"round",opacity:"0.3",style:{animation:"heroRingDraw 2s ease-out 1.2s forwards"}}),[0,45,90,135,180,225,270,315].map(e=>{let t=e*Math.PI/180,r=250+220*Math.cos(t),i=250+220*Math.sin(t);return(0,F.jsx)("circle",{cx:r,cy:i,r:"2",fill:"hsl(348, 100%, 60%)",opacity:"0",style:{animation:`heroDotAppear 0.5s ease-out ${1+.003*e}s forwards`}},e)}),(0,F.jsx)("line",{x1:"240",y1:"250",x2:"260",y2:"250",stroke:"hsl(var(--foreground))",strokeWidth:"0.5",opacity:"0.1"}),(0,F.jsx)("line",{x1:"250",y1:"240",x2:"250",y2:"260",stroke:"hsl(var(--foreground))",strokeWidth:"0.5",opacity:"0.1"})]})})}function et(){return(0,F.jsxs)("div",{className:"absolute inset-0 pointer-events-none overflow-hidden","aria-hidden":"true",children:[(0,F.jsx)("div",{className:"absolute",style:{top:"12%",left:"8%",width:"120px",height:"1px",background:"linear-gradient(90deg, transparent, hsl(348, 100%, 60%), transparent)",opacity:0,transform:"rotate(-30deg)",animation:"heroLineAppear 1s ease-out 1.5s forwards"}}),(0,F.jsx)("div",{className:"absolute",style:{bottom:"18%",right:"10%",width:"80px",height:"1px",background:"linear-gradient(90deg, transparent, hsl(var(--foreground)), transparent)",opacity:0,transform:"rotate(25deg)",animation:"heroLineAppear 1s ease-out 1.8s forwards"}}),(0,F.jsx)("div",{className:"absolute hidden md:block",style:{top:"20%",right:"15%",width:"1px",height:"60px",background:"linear-gradient(180deg, hsl(348, 100%, 60%), transparent)",opacity:0,animation:"heroLineAppear 1s ease-out 2s forwards"}})]})}let er=[{word:"Credibility",x:12,y:18},{word:"Privacy",x:82,y:15},{word:"Ownership",x:8,y:72},{word:"Decentralized",x:78,y:78},{word:"Trust",x:22,y:42},{word:"Verified",x:88,y:48},{word:"Secure",x:48,y:12},{word:"Freedom",x:52,y:88},{word:"On-Chain",x:15,y:90},{word:"Authentic",x:85,y:88}];function ei(){let e=(0,L.useRef)(null),[t,r]=(0,L.useState)({x:50,y:50}),[i,n]=(0,L.useState)(!1),[s,a]=(0,L.useState)(!1),[o,c]=(0,L.useState)(!1),[l,d]=(0,L.useState)(!1);(0,L.useEffect)(()=>{n(!0);let e=setTimeout(()=>a(!0),200),t=setTimeout(()=>c(!0),1800),r=setTimeout(()=>d(!0),2200);return()=>{clearTimeout(e),clearTimeout(t),clearTimeout(r)}},[]);let u=(0,L.useCallback)(t=>{if(!e.current)return;let i=e.current.getBoundingClientRect();r({x:(t.clientX-i.left)/i.width*100,y:(t.clientY-i.top)/i.height*100})},[]),f=(t.x-50)*.15,h=(t.y-50)*.15;return(0,F.jsxs)("section",{ref:e,onMouseMove:u,className:"relative min-h-screen flex items-center justify-center overflow-hidden pt-20 pb-24 px-6",children:[(0,F.jsx)("div",{className:"absolute inset-0 pointer-events-none transition-all duration-1000 ease-out","aria-hidden":"true",style:{background:`radial-gradient(circle at ${t.x}% ${t.y}%, rgba(255, 107, 107, 0.05) 0%, transparent 50%), radial-gradient(circle at ${100-t.x}% ${100-t.y}%, rgba(230, 220, 210, 0.08) 0%, transparent 40%)`}}),(0,F.jsx)("div",{style:{transform:`translate(${f}px, ${h}px)`,transition:"transform 0.6s cubic-bezier(0.23, 1, 0.32, 1)"},children:(0,F.jsx)(ee,{})}),i&&er.map((e,r)=>(0,F.jsx)(J,{word:e.word,x:e.x,y:e.y,delay:r,mousePos:t},e.word)),(0,F.jsx)(et,{}),(0,F.jsxs)("div",{className:"relative z-10 text-center max-w-5xl mx-auto",children:[(0,F.jsxs)("div",{className:"inline-flex items-center gap-2 px-5 py-2 bg-card border border-border rounded-full text-xs font-medium uppercase tracking-widest text-muted-foreground mb-10",style:{opacity:+!!s,transform:s?"translateY(0) scale(1)":"translateY(12px) scale(0.95)",transition:"all 0.8s cubic-bezier(0.23, 1, 0.32, 1)"},children:[(0,F.jsx)("span",{className:"w-1.5 h-1.5 rounded-full",style:{backgroundColor:"hsl(348, 100%, 60%)",animation:"pulse-soft 2s ease-in-out infinite"}}),"The Future of Social Media"]}),(0,F.jsxs)("h1",{className:"font-serif leading-none mb-8",children:[(0,F.jsx)(Q,{text:"social media of",className:"block text-base md:text-lg font-light tracking-[0.3em] uppercase text-muted-foreground mb-6",baseDelay:.5}),(0,F.jsxs)("span",{className:"block relative",children:[(0,F.jsx)("span",{style:{fontSize:"clamp(3rem, 10vw, 7.5rem)",lineHeight:"0.95",background:"linear-gradient(135deg, hsl(var(--foreground)) 0%, hsl(348, 100%, 60%) 60%, #ee5a6f 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:"NEW WORLD"}),(0,F.jsx)("svg",{className:"absolute -bottom-2 left-1/2 -translate-x-1/2",width:"200",height:"12",viewBox:"0 0 200 12",fill:"none","aria-hidden":"true",children:(0,F.jsx)("path",{d:"M 0 8 Q 50 0, 100 6 T 200 4",stroke:"hsl(348, 100%, 60%)",strokeWidth:"1.5",strokeLinecap:"round",strokeDasharray:"210",strokeDashoffset:"210",opacity:"0.5",style:{animation:"heroRingDraw 1.5s ease-out 1.6s forwards"}})})]})]}),(0,F.jsx)("p",{className:"text-muted-foreground text-lg md:text-xl max-w-xl mx-auto mb-12 leading-relaxed",style:{opacity:+!!o,transform:o?"translateY(0)":"translateY(16px)",transition:"all 1s cubic-bezier(0.23, 1, 0.32, 1)"},children:"We want to bring a new era of social media where users have full control over their data and content."}),(0,F.jsxs)("div",{className:"flex flex-wrap gap-5 justify-center items-center",style:{opacity:+!!l,transform:l?"translateY(0)":"translateY(20px)",transition:"all 1s cubic-bezier(0.23, 1, 0.32, 1)"},children:[(0,F.jsxs)("a",{href:"#services",className:"group relative px-10 py-4 rounded-full text-base font-medium overflow-hidden transition-transform duration-300 hover:-translate-y-1",style:{backgroundColor:"hsl(var(--foreground))",color:"hsl(var(--background))"},children:[(0,F.jsxs)("span",{className:"relative z-10 flex items-center gap-2",children:["Get started",(0,F.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",className:"transition-transform duration-300 group-hover:translate-x-1",children:(0,F.jsx)("path",{d:"M3 8h10M9 4l4 4-4 4",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})]}),(0,F.jsx)("span",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-500",style:{background:"linear-gradient(135deg, hsl(348, 100%, 60%) 0%, hsl(var(--foreground)) 50%)"}})]}),(0,F.jsx)("a",{href:"#contact",className:"px-8 py-4 rounded-full text-base font-medium border border-border text-muted-foreground transition-all duration-300 hover:border-foreground hover:text-foreground",children:"Learn more"})]})]}),(0,F.jsxs)("div",{className:"absolute bottom-8 left-1/2 -translate-x-1/2 flex flex-col items-center gap-3",style:{opacity:+!!l,transition:"opacity 1s ease 0.5s"},children:[(0,F.jsx)("span",{className:"text-xs text-muted-foreground uppercase tracking-widest",children:"Scroll"}),(0,F.jsx)("div",{className:"relative w-5 h-8 rounded-full border border-border flex justify-center",children:(0,F.jsx)("div",{className:"w-1 h-2 rounded-full mt-1.5",style:{backgroundColor:"hsl(348, 100%, 60%)",animation:"heroScrollDot 2s ease-in-out infinite"}})})]}),(0,F.jsx)("style",{children:`
        @keyframes heroRingDraw {
          to { stroke-dashoffset: 0; }
        }
        @keyframes heroRingSpin {
          to { transform: rotate(360deg); }
        }
        @keyframes heroDotAppear {
          to { opacity: 0.35; }
        }
        @keyframes heroLineAppear {
          to { opacity: 0.15; }
        }
        @keyframes heroWordFloat {
          0%, 100% { transform: translate(-50%, -50%) translateY(0px); }
          50% { transform: translate(-50%, -50%) translateY(-12px); }
        }
        @keyframes heroScrollDot {
          0%, 100% { opacity: 1; transform: translateY(0); }
          50% { opacity: 0.3; transform: translateY(8px); }
        }
      `})]})}let en=[{label:"Name",value:"Sarah Connor",encrypted:"****** ******"},{label:"Email",value:"sarah@mail.com",encrypted:"****@*****.com"},{label:"Location",value:"Los Angeles, CA",encrypted:"*** *******, **"},{label:"Phone",value:"+1 555 012 3456",encrypted:"+* *** *** ****"},{label:"Balance",value:"$12,340.00",encrypted:"$**,***.00"}];function es({label:e,value:t,encrypted:r,isVisible:i,delay:n}){let[s,a]=(0,L.useState)(t),[o,c]=(0,L.useState)(!1);return(0,L.useEffect)(()=>{if(!i)return;let e=setTimeout(()=>{let e=t.split(""),i=0,n="!@#$%^&*0123456789abcdef",s=setInterval(()=>{if(i>=e.length){clearInterval(s),a(r),c(!0);return}a(e.map((e,t)=>" "===e?" ":t<i?r[t]||"*":t===i?n[Math.floor(Math.random()*n.length)]:e).join("")),i++},60);return()=>clearInterval(s)},n);return()=>clearTimeout(e)},[i,t,r,n]),(0,F.jsxs)("div",{className:"flex items-center justify-between py-3 border-b border-border/50 last:border-b-0",style:{opacity:+!!i,transform:i?"translateX(0)":"translateX(20px)",transition:`opacity 0.6s ease ${.3*n}ms, transform 0.6s ease ${.3*n}ms`},children:[(0,F.jsx)("span",{className:"text-xs uppercase tracking-widest text-muted-foreground font-medium",children:e}),(0,F.jsx)("span",{className:"font-mono text-sm transition-colors duration-300",style:{color:o?"hsl(var(--accent))":"hsl(var(--foreground))"},children:s})]})}function ea({progress:e}){let t="M100 10 L180 50 C180 50 185 130 100 190 C15 130 20 50 20 50 Z",r="M75 115 L125 115 L125 145 L75 145 Z";return(0,F.jsxs)("svg",{viewBox:"0 0 200 200",className:"w-full h-full","aria-hidden":"true",children:[(0,F.jsxs)("defs",{children:[(0,F.jsxs)("radialGradient",{id:"shield-glow",cx:"50%",cy:"50%",r:"50%",children:[(0,F.jsx)("stop",{offset:"0%",stopColor:"hsl(348 100% 60%)",stopOpacity:"0.08"}),(0,F.jsx)("stop",{offset:"100%",stopColor:"hsl(348 100% 60%)",stopOpacity:"0"})]}),(0,F.jsxs)("linearGradient",{id:"shield-stroke",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[(0,F.jsx)("stop",{offset:"0%",stopColor:"hsl(348 100% 60%)",stopOpacity:"0.6"}),(0,F.jsx)("stop",{offset:"50%",stopColor:"hsl(348 100% 70%)",stopOpacity:"0.3"}),(0,F.jsx)("stop",{offset:"100%",stopColor:"hsl(348 100% 60%)",stopOpacity:"0.6"})]})]}),(0,F.jsx)("circle",{cx:"100",cy:"100",r:"90",fill:"url(#shield-glow)"}),(0,F.jsx)("path",{d:t,fill:"none",stroke:"url(#shield-stroke)",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeDasharray:520,strokeDashoffset:520-520*Math.min(1.5*e,1),style:{transition:"stroke-dashoffset 0.05s linear"}}),(0,F.jsx)("path",{d:t,fill:"hsl(348 100% 60% / 0.03)",stroke:"none",style:{opacity:+(e>.6),transition:"opacity 0.8s ease"}}),(0,F.jsx)("path",{d:"M80 115 L80 100 C80 85 88 75 100 75 C112 75 120 85 120 100 L120 115",fill:"none",stroke:"hsl(var(--foreground) / 0.3)",strokeWidth:"2",strokeLinecap:"round",strokeDasharray:100,strokeDashoffset:100-100*Math.max((e-.4)*2.5,0),style:{transition:"stroke-dashoffset 0.05s linear"}}),(0,F.jsx)("path",{d:r,fill:"none",stroke:"hsl(var(--foreground) / 0.3)",strokeWidth:"1.5",strokeLinejoin:"round",strokeDasharray:160,strokeDashoffset:160-160*Math.max((e-.5)*2.5,0),style:{transition:"stroke-dashoffset 0.05s linear"}}),(0,F.jsx)("path",{d:r,fill:"hsl(var(--foreground) / 0.04)",stroke:"none",style:{opacity:+(e>.8),transition:"opacity 0.5s ease"}}),(0,F.jsx)("circle",{cx:"100",cy:"130",r:"5",fill:"none",stroke:"hsl(348 100% 60% / 0.5)",strokeWidth:"1.5",strokeDasharray:32,strokeDashoffset:32-32*Math.max((e-.7)*3.5,0),style:{transition:"stroke-dashoffset 0.05s linear"}}),(0,F.jsx)("circle",{cx:"100",cy:"130",r:"4",fill:"hsl(348 100% 60% / 0.25)",style:{opacity:+(e>.9),transition:"opacity 0.4s ease"}}),[{cx:60,cy:40,delay:0},{cx:140,cy:40,delay:.1},{cx:50,cy:100,delay:.2},{cx:150,cy:100,delay:.15},{cx:100,cy:20,delay:.05}].map(({cx:t,cy:r,delay:i},n)=>(0,F.jsx)("circle",{cx:t,cy:r,r:"1.5",fill:"hsl(348 100% 60%)",style:{opacity:.4*(e>.9),transform:`scale(${+(e>.9)})`,transformOrigin:`${t}px ${r}px`,transition:`opacity 0.4s ease ${i}s, transform 0.4s ease ${i}s`}},`sparkle-${t}-${r}`))]})}function eo(){let e=(0,L.useRef)(null),t=(0,L.useRef)(null),[r,i]=(0,L.useState)(0),[n,s]=(0,L.useState)(!1),a=(0,L.useCallback)(()=>{if(!t.current)return;let e=t.current.getBoundingClientRect(),r=window.innerHeight,n=.3*r,s=e.top;s>r?i(0):s<n?i(1):i(1-(s-n)/(r-n))},[]);return(0,L.useEffect)(()=>(window.addEventListener("scroll",a,{passive:!0}),a(),()=>window.removeEventListener("scroll",a)),[a]),(0,L.useEffect)(()=>{let t=new IntersectionObserver(e=>{for(let t of e)t.isIntersecting&&(t.target.classList.add("animate-visible"),t.target.hasAttribute("data-trigger-encrypt")&&s(!0))},{threshold:.2}),r=e.current?.querySelectorAll("[data-animate]");return r?.forEach(e=>t.observe(e)),()=>t.disconnect()},[]),(0,F.jsxs)("section",{ref:e,id:"privacy",className:"jsx-ed36583116fc2e44 py-24 md:py-32 relative overflow-hidden",children:[(0,F.jsx)("div",{"aria-hidden":"true",style:{background:"radial-gradient(ellipse at 30% 50%, hsl(348 100% 60% / 0.03) 0%, transparent 60%)"},className:"jsx-ed36583116fc2e44 absolute inset-0 pointer-events-none"}),(0,F.jsxs)("div",{className:"jsx-ed36583116fc2e44 max-w-7xl mx-auto px-6 lg:px-8 relative z-10",children:[(0,F.jsxs)("div",{className:"jsx-ed36583116fc2e44 text-center mb-20",children:[(0,F.jsxs)("div",{"data-animate":!0,className:"jsx-ed36583116fc2e44 opacity-0 animate-on-scroll inline-flex items-center gap-2 px-5 py-2 bg-card border border-border rounded-full text-xs font-medium uppercase tracking-widest text-muted-foreground mb-6",children:[(0,F.jsxs)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",className:"jsx-ed36583116fc2e44",children:[(0,F.jsx)("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2",className:"jsx-ed36583116fc2e44"}),(0,F.jsx)("path",{d:"M7 11V7a5 5 0 0 1 10 0v4",className:"jsx-ed36583116fc2e44"})]}),"Your Data, Your Rules"]}),(0,F.jsx)("h2",{"data-animate":!0,className:"jsx-ed36583116fc2e44 opacity-0 animate-on-scroll font-serif text-4xl md:text-5xl lg:text-6xl font-light text-foreground text-balance",children:(0,F.jsx)("span",{style:{color:"hsl(var(--accent))"},className:"jsx-ed36583116fc2e44 font-semibold italic",children:"Your privacy is our priority."})})]}),(0,F.jsxs)("div",{className:"jsx-ed36583116fc2e44 grid grid-cols-1 lg:grid-cols-2 gap-16 lg:gap-20 items-center",children:[(0,F.jsxs)("div",{ref:t,className:"jsx-ed36583116fc2e44 relative flex items-center justify-center",children:[(0,F.jsx)("div",{className:"jsx-ed36583116fc2e44 w-64 h-64 md:w-80 md:h-80 relative",children:(0,F.jsx)(ea,{progress:r})}),(0,F.jsx)("div",{"aria-hidden":"true",style:{opacity:.6*(r>.5),transition:"opacity 1s ease"},className:"jsx-ed36583116fc2e44 absolute inset-0 pointer-events-none",children:[0,60,120,180,240,300].map(e=>(0,F.jsx)("div",{style:{background:"hsl(var(--accent))",top:"50%",left:"50%",transform:`rotate(${e}deg) translateY(-140px)`,animation:`orbitPulse 3s ease-in-out ${5*e}ms infinite alternate`},className:"jsx-ed36583116fc2e44 absolute w-1.5 h-1.5 rounded-full"},e))})]}),(0,F.jsxs)("div",{className:"jsx-ed36583116fc2e44",children:[(0,F.jsx)("p",{"data-animate":!0,className:"jsx-ed36583116fc2e44 opacity-0 animate-on-scroll text-muted-foreground text-lg leading-relaxed mb-10",children:"Every piece of your personal information is encrypted end-to-end. We never see it, we never store it in plain text, and we never sell it. Watch how your data looks to everyone else:"}),(0,F.jsxs)("div",{"data-animate":!0,"data-trigger-encrypt":!0,className:"jsx-ed36583116fc2e44 opacity-0 animate-on-scroll bg-card border border-border rounded-2xl p-6 md:p-8 shadow-sm",children:[(0,F.jsxs)("div",{className:"jsx-ed36583116fc2e44 flex items-center gap-3 mb-6 pb-4 border-b border-border",children:[(0,F.jsx)("div",{style:{background:"hsl(var(--accent) / 0.1)"},className:"jsx-ed36583116fc2e44 w-8 h-8 rounded-full flex items-center justify-center",children:(0,F.jsx)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"hsl(var(--accent))",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",className:"jsx-ed36583116fc2e44",children:(0,F.jsx)("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",className:"jsx-ed36583116fc2e44"})})}),(0,F.jsxs)("div",{className:"jsx-ed36583116fc2e44",children:[(0,F.jsx)("p",{className:"jsx-ed36583116fc2e44 text-sm font-medium text-foreground",children:"User Profile"}),(0,F.jsx)("p",{className:"jsx-ed36583116fc2e44 text-xs text-muted-foreground",children:"End-to-end encrypted"})]}),(0,F.jsxs)("div",{style:{background:"hsl(var(--accent) / 0.08)",color:"hsl(var(--accent))"},className:"jsx-ed36583116fc2e44 ml-auto flex items-center gap-1.5 px-3 py-1 rounded-full text-xs font-medium",children:[(0,F.jsx)("span",{style:{background:"hsl(var(--accent))"},className:"jsx-ed36583116fc2e44 w-1.5 h-1.5 rounded-full"}),"Protected"]})]}),en.map((e,t)=>(0,F.jsx)(es,{label:e.label,value:e.value,encrypted:e.encrypted,isVisible:n,delay:800+400*t},e.label)),(0,F.jsxs)("div",{style:{opacity:+!!n,transition:"opacity 0.8s ease 3.5s"},className:"jsx-ed36583116fc2e44 mt-6 pt-4 border-t border-border flex items-center gap-2",children:[(0,F.jsx)("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"hsl(150 60% 45%)",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",className:"jsx-ed36583116fc2e44",children:(0,F.jsx)("path",{d:"M20 6 9 17l-5-5",className:"jsx-ed36583116fc2e44"})}),(0,F.jsx)("span",{className:"jsx-ed36583116fc2e44 text-xs text-muted-foreground",children:"All fields encrypted with AES-256 on-chain"})]})]})]})]}),(0,F.jsx)("div",{className:"jsx-ed36583116fc2e44 mt-20 grid grid-cols-1 sm:grid-cols-3 gap-6",children:[{icon:(0,F.jsx)("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",className:"jsx-ed36583116fc2e44"}),title:"Credibility",desc:"We can never read your data. By design, not by promise."},{icon:(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)("circle",{cx:"12",cy:"12",r:"10",className:"jsx-ed36583116fc2e44"}),(0,F.jsx)("path",{d:"m9 12 2 2 4-4",className:"jsx-ed36583116fc2e44"})]}),title:"Transparency",desc:"Every encryption event is logged on-chain for full transparency."},{icon:(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2",className:"jsx-ed36583116fc2e44"}),(0,F.jsx)("path",{d:"M7 11V7a5 5 0 0 1 10 0v4",className:"jsx-ed36583116fc2e44"})]}),title:"Privacy",desc:"Only you hold the keys. Not us, not anyone else."}].map((e,t)=>(0,F.jsxs)("div",{"data-animate":!0,style:{animationDelay:`${.12*t}s`},className:"jsx-ed36583116fc2e44 opacity-0 animate-on-scroll bg-card border border-border rounded-2xl p-6 text-center transition-all duration-300 hover:-translate-y-1 hover:shadow-md hover:border-accent/30",children:[(0,F.jsx)("div",{style:{background:"hsl(var(--accent) / 0.06)"},className:"jsx-ed36583116fc2e44 w-12 h-12 mx-auto mb-4 rounded-xl flex items-center justify-center",children:(0,F.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"hsl(var(--accent))",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",className:"jsx-ed36583116fc2e44",children:e.icon})}),(0,F.jsx)("h3",{className:"jsx-ed36583116fc2e44 font-serif text-lg font-semibold text-foreground mb-2",children:e.title}),(0,F.jsx)("p",{className:"jsx-ed36583116fc2e44 text-sm text-muted-foreground leading-relaxed",children:e.desc})]},e.title))})]}),(0,F.jsx)($.default,{id:"ed36583116fc2e44",children:"@keyframes orbitPulse{0%{opacity:.3;transform:rotate(inherit)translateY(-140px)scale(.8)}to{opacity:.8;transform:rotate(inherit)translateY(-140px)scale(1.2)}}"})]})}let ec=[{number:2,suffix:"+",label:"Projects Delivered"},{number:98,suffix:"%",label:"Client Satisfaction"},{number:10,suffix:"+",label:"Years Experience"},{number:1,suffix:"",label:"Team Members"}];function el({target:e,suffix:t,inView:r}){let[i,n]=(0,L.useState)(0);return(0,L.useEffect)(()=>{if(!r)return;let t=Date.now(),i=()=>{let r=Math.min((Date.now()-t)/2e3,1);n(Math.floor((1-Math.pow(1-r,3))*e)),r<1&&requestAnimationFrame(i)};requestAnimationFrame(i)},[r,e]),(0,F.jsxs)("span",{children:[i,t]})}function ed(){let e=(0,L.useRef)(null),[t,r]=(0,L.useState)(!1);return(0,L.useEffect)(()=>{let t=new IntersectionObserver(([e])=>{e.isIntersecting&&r(!0)},{threshold:.3});return e.current&&t.observe(e.current),()=>t.disconnect()},[]),(0,F.jsx)("section",{ref:e,className:"py-20 bg-card",children:(0,F.jsx)("div",{className:"max-w-7xl mx-auto px-6 lg:px-8",children:(0,F.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8 md:gap-16",children:ec.map(e=>(0,F.jsxs)("div",{className:"text-center",children:[(0,F.jsx)("div",{className:"font-serif text-5xl md:text-6xl font-bold text-foreground mb-2",children:(0,F.jsx)(el,{target:e.number,suffix:e.suffix,inView:t})}),(0,F.jsx)("div",{className:"text-muted-foreground text-sm uppercase tracking-widest",children:e.label})]},e.label))})})})}var eu=e.i(14157);let ef=Y("message-square",[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]]),eh=Y("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),ep=Y("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),em=Y("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);var ey=e.i(86072);(u=I||(I={}))[u.SysFatal=1]="SysFatal",u[u.SysTransient=2]="SysTransient",u[u.DestinationInvalid=3]="DestinationInvalid",u[u.CanisterReject=4]="CanisterReject",u[u.CanisterError=5]="CanisterError",(f=S||(S={})).Replied="replied",f.Rejected="rejected";let eb="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;function eg(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function ex(e,...t){if(!eg(e))throw Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw Error("Uint8Array expected of length "+t+", got length="+e.length)}function ew(e,t=!0){if(e.destroyed)throw Error("Hash instance has been destroyed");if(t&&e.finished)throw Error("Hash#digest() has already been called")}function ev(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function eE(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function e_(e,t){return e<<32-t|e>>>t}let eI="function"==typeof Uint8Array.from([]).toHex&&"function"==typeof Uint8Array.fromHex,eS=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function eT(e){if(ex(e),eI)return e.toHex();let t="";for(let r=0;r<e.length;r++)t+=eS[e[r]];return t}function ej(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:void 0}function eN(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);if(eI)return Uint8Array.fromHex(e);let t=e.length,r=t/2;if(t%2)throw Error("hex string expected, got unpadded hex of length "+t);let i=new Uint8Array(r);for(let t=0,n=0;t<r;t++,n+=2){let r=ej(e.charCodeAt(n)),s=ej(e.charCodeAt(n+1));if(void 0===r||void 0===s)throw Error('hex string expected, got non-hex character "'+(e[n]+e[n+1])+'" at index '+n);i[t]=16*r+s}return i}function eB(e){if("string"!=typeof e)throw Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function eC(e){return"string"==typeof e&&(e=eB(e)),ex(e),e}function ek(...e){let t=0;for(let r=0;r<e.length;r++){let i=e[r];ex(i),t+=i.length}let r=new Uint8Array(t);for(let t=0,i=0;t<e.length;t++){let n=e[t];r.set(n,i),i+=n.length}return r}class eO{}function eA(e){let t=t=>e().update(eC(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function eR(e=32){if(eb&&"function"==typeof eb.getRandomValues)return eb.getRandomValues(new Uint8Array(e));if(eb&&"function"==typeof eb.randomBytes)return Uint8Array.from(eb.randomBytes(e));throw Error("crypto.getRandomValues must be defined")}(h=T||(T={})).Trust="Trust",h.Protocol="Protocol",h.Reject="Reject",h.Transport="Transport",h.External="External",h.Limit="Limit",h.Input="Input",h.Unknown="Unknown";class eD{constructor(e=!1){this.isCertified=e}toString(){let e=this.toErrorMessage();return this.requestContext&&(e+=`
Request context:
  Request ID (hex): ${this.requestContext.requestId?eT(this.requestContext.requestId):"undefined"}
  Sender pubkey (hex): ${eT(this.requestContext.senderPubKey)}
  Sender signature (hex): ${eT(this.requestContext.senderSignature)}
  Ingress expiry: ${this.requestContext.ingressExpiry.toString()}`),this.callContext&&(e+=`
Call context:
  Canister ID: ${this.callContext.canisterId.toText()}
  Method name: ${this.callContext.methodName}
  HTTP details: ${JSON.stringify(this.callContext.httpDetails,null,2)}`),e}}class eU extends Error{get code(){return this.cause.code}set code(e){this.cause.code=e}get kind(){return this.cause.kind}set kind(e){this.cause.kind=e}get isCertified(){return this.code.isCertified}constructor(e,t){super(e.toString()),this.name="AgentError",this.cause={code:e,kind:t},Object.setPrototypeOf(this,eU.prototype)}hasCode(e){return this.code instanceof e}toString(){return`${this.name} (${this.kind}): ${this.message}`}}class eP extends eU{static fromCode(e){return new this(e)}}class eq extends eP{constructor(e){super(e,T.Trust),this.name="TrustError",Object.setPrototypeOf(this,eq.prototype)}}class eF extends eP{constructor(e){super(e,T.Protocol),this.name="ProtocolError",Object.setPrototypeOf(this,eF.prototype)}}class eL extends eP{constructor(e){super(e,T.Reject),this.name="RejectError",Object.setPrototypeOf(this,eL.prototype)}}class e$ extends eP{constructor(e){super(e,T.Transport),this.name="TransportError",Object.setPrototypeOf(this,e$.prototype)}}class eM extends eP{constructor(e){super(e,T.External),this.name="ExternalError",Object.setPrototypeOf(this,eM.prototype)}}class eV extends eP{constructor(e){super(e,T.Input),this.name="InputError",Object.setPrototypeOf(this,eV.prototype)}}class eK extends eP{constructor(e){super(e,T.Unknown),this.name="UnknownError",Object.setPrototypeOf(this,eK.prototype)}}class ez extends eD{constructor(e,t){super(),this.reason=e,this.error=t,this.name="CertificateVerificationErrorCode",Object.setPrototypeOf(this,ez.prototype)}toErrorMessage(){let e=this.reason;return this.error&&(e+=`: ${tx(this.error)}`),`Certificate verification error: "${e}"`}}class eG extends eD{constructor(e,t,r,i,n){super(),this.maxAgeInMinutes=e,this.certificateTime=t,this.currentTime=r,this.timeDiffMsecs=i,this.ageType=n,this.name="CertificateTimeErrorCode",Object.setPrototypeOf(this,eG.prototype)}toErrorMessage(){return`Certificate is signed more than ${this.maxAgeInMinutes} minutes in the ${this.ageType}. Certificate time: ${this.certificateTime.toISOString()} Current time: ${this.currentTime.toISOString()} Clock drift: ${this.timeDiffMsecs}ms`}}class eY extends eD{constructor(){super(),this.name="CertificateHasTooManyDelegationsErrorCode",Object.setPrototypeOf(this,eY.prototype)}toErrorMessage(){return"Certificate has too many delegations"}}class eZ extends eD{constructor(e,t){super(),this.canisterId=e,this.subnetId=t,this.name="CertificateNotAuthorizedErrorCode",Object.setPrototypeOf(this,eZ.prototype)}toErrorMessage(){return`The certificate contains a delegation that does not include the canister ${this.canisterId.toText()} in the canister_ranges field. Subnet ID: ${this.subnetId.toText()}`}}class eH extends eD{constructor(e,t){super(),this.message=e,this.lookupStatus=t,this.name="LookupErrorCode",Object.setPrototypeOf(this,eH.prototype)}toErrorMessage(){return`${this.message}. Lookup status: ${this.lookupStatus}`}}class eW extends eD{constructor(e){super(),this.message=e,this.name="MalformedLookupFoundValueErrorCode",Object.setPrototypeOf(this,eW.prototype)}toErrorMessage(){return this.message}}class eX extends eD{constructor(e){super(),this.message=e,this.name="MissingLookupValueErrorCode",Object.setPrototypeOf(this,eX.prototype)}toErrorMessage(){return this.message}}class eJ extends eD{constructor(e,t){super(),this.expectedLength=e,this.actualLength=t,this.name="DerKeyLengthMismatchErrorCode",Object.setPrototypeOf(this,eJ.prototype)}toErrorMessage(){return`BLS DER-encoded public key must be ${this.expectedLength} bytes long, but is ${this.actualLength} bytes long`}}class eQ extends eD{constructor(e,t){super(),this.expectedPrefix=e,this.actualPrefix=t,this.name="DerPrefixMismatchErrorCode",Object.setPrototypeOf(this,eQ.prototype)}toErrorMessage(){return`BLS DER-encoded public key is invalid. Expected the following prefix: ${eT(this.expectedPrefix)}, but got ${eT(this.actualPrefix)}`}}class e0 extends eD{constructor(e,t){super(),this.expectedLength=e,this.actualLength=t,this.name="DerDecodeLengthMismatchErrorCode",Object.setPrototypeOf(this,e0.prototype)}toErrorMessage(){return`DER payload mismatch: Expected length ${this.expectedLength}, actual length: ${this.actualLength}`}}class e1 extends eD{constructor(e){super(),this.error=e,this.name="DerDecodeErrorCode",Object.setPrototypeOf(this,e1.prototype)}toErrorMessage(){return`Failed to decode DER: ${this.error}`}}class e2 extends eD{constructor(e){super(),this.error=e,this.name="DerEncodeErrorCode",Object.setPrototypeOf(this,e2.prototype)}toErrorMessage(){return`Failed to encode DER: ${this.error}`}}class e6 extends eD{constructor(e,t){super(),this.error=e,this.input=t,this.name="CborDecodeErrorCode",Object.setPrototypeOf(this,e6.prototype)}toErrorMessage(){return`Failed to decode CBOR: ${tx(this.error)}, input: ${eT(this.input)}`}}class e5 extends eD{constructor(e,t){super(),this.error=e,this.value=t,this.name="CborEncodeErrorCode",Object.setPrototypeOf(this,e5.prototype)}toErrorMessage(){return`Failed to encode CBOR: ${tx(this.error)}, input: ${this.value}`}}class e3 extends eD{constructor(e,t,r){super(),this.message=e,this.requestId=t,this.status=r,this.name="TimeoutWaitingForResponseErrorCode",Object.setPrototypeOf(this,e3.prototype)}toErrorMessage(){let e=`${this.message}
`;return this.requestId&&(e+=`  Request ID: ${eT(this.requestId)}
`),this.status&&(e+=`  Request status: ${this.status}
`),e}}class e8 extends eD{constructor(e,t,r){super(),this.maxIngressExpiryInMinutes=e,this.requestId=t,this.retryTimes=r,this.name="CertificateOutdatedErrorCode",Object.setPrototypeOf(this,e8.prototype)}toErrorMessage(){let e=`Certificate is stale (over ${this.maxIngressExpiryInMinutes} minutes). Is the computer's clock synchronized?
  Request ID: ${eT(this.requestId)}
`;return void 0!==this.retryTimes&&(e+=`  Retried ${this.retryTimes} times.`),e}}class e4 extends eD{constructor(e,t,r,i){super(!0),this.requestId=e,this.rejectCode=t,this.rejectMessage=r,this.rejectErrorCode=i,this.name="CertifiedRejectErrorCode",Object.setPrototypeOf(this,e4.prototype)}toErrorMessage(){return`The replica returned a rejection error:
  Request ID: ${eT(this.requestId)}
  Reject code: ${this.rejectCode}
  Reject text: ${this.rejectMessage}
  Error code: ${this.rejectErrorCode}
`}}class e7 extends eD{constructor(e,t,r,i,n){super(),this.requestId=e,this.rejectCode=t,this.rejectMessage=r,this.rejectErrorCode=i,this.signatures=n,this.name="UncertifiedRejectErrorCode",Object.setPrototypeOf(this,e7.prototype)}toErrorMessage(){return`The replica returned a rejection error:
  Request ID: ${eT(this.requestId)}
  Reject code: ${this.rejectCode}
  Reject text: ${this.rejectMessage}
  Error code: ${this.rejectErrorCode}
`}}class e9 extends eD{constructor(e,t,r,i){super(),this.requestId=e,this.rejectCode=t,this.rejectMessage=r,this.rejectErrorCode=i,this.name="UncertifiedRejectUpdateErrorCode",Object.setPrototypeOf(this,e9.prototype)}toErrorMessage(){return`The replica returned a rejection error:
  Request ID: ${eT(this.requestId)}
  Reject code: ${this.rejectCode}
  Reject text: ${this.rejectMessage}
  Error code: ${this.rejectErrorCode}
`}}class te extends eD{constructor(e){super(),this.requestId=e,this.name="RequestStatusDoneNoReplyErrorCode",Object.setPrototypeOf(this,te.prototype)}toErrorMessage(){return`Call was marked as done but we never saw the reply:
  Request ID: ${eT(this.requestId)}
`}}class tt extends eD{constructor(e){super(),this.shouldFetchRootKey=e,this.name="MissingRootKeyErrorCode",Object.setPrototypeOf(this,tt.prototype)}toErrorMessage(){return void 0===this.shouldFetchRootKey?"Agent is missing root key":`Agent is missing root key and the shouldFetchRootKey value is set to ${this.shouldFetchRootKey}. The root key should only be unknown if you are in local development. Otherwise you should avoid fetching and use the default IC Root Key or the known root key of your environment.`}}class tr extends eD{constructor(e){super(),this.value=e,this.name="HashValueErrorCode",Object.setPrototypeOf(this,tr.prototype)}toErrorMessage(){return`Attempt to hash a value of unsupported type: ${this.value}`}}class ti extends eD{constructor(e){super(),this.error=e,this.name="HttpDefaultFetchErrorCode",Object.setPrototypeOf(this,ti.prototype)}toErrorMessage(){return this.error}}class tn extends eD{constructor(){super(),this.name="IdentityInvalidErrorCode",Object.setPrototypeOf(this,tn.prototype)}toErrorMessage(){return"This identity has expired due this application's security policy. Please refresh your authentication."}}class ts extends eD{constructor(e,t){super(),this.message=e,this.providedIngressExpiryInMinutes=t,this.name="IngressExpiryInvalidErrorCode",Object.setPrototypeOf(this,ts.prototype)}toErrorMessage(){return`${this.message}. Provided ingress expiry time is ${this.providedIngressExpiryInMinutes} minutes.`}}class ta extends eD{constructor(){super(),this.name="CreateHttpAgentErrorCode",Object.setPrototypeOf(this,ta.prototype)}toErrorMessage(){return"Failed to create agent from provided agent"}}class to extends eD{constructor(e){super(),this.error=e,this.name="MalformedSignatureErrorCode",Object.setPrototypeOf(this,to.prototype)}toErrorMessage(){return`Query response contained a malformed signature: ${this.error}`}}class tc extends eD{constructor(){super(),this.name="MissingSignatureErrorCode",Object.setPrototypeOf(this,tc.prototype)}toErrorMessage(){return"Query response did not contain any node signatures"}}class tl extends eD{constructor(){super(),this.name="MalformedPublicKeyErrorCode",Object.setPrototypeOf(this,tl.prototype)}toErrorMessage(){return"Read state response contained a malformed public key"}}class td extends eD{constructor(e){super(),this.nodeId=e,this.name="QuerySignatureVerificationFailedErrorCode",Object.setPrototypeOf(this,td.prototype)}toErrorMessage(){return`Query signature verification failed. Node ID: ${this.nodeId}`}}class tu extends eD{constructor(e){super(),this.error=e,this.name="UnexpectedErrorCode",Object.setPrototypeOf(this,tu.prototype)}toErrorMessage(){return`Unexpected error: ${tx(this.error)}`}}class tf extends eD{constructor(e){super(),this.error=e,this.name="HashTreeDecodeErrorCode",Object.setPrototypeOf(this,tf.prototype)}toErrorMessage(){return`Failed to decode certificate: ${this.error}`}}class th extends eD{constructor(e,t,r,i){super(),this.status=e,this.statusText=t,this.headers=r,this.bodyText=i,this.name="HttpErrorCode",Object.setPrototypeOf(this,th.prototype)}toErrorMessage(){let e=`HTTP request failed:
  Status: ${this.status} (${this.statusText})
  Headers: ${JSON.stringify(this.headers)}
`;return this.bodyText&&(e+=`  Body: ${this.bodyText}
`),e}}class tp extends eD{constructor(){super(),this.name="HttpV3ApiNotSupportedErrorCode",Object.setPrototypeOf(this,tp.prototype)}toErrorMessage(){return"HTTP request failed: v3 API is not supported"}}class tm extends eD{constructor(e){super(),this.error=e,this.name="HttpFetchErrorCode",Object.setPrototypeOf(this,tm.prototype)}toErrorMessage(){return`Failed to fetch HTTP request: ${tx(this.error)}`}}class ty extends eD{constructor(e){super(),this.receivedCanisterId=e,this.name="MissingCanisterIdErrorCode",Object.setPrototypeOf(this,ty.prototype)}toErrorMessage(){return`Canister ID is required, but received ${typeof this.receivedCanisterId} instead. If you are using automatically generated declarations, this may be because your application is not setting the canister ID in process.env correctly.`}}class tb extends eD{constructor(e){super(),this.request=e,this.name="InvalidReadStateRequestErrorCode",Object.setPrototypeOf(this,tb.prototype)}toErrorMessage(){return`Invalid read state request: ${this.request}`}}class tg extends eD{constructor(e){super(),this.error=e,this.name="ExpiryJsonDeserializeErrorCode",Object.setPrototypeOf(this,tg.prototype)}toErrorMessage(){return`Failed to deserialize expiry: ${this.error}`}}function tx(e){if(e instanceof Error)return e.stack??e.message;try{return JSON.stringify(e)}catch{return String(e)}}let tw=Error("unreachable"),tv="abcdefghijklmnopqrstuvwxyz234567",tE=Object.create(null);for(let e=0;e<tv.length;e++)tE[tv[e]]=e;tE["0"]=tE.o,tE["1"]=tE.i;let t_=new Uint32Array([0,0x77073096,0xee0e612c,0x990951ba,0x76dc419,0x706af48f,0xe963a535,0x9e6495a3,0xedb8832,0x79dcb8a4,0xe0d5e91e,0x97d2d988,0x9b64c2b,0x7eb17cbd,0xe7b82d07,0x90bf1d91,0x1db71064,0x6ab020f2,0xf3b97148,0x84be41de,0x1adad47d,0x6ddde4eb,0xf4d4b551,0x83d385c7,0x136c9856,0x646ba8c0,0xfd62f97a,0x8a65c9ec,0x14015c4f,0x63066cd9,0xfa0f3d63,0x8d080df5,0x3b6e20c8,0x4c69105e,0xd56041e4,0xa2677172,0x3c03e4d1,0x4b04d447,0xd20d85fd,0xa50ab56b,0x35b5a8fa,0x42b2986c,0xdbbbc9d6,0xacbcf940,0x32d86ce3,0x45df5c75,0xdcd60dcf,0xabd13d59,0x26d930ac,0x51de003a,0xc8d75180,0xbfd06116,0x21b4f4b5,0x56b3c423,0xcfba9599,0xb8bda50f,0x2802b89e,0x5f058808,0xc60cd9b2,0xb10be924,0x2f6f7c87,0x58684c11,0xc1611dab,0xb6662d3d,0x76dc4190,0x1db7106,0x98d220bc,0xefd5102a,0x71b18589,0x6b6b51f,0x9fbfe4a5,0xe8b8d433,0x7807c9a2,0xf00f934,0x9609a88e,0xe10e9818,0x7f6a0dbb,0x86d3d2d,0x91646c97,0xe6635c01,0x6b6b51f4,0x1c6c6162,0x856530d8,0xf262004e,0x6c0695ed,0x1b01a57b,0x8208f4c1,0xf50fc457,0x65b0d9c6,0x12b7e950,0x8bbeb8ea,0xfcb9887c,0x62dd1ddf,0x15da2d49,0x8cd37cf3,0xfbd44c65,0x4db26158,0x3ab551ce,0xa3bc0074,0xd4bb30e2,0x4adfa541,0x3dd895d7,0xa4d1c46d,0xd3d6f4fb,0x4369e96a,0x346ed9fc,0xad678846,0xda60b8d0,0x44042d73,0x33031de5,0xaa0a4c5f,0xdd0d7cc9,0x5005713c,0x270241aa,0xbe0b1010,0xc90c2086,0x5768b525,0x206f85b3,0xb966d409,0xce61e49f,0x5edef90e,0x29d9c998,0xb0d09822,0xc7d7a8b4,0x59b33d17,0x2eb40d81,0xb7bd5c3b,0xc0ba6cad,0xedb88320,0x9abfb3b6,0x3b6e20c,0x74b1d29a,0xead54739,0x9dd277af,0x4db2615,0x73dc1683,0xe3630b12,0x94643b84,0xd6d6a3e,0x7a6a5aa8,0xe40ecf0b,0x9309ff9d,0xa00ae27,0x7d079eb1,0xf00f9344,0x8708a3d2,0x1e01f268,0x6906c2fe,0xf762575d,0x806567cb,0x196c3671,0x6e6b06e7,0xfed41b76,0x89d32be0,0x10da7a5a,0x67dd4acc,0xf9b9df6f,0x8ebeeff9,0x17b7be43,0x60b08ed5,0xd6d6a3e8,0xa1d1937e,0x38d8c2c4,0x4fdff252,0xd1bb67f1,0xa6bc5767,0x3fb506dd,0x48b2364b,0xd80d2bda,0xaf0a1b4c,0x36034af6,0x41047a60,0xdf60efc3,0xa867df55,0x316e8eef,0x4669be79,0xcb61b38c,0xbc66831a,0x256fd2a0,0x5268e236,0xcc0c7795,0xbb0b4703,0x220216b9,0x5505262f,0xc5ba3bbe,0xb2bd0b28,0x2bb45a92,0x5cb36a04,0xc2d7ffa7,0xb5d0cf31,0x2cd99e8b,0x5bdeae1d,0x9b64c2b0,0xec63f226,0x756aa39c,0x26d930a,0x9c0906a9,0xeb0e363f,0x72076785,0x5005713,0x95bf4a82,0xe2b87a14,0x7bb12bae,0xcb61b38,0x92d28e9b,0xe5d5be0d,0x7cdcefb7,0xbdbdf21,0x86d3d2d4,0xf1d4e242,0x68ddb3f8,0x1fda836e,0x81be16cd,0xf6b9265b,0x6fb077e1,0x18b74777,0x88085ae6,0xff0f6a70,0x66063bca,0x11010b5c,0x8f659eff,0xf862ae69,0x616bffd3,0x166ccf45,0xa00ae278,0xd70dd2ee,0x4e048354,0x3903b3c2,0xa7672661,0xd06016f7,0x4969474d,0x3e6e77db,0xaed16a4a,0xd9d65adc,0x40df0b66,936918e3,0xa9bcae53,0xdebb9ec5,0x47b2cf7f,0x30b5ffe9,0xbdbdf21c,0xcabac28a,0x53b39330,0x24b4a3a6,0xbad03605,0xcdd70693,0x54de5729,0x23d967bf,0xb3667a2e,0xc4614ab8,0x5d681b02,0x2a6f2b94,0xb40bbe37,0xc30c8ea1,0x5a05df1b,0x2d02ef8d]);class tI extends eO{constructor(e,t,r,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=i,this.buffer=new Uint8Array(e),this.view=eE(this.buffer)}update(e){ew(this),ex(e=eC(e));let{view:t,buffer:r,blockLen:i}=this,n=e.length;for(let s=0;s<n;){let a=Math.min(i-this.pos,n-s);if(a===i){let t=eE(e);for(;i<=n-s;s+=i)this.process(t,s);continue}r.set(e.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===i&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){ew(this);ex(e);let t=this.outputLen;if(e.length<t)throw Error("digestInto() expects output buffer of length at least "+t);this.finished=!0;let{buffer:r,view:i,blockLen:n,isLE:s}=this,{pos:a}=this;r[a++]=128,ev(this.buffer.subarray(a)),this.padOffset>n-a&&(this.process(i,0),a=0);for(let e=a;e<n;e++)r[e]=0;!function(e,t,r,i){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,i);let n=BigInt(32),s=BigInt(0xffffffff),a=Number(r>>n&s),o=Number(r&s),c=4*!!i,l=4*!i;e.setUint32(t+c,a,i),e.setUint32(t+l,o,i)}(i,n-8,BigInt(8*this.length),s),this.process(i,0);let o=eE(e),c=this.outputLen;if(c%4)throw Error("_sha2: outputLen should be aligned to 32bit");let l=c/4,d=this.get();if(l>d.length)throw Error("_sha2: outputLen bigger than state");for(let e=0;e<l;e++)o.setUint32(4*e,d[e],s)}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:t,buffer:r,length:i,finished:n,destroyed:s,pos:a}=this;return e.destroyed=s,e.finished=n,e.length=i,e.pos=a,i%t&&e.buffer.set(r),e}clone(){return this._cloneInto()}}let tS=Uint32Array.from([0x6a09e667,0xbb67ae85,0x3c6ef372,0xa54ff53a,0x510e527f,0x9b05688c,0x1f83d9ab,0x5be0cd19]),tT=Uint32Array.from([0xc1059ed8,0x367cd507,0x3070dd17,0xf70e5939,0xffc00b31,0x68581511,0x64f98fa7,0xbefa4fa4]),tj=Uint32Array.from([0xcbbb9d5d,0xc1059ed8,0x629a292a,0x367cd507,0x9159015a,0x3070dd17,0x152fecd8,0xf70e5939,0x67332667,0xffc00b31,0x8eb44a87,0x68581511,0xdb0c2e0d,0x64f98fa7,0x47b5481d,0xbefa4fa4]),tN=Uint32Array.from([0x6a09e667,0xf3bcc908,0xbb67ae85,0x84caa73b,0x3c6ef372,0xfe94f82b,0xa54ff53a,0x5f1d36f1,0x510e527f,0xade682d1,0x9b05688c,0x2b3e6c1f,0x1f83d9ab,0xfb41bd6b,0x5be0cd19,0x137e2179]),tB=BigInt(0x100000000-1),tC=BigInt(32),tk=(e,t,r)=>e>>>r,tO=(e,t,r)=>e<<32-r|t>>>r,tA=(e,t,r)=>e>>>r|t<<32-r,tR=(e,t,r)=>e<<32-r|t>>>r,tD=(e,t,r)=>e<<64-r|t>>>r-32,tU=(e,t,r)=>e>>>r-32|t<<64-r;function tP(e,t,r,i){let n=(t>>>0)+(i>>>0);return{h:e+r+(n/0x100000000|0)|0,l:0|n}}let tq=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),tF=(e,t,r,i)=>t+r+i+(e/0x100000000|0)|0,tL=(e,t,r,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(i>>>0),t$=(e,t,r,i,n)=>t+r+i+n+(e/0x100000000|0)|0,tM=(e,t,r,i,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(i>>>0)+(n>>>0),tV=(e,t,r,i,n,s)=>t+r+i+n+s+(e/0x100000000|0)|0,tK=Uint32Array.from([0x428a2f98,0x71374491,0xb5c0fbcf,0xe9b5dba5,0x3956c25b,0x59f111f1,0x923f82a4,0xab1c5ed5,0xd807aa98,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,0x80deb1fe,0x9bdc06a7,0xc19bf174,0xe49b69c1,0xefbe4786,0xfc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,0x983e5152,0xa831c66d,0xb00327c8,0xbf597fc7,0xc6e00bf3,0xd5a79147,0x6ca6351,0x14292967,0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,0x81c2c92e,0x92722c85,0xa2bfe8a1,0xa81a664b,0xc24b8b70,0xc76c51a3,0xd192e819,0xd6990624,0xf40e3585,0x106aa070,0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,0x748f82ee,0x78a5636f,0x84c87814,0x8cc70208,0x90befffa,0xa4506ceb,0xbef9a3f7,0xc67178f2]),tz=new Uint32Array(64);class tG extends tI{constructor(e=32){super(64,e,8,!1),this.A=0|tS[0],this.B=0|tS[1],this.C=0|tS[2],this.D=0|tS[3],this.E=0|tS[4],this.F=0|tS[5],this.G=0|tS[6],this.H=0|tS[7]}get(){let{A:e,B:t,C:r,D:i,E:n,F:s,G:a,H:o}=this;return[e,t,r,i,n,s,a,o]}set(e,t,r,i,n,s,a,o){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|i,this.E=0|n,this.F=0|s,this.G=0|a,this.H=0|o}process(e,t){for(let r=0;r<16;r++,t+=4)tz[r]=e.getUint32(t,!1);for(let e=16;e<64;e++){let t=tz[e-15],r=tz[e-2],i=e_(t,7)^e_(t,18)^t>>>3,n=e_(r,17)^e_(r,19)^r>>>10;tz[e]=n+tz[e-7]+i+tz[e-16]|0}let{A:r,B:i,C:n,D:s,E:a,F:o,G:c,H:l}=this;for(let e=0;e<64;e++){var d,u,f,h;let t=l+(e_(a,6)^e_(a,11)^e_(a,25))+((d=a)&o^~d&c)+tK[e]+tz[e]|0,p=(e_(r,2)^e_(r,13)^e_(r,22))+((u=r)&(f=i)^u&(h=n)^f&h)|0;l=c,c=o,o=a,a=s+t|0,s=n,n=i,i=r,r=t+p|0}r=r+this.A|0,i=i+this.B|0,n=n+this.C|0,s=s+this.D|0,a=a+this.E|0,o=o+this.F|0,c=c+this.G|0,l=l+this.H|0,this.set(r,i,n,s,a,o,c,l)}roundClean(){ev(tz)}destroy(){this.set(0,0,0,0,0,0,0,0),ev(this.buffer)}}class tY extends tG{constructor(){super(28),this.A=0|tT[0],this.B=0|tT[1],this.C=0|tT[2],this.D=0|tT[3],this.E=0|tT[4],this.F=0|tT[5],this.G=0|tT[6],this.H=0|tT[7]}}let tZ=function(e,t=!1){let r=e.length,i=new Uint32Array(r),n=new Uint32Array(r);for(let s=0;s<r;s++){let{h:r,l:a}=function(e,t=!1){return t?{h:Number(e&tB),l:Number(e>>tC&tB)}:{h:0|Number(e>>tC&tB),l:0|Number(e&tB)}}(e[s],t);[i[s],n[s]]=[r,a]}return[i,n]}(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),tH=tZ[0],tW=tZ[1],tX=new Uint32Array(80),tJ=new Uint32Array(80);class tQ extends tI{constructor(e=64){super(128,e,16,!1),this.Ah=0|tN[0],this.Al=0|tN[1],this.Bh=0|tN[2],this.Bl=0|tN[3],this.Ch=0|tN[4],this.Cl=0|tN[5],this.Dh=0|tN[6],this.Dl=0|tN[7],this.Eh=0|tN[8],this.El=0|tN[9],this.Fh=0|tN[10],this.Fl=0|tN[11],this.Gh=0|tN[12],this.Gl=0|tN[13],this.Hh=0|tN[14],this.Hl=0|tN[15]}get(){let{Ah:e,Al:t,Bh:r,Bl:i,Ch:n,Cl:s,Dh:a,Dl:o,Eh:c,El:l,Fh:d,Fl:u,Gh:f,Gl:h,Hh:p,Hl:m}=this;return[e,t,r,i,n,s,a,o,c,l,d,u,f,h,p,m]}set(e,t,r,i,n,s,a,o,c,l,d,u,f,h,p,m){this.Ah=0|e,this.Al=0|t,this.Bh=0|r,this.Bl=0|i,this.Ch=0|n,this.Cl=0|s,this.Dh=0|a,this.Dl=0|o,this.Eh=0|c,this.El=0|l,this.Fh=0|d,this.Fl=0|u,this.Gh=0|f,this.Gl=0|h,this.Hh=0|p,this.Hl=0|m}process(e,t){for(let r=0;r<16;r++,t+=4)tX[r]=e.getUint32(t),tJ[r]=e.getUint32(t+=4);for(let e=16;e<80;e++){let t=0|tX[e-15],r=0|tJ[e-15],i=tA(t,r,1)^tA(t,r,8)^tk(t,r,7),n=tR(t,r,1)^tR(t,r,8)^tO(t,r,7),s=0|tX[e-2],a=0|tJ[e-2],o=tA(s,a,19)^tD(s,a,61)^tk(s,a,6),c=tL(n,tR(s,a,19)^tU(s,a,61)^tO(s,a,6),tJ[e-7],tJ[e-16]),l=t$(c,i,o,tX[e-7],tX[e-16]);tX[e]=0|l,tJ[e]=0|c}let{Ah:r,Al:i,Bh:n,Bl:s,Ch:a,Cl:o,Dh:c,Dl:l,Eh:d,El:u,Fh:f,Fl:h,Gh:p,Gl:m,Hh:y,Hl:b}=this;for(let e=0;e<80;e++){let t=tA(d,u,14)^tA(d,u,18)^tD(d,u,41),g=tR(d,u,14)^tR(d,u,18)^tU(d,u,41),x=d&f^~d&p,w=tM(b,g,u&h^~u&m,tW[e],tJ[e]),v=tV(w,y,t,x,tH[e],tX[e]),E=0|w,_=tA(r,i,28)^tD(r,i,34)^tD(r,i,39),I=tR(r,i,28)^tU(r,i,34)^tU(r,i,39),S=r&n^r&a^n&a,T=i&s^i&o^s&o;y=0|p,b=0|m,p=0|f,m=0|h,f=0|d,h=0|u,({h:d,l:u}=tP(0|c,0|l,0|v,0|E)),c=0|a,l=0|o,a=0|n,o=0|s,n=0|r,s=0|i;let j=tq(E,I,T);r=tF(j,v,_,S),i=0|j}({h:r,l:i}=tP(0|this.Ah,0|this.Al,0|r,0|i)),({h:n,l:s}=tP(0|this.Bh,0|this.Bl,0|n,0|s)),({h:a,l:o}=tP(0|this.Ch,0|this.Cl,0|a,0|o)),({h:c,l:l}=tP(0|this.Dh,0|this.Dl,0|c,0|l)),({h:d,l:u}=tP(0|this.Eh,0|this.El,0|d,0|u)),({h:f,l:h}=tP(0|this.Fh,0|this.Fl,0|f,0|h)),({h:p,l:m}=tP(0|this.Gh,0|this.Gl,0|p,0|m)),({h:y,l:b}=tP(0|this.Hh,0|this.Hl,0|y,0|b)),this.set(r,i,n,s,a,o,c,l,d,u,f,h,p,m,y,b)}roundClean(){ev(tX,tJ)}destroy(){ev(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}let t0=eA(()=>new tG),t1=eA(()=>new tY),t2=eA(()=>new tQ),t6="__principal__";class t5{static anonymous(){return new this(new Uint8Array([4]))}static managementCanister(){return this.fromText("aaaaa-aa")}static selfAuthenticating(e){return new this(new Uint8Array([...t1(e),2]))}static from(e){if("string"==typeof e)return t5.fromText(e);if(Object.getPrototypeOf(e)===Uint8Array.prototype)return new t5(e);if(t5.isPrincipal(e))return new t5(e._arr);throw Error(`Impossible to convert ${JSON.stringify(e)} to Principal.`)}static fromHex(e){return new this(eN(e))}static fromText(e){let t=e;if(e.includes(t6)){let r=JSON.parse(e);t6 in r&&(t=r[t6])}let r=function(e){let t=0,r=0,i=new Uint8Array(4*e.length/3|0),n=0;for(let s of e)!function(e){let s=tE[e.toLowerCase()];if(void 0===s)throw Error(`Invalid character: ${JSON.stringify(e)}`);s<<=3,r|=s>>>t,(t+=5)>=8&&(i[n++]=r,t-=8,r=t>0?s<<5-t&255:0)}(s);return i.slice(0,n)}(t.toLowerCase().replace(/-/g,"")),i=new this(r=r.slice(4,r.length));if(i.toText()!==t)throw Error(`Principal "${i.toText()}" does not have a valid checksum (original value "${t}" may not be a valid Principal ID).`);return i}static fromUint8Array(e){return new this(e)}static isPrincipal(e){return e instanceof t5||"object"==typeof e&&null!==e&&"_isPrincipal"in e&&!0===e._isPrincipal&&"_arr"in e&&e._arr instanceof Uint8Array}constructor(e){this._arr=e,this._isPrincipal=!0}isAnonymous(){return 1===this._arr.byteLength&&4===this._arr[0]}toUint8Array(){return this._arr}toHex(){return eT(this._arr).toUpperCase()}toText(){let e=new ArrayBuffer(4);new DataView(e).setUint32(0,function(e){let t=-1;for(let r=0;r<e.length;r++)t=t_[(e[r]^t)&255]^t>>>8;return(-1^t)>>>0}(this._arr));let t=new Uint8Array(e),r=(function(e){let t=0,r=0,i="";for(let s=0;s<e.length;){var n;s+=(n=e[s],(t<0?r|=n>>-t:r=n<<t&248,t>3)?(t-=8,1):(t<4&&(i+=tv[r>>3],t+=5),0))}return i+(t<0?tv[r>>3]:"")})(new Uint8Array([...t,...this._arr])).match(/.{1,5}/g);if(!r)throw Error();return r.join("-")}toString(){return this.toText()}toJSON(){return{[t6]:this.toText()}}compareTo(e){for(let t=0;t<Math.min(this._arr.length,e._arr.length);t++)if(this._arr[t]<e._arr[t])return"lt";else if(this._arr[t]>e._arr[t])return"gt";return this._arr.length<e._arr.length?"lt":this._arr.length>e._arr.length?"gt":"eq"}ltEq(e){let t=this.compareTo(e);return"lt"==t||"eq"==t}gtEq(e){let t=this.compareTo(e);return"gt"==t||"eq"==t}}function t3(...e){let t=new Uint8Array(e.reduce((e,t)=>e+t.byteLength,0)),r=0;for(let i of e)t.set(i,r),r+=i.byteLength;return t}class t8{save(){return this._view}restore(e){if(!(e instanceof Uint8Array))throw Error("Checkpoint must be a Uint8Array");this._view=e}constructor(e,t=e?.byteLength||0){if(e&&!(e instanceof Uint8Array))try{e=t4(e)}catch{throw Error("Buffer must be a Uint8Array")}if(t<0||!Number.isInteger(t))throw Error("Length must be a non-negative integer");if(e&&t>e.byteLength)throw Error("Length cannot exceed buffer length");this._buffer=e||new Uint8Array(0),this._view=new Uint8Array(this._buffer.buffer,0,t)}get buffer(){return this._view.slice()}get byteLength(){return this._view.byteLength}read(e){let t=this._view.subarray(0,e);return this._view=this._view.subarray(e),t.slice()}readUint8(){if(0===this._view.byteLength)return;let e=this._view[0];return this._view=this._view.subarray(1),e}write(e){if(!(e instanceof Uint8Array))throw Error("Buffer must be a Uint8Array");let t=this._view.byteLength;this._view.byteOffset+this._view.byteLength+e.byteLength>=this._buffer.byteLength?this.alloc(e.byteLength):this._view=new Uint8Array(this._buffer.buffer,this._view.byteOffset,this._view.byteLength+e.byteLength),this._view.set(e,t)}get end(){return 0===this._view.byteLength}alloc(e){if(e<=0||!Number.isInteger(e))throw Error("Amount must be a positive integer");let t=new Uint8Array((this._buffer.byteLength+e)*1.2|0),r=new Uint8Array(t.buffer,0,this._view.byteLength+e);r.set(this._view),this._buffer=t,this._view=r}}function t4(e){if(!e)throw Error("Input cannot be null or undefined");return e instanceof Uint8Array?e:e instanceof ArrayBuffer||Array.isArray(e)?new Uint8Array(e):"buffer"in e?t4(e.buffer):new Uint8Array(e)}function t7(e,t){if(e.byteLength!==t.byteLength)return e.byteLength-t.byteLength;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return e[r]-t[r];return 0}function t9(e){if(/^_\d+_$/.test(e)||/^_0x[0-9a-fA-F]+_$/.test(e)){let t=+e.slice(1,-1);if(Number.isSafeInteger(t)&&t>=0&&t<0x100000000)return t}let t=new TextEncoder().encode(e),r=0;for(let e of t)r=(223*r+e)%0x100000000;return r}function re(e){let t=BigInt(e);if(e<=0)throw RangeError("Input must be positive");return t.toString(2).length-1}function rt(e){let t=BigInt(e);if(e<0)throw RangeError("Input must be non-negative");return BigInt(1)<<t}function rr(){throw Error("unexpected end of buffer")}function ri(e,t){return e.byteLength<t&&rr(),e.read(t)}function rn(e){let t=e.readUint8();return void 0===t&&rr(),t}function rs(e){if("number"==typeof e&&(e=BigInt(e)),e<BigInt(0))throw Error("Cannot leb encode negative values.");let t=new t8(new Uint8Array((e===BigInt(0)?0:re(e))+1),0);for(;;){let r=Number(e&BigInt(127));if((e/=BigInt(128))===BigInt(0)){t.write(new Uint8Array([r]));break}t.write(new Uint8Array([128|r]))}return t.buffer}function ra(e){let t,r=BigInt(1),i=BigInt(0);do i+=BigInt(127&(t=rn(e))).valueOf()*r,r*=BigInt(128);while(t>=128)return i}function ro(e){"number"==typeof e&&(e=BigInt(e));let t=e<BigInt(0);t&&(e=-e-BigInt(1));let r=new t8(new Uint8Array((e===BigInt(0)?0:re(e))+1),0);for(;;){let i=function(e){let r=e%BigInt(128);return t?Number(BigInt(128)-r-BigInt(1)):Number(r)}(e);if(e/=BigInt(128),t&&e===BigInt(0)&&(64&i)!=0||!t&&e===BigInt(0)&&(64&i)==0){r.write(new Uint8Array([i]));break}r.write(new Uint8Array([128|i]))}return r.buffer}function rc(e){let t=new Uint8Array(e.buffer),r=0;for(;r<t.byteLength;r++)if(t[r]<128){if((64&t[r])==0)return ra(e);break}let i=new Uint8Array(ri(e,r+1)),n=BigInt(0);for(let e=i.byteLength-1;e>=0;e--)n=n*BigInt(128)+BigInt(128-(127&i[e])-1);return-n-BigInt(1)}function rl(e,t){e=BigInt(e);let r=new t8(new Uint8Array(Math.min(1,t)),0),i=0,n=BigInt(256),s=BigInt(0),a=Number(e%n);for(r.write(new Uint8Array([a]));++i<t;)e<0&&s===BigInt(0)&&0!==a&&(s=BigInt(1)),a=Number((e/n-s)%BigInt(256)),r.write(new Uint8Array([a])),n*=BigInt(256);return r.buffer}function rd(e,t){if(t<=0||!Number.isInteger(t))throw Error("Byte length must be a positive integer");let r=BigInt(rn(e)),i=BigInt(1),n=0;for(;++n<t;)i*=BigInt(256),r+=i*BigInt(rn(e));return r}(p=j||(j={}))[p.Null=-1]="Null",p[p.Bool=-2]="Bool",p[p.Nat=-3]="Nat",p[p.Int=-4]="Int",p[p.Float32=-13]="Float32",p[p.Float64=-14]="Float64",p[p.Text=-15]="Text",p[p.Reserved=-16]="Reserved",p[p.Empty=-17]="Empty",p[p.Opt=-18]="Opt",p[p.Vector=-19]="Vector",p[p.Record=-20]="Record",p[p.Variant=-21]="Variant",p[p.Func=-22]="Func",p[p.Service=-23]="Service",p[p.Principal=-24]="Principal";let ru="DIDL";function rf(e,t,r){return e.map((e,i)=>r(e,t[i]))}class rh{constructor(){this._typs=[],this._idx=new Map,this._idxRefCount=new Map}has(e){return this._idx.has(e.name)}add(e,t){let r=this._typs.length;this._idx.set(e.name,r),this._idxRefCount.set(r,1),this._typs.push(t)}merge(e,t){let r=this._idx.get(e.name),i=this._idx.get(t);if(void 0===r)throw Error("Missing type index for "+e);if(void 0===i)throw Error("Missing type index for "+t);this._typs[r]=this._typs[i];let n=this._getIdxRefCount(r),s=this._getIdxRefCount(i);this._idxRefCount.set(r,n+s),this._idx.set(t,r),this._idxRefCount.set(i,0),this._compactFromEnd()}_getIdxRefCount(e){return this._idxRefCount.get(e)||0}_compactFromEnd(){for(;this._typs.length>0;){let e=this._typs.length-1;if(this._getIdxRefCount(e)>0)break;this._typs.pop(),this._idxRefCount.delete(e)}}encode(){let e=rs(this._typs.length),t=t3(...this._typs);return t3(e,t)}indexOf(e){if(!this._idx.has(e))throw Error("Missing type index for "+e);return ro(this._idx.get(e)||0)}}class rp{visitType(e,t){throw Error("Not implemented")}visitPrimitive(e,t){return this.visitType(e,t)}visitEmpty(e,t){return this.visitPrimitive(e,t)}visitBool(e,t){return this.visitPrimitive(e,t)}visitNull(e,t){return this.visitPrimitive(e,t)}visitReserved(e,t){return this.visitPrimitive(e,t)}visitText(e,t){return this.visitPrimitive(e,t)}visitNumber(e,t){return this.visitPrimitive(e,t)}visitInt(e,t){return this.visitNumber(e,t)}visitNat(e,t){return this.visitNumber(e,t)}visitFloat(e,t){return this.visitPrimitive(e,t)}visitFixedInt(e,t){return this.visitNumber(e,t)}visitFixedNat(e,t){return this.visitNumber(e,t)}visitPrincipal(e,t){return this.visitPrimitive(e,t)}visitConstruct(e,t){return this.visitType(e,t)}visitVec(e,t,r){return this.visitConstruct(e,r)}visitOpt(e,t,r){return this.visitConstruct(e,r)}visitRecord(e,t,r){return this.visitConstruct(e,r)}visitTuple(e,t,r){let i=t.map((e,t)=>[`_${t}_`,e]);return this.visitRecord(e,i,r)}visitVariant(e,t,r){return this.visitConstruct(e,r)}visitRec(e,t,r){return this.visitConstruct(t,r)}visitFunc(e,t){return this.visitConstruct(e,t)}visitService(e,t){return this.visitConstruct(e,t)}}(m=N||(N={})).EmptyClass="__IDL_EmptyClass__",m.UnknownClass="__IDL_UnknownClass__",m.BoolClass="__IDL_BoolClass__",m.NullClass="__IDL_NullClass__",m.ReservedClass="__IDL_ReservedClass__",m.TextClass="__IDL_TextClass__",m.IntClass="__IDL_IntClass__",m.NatClass="__IDL_NatClass__",m.FloatClass="__IDL_FloatClass__",m.FixedIntClass="__IDL_FixedIntClass__",m.FixedNatClass="__IDL_FixedNatClass__",m.VecClass="__IDL_VecClass__",m.OptClass="__IDL_OptClass__",m.RecordClass="__IDL_RecordClass__",m.TupleClass="__IDL_TupleClass__",m.VariantClass="__IDL_VariantClass__",m.RecClass="__IDL_RecClass__",m.PrincipalClass="__IDL_PrincipalClass__",m.FuncClass="__IDL_FuncClass__",m.ServiceClass="__IDL_ServiceClass__";class rm{display(){return this.name}valueToString(e){return rF(e)}buildTypeTable(e){e.has(this)||this._buildTypeTableImpl(e)}}class ry extends rm{checkType(e){if(this.name!==e.name)throw Error(`type mismatch: type on the wire ${e.name}, expect type ${this.name}`);return e}_buildTypeTableImpl(e){}}class rb extends rm{checkType(e){if(e instanceof rR){let t=e.getType();if(void 0===t)throw Error("type mismatch with uninitialized type");return t}throw Error(`type mismatch: type on the wire ${e.name}, expect type ${this.name}`)}encodeType(e){return e.indexOf(this.name)}}class rg extends ry{get typeName(){return N.EmptyClass}static[Symbol.hasInstance](e){return e.typeName===N.EmptyClass}accept(e,t){return e.visitEmpty(this,t)}covariant(e){throw Error(`Invalid ${this.display()} argument: ${rF(e)}`)}encodeValue(){throw Error("Empty cannot appear as a function argument")}valueToString(){throw Error("Empty cannot appear as a value")}encodeType(){return ro(j.Empty)}decodeValue(){throw Error("Empty cannot appear as an output")}get name(){return"empty"}}class rx extends rm{get typeName(){return N.UnknownClass}static[Symbol.hasInstance](e){return e.typeName===N.UnknownClass}checkType(e){throw Error("Method not implemented for unknown.")}accept(e,t){throw e.visitType(this,t)}covariant(e){throw Error(`Invalid ${this.display()} argument: ${rF(e)}`)}encodeValue(){throw Error("Unknown cannot appear as a function argument")}valueToString(){throw Error("Unknown cannot appear as a value")}encodeType(){throw Error("Unknown cannot be serialized")}decodeValue(e,t){let r=t.decodeValue(e,t);return Object(r)!==r&&(r=Object(r)),Object.defineProperty(r,"type",{value:t instanceof rR?()=>t.getType():()=>t,writable:!0,enumerable:!1,configurable:!0}),r}_buildTypeTableImpl(){throw Error("Unknown cannot be serialized")}get name(){return"Unknown"}}class rw extends ry{get typeName(){return N.BoolClass}static[Symbol.hasInstance](e){return e.typeName===N.BoolClass}accept(e,t){return e.visitBool(this,t)}covariant(e){if("boolean"==typeof e)return!0;throw Error(`Invalid ${this.display()} argument: ${rF(e)}`)}encodeValue(e){return new Uint8Array([+!!e])}encodeType(){return ro(j.Bool)}decodeValue(e,t){switch(this.checkType(t),rn(e)){case 0:return!1;case 1:return!0;default:throw Error("Boolean value out of range")}}get name(){return"bool"}}class rv extends ry{get typeName(){return N.NullClass}static[Symbol.hasInstance](e){return e.typeName===N.NullClass}accept(e,t){return e.visitNull(this,t)}covariant(e){if(null===e)return!0;throw Error(`Invalid ${this.display()} argument: ${rF(e)}`)}encodeValue(){return new Uint8Array(0)}encodeType(){return ro(j.Null)}decodeValue(e,t){return this.checkType(t),null}get name(){return"null"}}class rE extends ry{get typeName(){return N.ReservedClass}static[Symbol.hasInstance](e){return e.typeName===N.ReservedClass}accept(e,t){return e.visitReserved(this,t)}covariant(e){return!0}encodeValue(){return new Uint8Array(0)}encodeType(){return ro(j.Reserved)}decodeValue(e,t){return t.name!==this.name&&t.decodeValue(e,t),null}get name(){return"reserved"}}class r_ extends ry{get typeName(){return N.TextClass}static[Symbol.hasInstance](e){return e.typeName===N.TextClass}accept(e,t){return e.visitText(this,t)}covariant(e){if("string"==typeof e)return!0;throw Error(`Invalid ${this.display()} argument: ${rF(e)}`)}encodeValue(e){let t=new TextEncoder().encode(e);return t3(rs(t.byteLength),t)}encodeType(){return ro(j.Text)}decodeValue(e,t){this.checkType(t);let r=ra(e),i=ri(e,Number(r));return new TextDecoder("utf8",{fatal:!0}).decode(i)}get name(){return"text"}valueToString(e){return'"'+e+'"'}}class rI extends ry{get typeName(){return N.IntClass}static[Symbol.hasInstance](e){return e.typeName===N.IntClass}accept(e,t){return e.visitInt(this,t)}covariant(e){if("bigint"==typeof e||Number.isInteger(e))return!0;throw Error(`Invalid ${this.display()} argument: ${rF(e)}`)}encodeValue(e){return ro(e)}encodeType(){return ro(j.Int)}decodeValue(e,t){return this.checkType(t),rc(e)}get name(){return"int"}valueToString(e){return e.toString()}}class rS extends ry{get typeName(){return N.NatClass}static[Symbol.hasInstance](e){return e.typeName===N.NatClass}accept(e,t){return e.visitNat(this,t)}covariant(e){if("bigint"==typeof e&&e>=BigInt(0)||Number.isInteger(e)&&e>=0)return!0;throw Error(`Invalid ${this.display()} argument: ${rF(e)}`)}encodeValue(e){return rs(e)}encodeType(){return ro(j.Nat)}decodeValue(e,t){return this.checkType(t),ra(e)}get name(){return"nat"}valueToString(e){return e.toString()}}class rT extends ry{get typeName(){return N.FloatClass}static[Symbol.hasInstance](e){return e.typeName===N.FloatClass}constructor(e){if(super(),this._bits=e,32!==e&&64!==e)throw Error("not a valid float type")}accept(e,t){return e.visitFloat(this,t)}covariant(e){if("number"==typeof e||e instanceof Number)return!0;throw Error(`Invalid ${this.display()} argument: ${rF(e)}`)}encodeValue(e){let t=new ArrayBuffer(this._bits/8),r=new DataView(t);return 32===this._bits?r.setFloat32(0,e,!0):r.setFloat64(0,e,!0),new Uint8Array(t)}encodeType(){return ro(32===this._bits?j.Float32:j.Float64)}decodeValue(e,t){this.checkType(t);let r=function(e){if(!(e instanceof Uint8Array))throw Error("Input must be a Uint8Array");return new DataView(e.buffer,e.byteOffset,e.byteLength)}(ri(e,this._bits/8));return 32===this._bits?r.getFloat32(0,!0):r.getFloat64(0,!0)}get name(){return"float"+this._bits}valueToString(e){return e.toString()}}class rj extends ry{get typeName(){return N.FixedIntClass}static[Symbol.hasInstance](e){return e.typeName===N.FixedIntClass}constructor(e){super(),this._bits=e}accept(e,t){return e.visitFixedInt(this,t)}covariant(e){let t=rt(this._bits-1)*BigInt(-1),r=rt(this._bits-1)-BigInt(1),i=!1;if("bigint"==typeof e)i=e>=t&&e<=r;else if(Number.isInteger(e)){let n=BigInt(e);i=n>=t&&n<=r}else i=!1;if(i)return!0;throw Error(`Invalid ${this.display()} argument: ${rF(e)}`)}encodeValue(e){return rl(e,this._bits/8)}encodeType(){return ro(-9-(Math.log2(this._bits)-3))}decodeValue(e,t){this.checkType(t);let r=function(e,t){if(t<=0||!Number.isInteger(t))throw Error("Byte length must be a positive integer");let r=rd(e,t),i=BigInt(2)**(BigInt(8)*BigInt(t-1)+BigInt(7));return r>=i&&(r-=i*BigInt(2)),r}(e,this._bits/8);return this._bits<=32?Number(r):r}get name(){return`int${this._bits}`}valueToString(e){return e.toString()}}class rN extends ry{get typeName(){return N.FixedNatClass}static[Symbol.hasInstance](e){return e.typeName===N.FixedNatClass}constructor(e){super(),this._bits=e}accept(e,t){return e.visitFixedNat(this,t)}covariant(e){let t=rt(this._bits);if("bigint"==typeof e&&e>=BigInt(0)?e<t:!!Number.isInteger(e)&&e>=0&&BigInt(e)<t)return!0;throw Error(`Invalid ${this.display()} argument: ${rF(e)}`)}encodeValue(e){var t=this._bits/8;if(BigInt(e)<BigInt(0))throw Error("Cannot write negative values.");return rl(e,t)}encodeType(){return ro(-5-(Math.log2(this._bits)-3))}decodeValue(e,t){this.checkType(t);let r=rd(e,this._bits/8);return this._bits<=32?Number(r):r}get name(){return`nat${this._bits}`}valueToString(e){return e.toString()}}class rB extends rb{get typeName(){return N.VecClass}static[Symbol.hasInstance](e){return e.typeName===N.VecClass}constructor(e){super(),this._type=e,this._blobOptimization=!1,e instanceof rN&&8===e._bits&&(this._blobOptimization=!0)}accept(e,t){return e.visitVec(this,this._type,t)}covariant(e){let t=this._type instanceof rN||this._type instanceof rj?this._type._bits:0;if(ArrayBuffer.isView(e)&&t==8*e.BYTES_PER_ELEMENT||Array.isArray(e)&&e.every((e,t)=>{try{return this._type.covariant(e)}catch(e){throw Error(`Invalid ${this.display()} argument: 

index ${t} -> ${e.message}`)}}))return!0;throw Error(`Invalid ${this.display()} argument: ${rF(e)}`)}encodeValue(e){let t=rs(e.length);if(this._blobOptimization)return t3(t,new Uint8Array(e));if(ArrayBuffer.isView(e))if(e instanceof Int16Array||e instanceof Uint16Array){let r=new DataView(new ArrayBuffer(2*e.length));for(let t=0;t<e.length;t++)e instanceof Int16Array?r.setInt16(2*t,e[t],!0):r.setUint16(2*t,e[t],!0);return t3(t,new Uint8Array(r.buffer))}else if(e instanceof Int32Array||e instanceof Uint32Array){let r=new DataView(new ArrayBuffer(4*e.length));for(let t=0;t<e.length;t++)e instanceof Int32Array?r.setInt32(4*t,e[t],!0):r.setUint32(4*t,e[t],!0);return t3(t,new Uint8Array(r.buffer))}else{if(!(e instanceof BigInt64Array||e instanceof BigUint64Array))return t3(t,new Uint8Array(e.buffer,e.byteOffset,e.byteLength));let r=new DataView(new ArrayBuffer(8*e.length));for(let t=0;t<e.length;t++)e instanceof BigInt64Array?r.setBigInt64(8*t,e[t],!0):r.setBigUint64(8*t,e[t],!0);return t3(t,new Uint8Array(r.buffer))}let r=new t8(new Uint8Array(t.byteLength+e.length),0);for(let i of(r.write(t),e)){let e=this._type.encodeValue(i);r.write(new Uint8Array(e))}return r.buffer}_buildTypeTableImpl(e){this._type.buildTypeTable(e);let t=ro(j.Vector),r=this._type.encodeType(e);e.add(this,t3(t,r))}decodeValue(e,t){let r=this.checkType(t);if(!(r instanceof rB))throw Error("Not a vector type");let i=Number(ra(e));if(this._type instanceof rN){if(8==this._type._bits)return new Uint8Array(e.read(i));if(16==this._type._bits){let t=e.read(2*i);return new Uint16Array(t.buffer,t.byteOffset,i)}if(32==this._type._bits){let t=e.read(4*i);return new Uint32Array(t.buffer,t.byteOffset,i)}if(64==this._type._bits)return new BigUint64Array(e.read(8*i).buffer)}if(this._type instanceof rj){if(8==this._type._bits)return new Int8Array(e.read(i));if(16==this._type._bits){let t=e.read(2*i),r=new DataView(t.buffer,t.byteOffset,t.byteLength),n=new Int16Array(i);for(let e=0;e<i;e++)n[e]=r.getInt16(2*e,!0);return n}if(32==this._type._bits){let t=e.read(4*i),r=new DataView(t.buffer,t.byteOffset,t.byteLength),n=new Int32Array(i);for(let e=0;e<i;e++)n[e]=r.getInt32(4*e,!0);return n}if(64==this._type._bits){let t=e.read(8*i),r=new DataView(t.buffer,t.byteOffset,t.byteLength),n=new BigInt64Array(i);for(let e=0;e<i;e++)n[e]=r.getBigInt64(8*e,!0);return n}}let n=[];for(let t=0;t<i;t++)n.push(this._type.decodeValue(e,r._type));return n}get name(){return`vec ${this._type.name}`}display(){return`vec ${this._type.display()}`}valueToString(e){return"vec {"+e.map(e=>this._type.valueToString(e)).join("; ")+"}"}}class rC extends rb{get typeName(){return N.OptClass}static[Symbol.hasInstance](e){return e.typeName===N.OptClass}constructor(e){super(),this._type=e}accept(e,t){return e.visitOpt(this,this._type,t)}covariant(e){try{if(Array.isArray(e)&&(0===e.length||1===e.length&&this._type.covariant(e[0])))return!0}catch(t){throw Error(`Invalid ${this.display()} argument: ${rF(e)} 

-> ${t.message}`)}throw Error(`Invalid ${this.display()} argument: ${rF(e)}`)}encodeValue(e){return 0===e.length?new Uint8Array([0]):t3(new Uint8Array([1]),this._type.encodeValue(e[0]))}_buildTypeTableImpl(e){this._type.buildTypeTable(e);let t=ro(j.Opt),r=this._type.encodeType(e);e.add(this,t3(t,r))}decodeValue(e,t){if(t instanceof rv||t instanceof rE)return[];let r=t;if(t instanceof rR){let e=t.getType();if(void 0===e)throw Error("type mismatch with uninitialized type");r=e}if(r instanceof rC)switch(rn(e)){case 0:return[];case 1:{let t=e.save();try{return[this._type.decodeValue(e,r._type)]}catch(i){return e.restore(t),r._type.decodeValue(e,r._type),[]}}default:throw Error("Not an option value")}if(this._type instanceof rv||this._type instanceof rC||this._type instanceof rE)return r.decodeValue(e,r),[];{let i=e.save();try{return[this._type.decodeValue(e,t)]}catch(n){return e.restore(i),r.decodeValue(e,t),[]}}}get name(){return`opt ${this._type.name}`}display(){return`opt ${this._type.display()}`}valueToString(e){return 0===e.length?"null":`opt ${this._type.valueToString(e[0])}`}}class rk extends rb{get typeName(){return N.RecordClass}static[Symbol.hasInstance](e){return e.typeName===N.RecordClass||e.typeName===N.TupleClass}constructor(e={}){super(),this._fields=Object.entries(e).sort((e,t)=>t9(e[0])-t9(t[0]))}accept(e,t){return e.visitRecord(this,this._fields,t)}tryAsTuple(){let e=[];for(let t=0;t<this._fields.length;t++){let[r,i]=this._fields[t];if(r!==`_${t}_`)return null;e.push(i)}return e}covariant(e){if("object"==typeof e&&this._fields.every(([t,r])=>{if(!e.hasOwnProperty(t))throw Error(`Record is missing key "${t}".`);try{return r.covariant(e[t])}catch(e){throw Error(`Invalid ${this.display()} argument: 

field ${t} -> ${e.message}`)}}))return!0;throw Error(`Invalid ${this.display()} argument: ${rF(e)}`)}encodeValue(e){let t=this._fields.map(([t])=>e[t]);return t3(...rf(this._fields,t,([,e],t)=>e.encodeValue(t)))}_buildTypeTableImpl(e){this._fields.forEach(([t,r])=>r.buildTypeTable(e));let t=ro(j.Record),r=rs(this._fields.length),i=this._fields.map(([t,r])=>t3(rs(t9(t)),r.encodeType(e)));e.add(this,t3(t,r,t3(...i)))}decodeValue(e,t){let r=this.checkType(t);if(!(r instanceof rk))throw Error("Not a record type");let i={},n=0,s=0;for(;s<r._fields.length;){let[t,a]=r._fields[s];if(n>=this._fields.length){a.decodeValue(e,a),s++;continue}let[o,c]=this._fields[n],l=t9(this._fields[n][0]),d=t9(t);if(l===d)i[o]=c.decodeValue(e,a),n++,s++;else if(d>l)if(c instanceof rC||c instanceof rE)i[o]=[],n++;else throw Error("Cannot find required field "+o);else a.decodeValue(e,a),s++}for(let[e,t]of this._fields.slice(n))if(t instanceof rC||t instanceof rE)i[e]=[];else throw Error("Cannot find required field "+e);return i}get fieldsAsObject(){let e={};for(let[t,r]of this._fields)e[t9(t)]=r;return e}get name(){let e=this._fields.map(([e,t])=>e+":"+t.name);return`record {${e.join("; ")}}`}display(){let e=this._fields.map(([e,t])=>e+":"+t.display());return`record {${e.join("; ")}}`}valueToString(e){let t=this._fields.map(([t])=>e[t]),r=rf(this._fields,t,([e,t],r)=>e+"="+t.valueToString(r));return`record {${r.join("; ")}}`}}class rO extends rk{get typeName(){return N.TupleClass}static[Symbol.hasInstance](e){return e.typeName===N.TupleClass}constructor(e){const t={};e.forEach((e,r)=>t["_"+r+"_"]=e),super(t),this._components=e}accept(e,t){return e.visitTuple(this,this._components,t)}covariant(e){if(Array.isArray(e)&&e.length>=this._fields.length&&this._components.every((t,r)=>{try{return t.covariant(e[r])}catch(e){throw Error(`Invalid ${this.display()} argument: 

index ${r} -> ${e.message}`)}}))return!0;throw Error(`Invalid ${this.display()} argument: ${rF(e)}`)}encodeValue(e){return t3(...rf(this._components,e,(e,t)=>e.encodeValue(t)))}decodeValue(e,t){let r=this.checkType(t);if(!(r instanceof rO))throw Error("not a tuple type");if(r._components.length<this._components.length)throw Error("tuple mismatch");let i=[];for(let[t,n]of r._components.entries())t>=this._components.length?n.decodeValue(e,n):i.push(this._components[t].decodeValue(e,n));return i}display(){let e=this._components.map(e=>e.display());return`record {${e.join("; ")}}`}valueToString(e){let t=rf(this._components,e,(e,t)=>e.valueToString(t));return`record {${t.join("; ")}}`}}class rA extends rb{get typeName(){return N.VariantClass}static[Symbol.hasInstance](e){return e.typeName===N.VariantClass}constructor(e={}){super(),this._fields=Object.entries(e).sort((e,t)=>t9(e[0])-t9(t[0]))}accept(e,t){return e.visitVariant(this,this._fields,t)}covariant(e){if("object"==typeof e&&1===Object.entries(e).length&&this._fields.every(([t,r])=>{try{return!e.hasOwnProperty(t)||r.covariant(e[t])}catch(e){throw Error(`Invalid ${this.display()} argument: 

variant ${t} -> ${e.message}`)}}))return!0;throw Error(`Invalid ${this.display()} argument: ${rF(e)}`)}encodeValue(e){for(let t=0;t<this._fields.length;t++){let[r,i]=this._fields[t];if(e.hasOwnProperty(r))return t3(rs(t),i.encodeValue(e[r]))}throw Error("Variant has no data: "+e)}_buildTypeTableImpl(e){this._fields.forEach(([,t])=>{t.buildTypeTable(e)});let t=ro(j.Variant),r=rs(this._fields.length),i=this._fields.map(([t,r])=>t3(rs(t9(t)),r.encodeType(e)));e.add(this,t3(t,r,...i))}decodeValue(e,t){let r=this.checkType(t);if(!(r instanceof rA))throw Error("Not a variant type");let i=Number(ra(e));if(i>=r._fields.length)throw Error("Invalid variant index: "+i);let[n,s]=r._fields[i];for(let[t,r]of this._fields)if(t9(n)===t9(t))return{[t]:r.decodeValue(e,s)};throw Error("Cannot find field hash "+n)}get name(){let e=this._fields.map(([e,t])=>e+":"+t.name);return`variant {${e.join("; ")}}`}display(){let e=this._fields.map(([e,t])=>e+("null"===t.name?"":`:${t.display()}`));return`variant {${e.join("; ")}}`}valueToString(e){for(let[t,r]of this._fields)if(e.hasOwnProperty(t)){let i=r.valueToString(e[t]);if("null"===i)return`variant {${t}}`;return`variant {${t}=${i}}`}throw Error("Variant has no data: "+e)}get alternativesAsObject(){let e={};for(let[t,r]of this._fields)e[t9(t)]=r;return e}}class rR extends rb{constructor(){super(...arguments),this._id=rR._counter++}get typeName(){return N.RecClass}static{this._counter=0}static[Symbol.hasInstance](e){return e.typeName===N.RecClass}accept(e,t){if(!this._type)throw Error("Recursive type uninitialized.");return e.visitRec(this,this._type,t)}fill(e){this._type=e}getType(){return this._type}covariant(e){if(this._type&&this._type.covariant(e))return!0;throw Error(`Invalid ${this.display()} argument: ${rF(e)}`)}encodeValue(e){if(!this._type)throw Error("Recursive type uninitialized.");return this._type.encodeValue(e)}_buildTypeTableImpl(e){if(!this._type)throw Error("Recursive type uninitialized.");e.add(this,new Uint8Array([])),this._type.buildTypeTable(e),e.merge(this,this._type.name)}decodeValue(e,t){if(!this._type)throw Error("Recursive type uninitialized.");return this._type.decodeValue(e,t)}get name(){return`rec_${this._id}`}display(){if(!this._type)throw Error("Recursive type uninitialized.");return`Î¼${this.name}.${this._type.name}`}valueToString(e){if(!this._type)throw Error("Recursive type uninitialized.");return this._type.valueToString(e)}}function rD(e){if(1!==rn(e))throw Error("Cannot decode principal");let t=Number(ra(e));return t5.fromUint8Array(new Uint8Array(ri(e,t)))}class rU extends ry{get typeName(){return N.PrincipalClass}static[Symbol.hasInstance](e){return e.typeName===N.PrincipalClass}accept(e,t){return e.visitPrincipal(this,t)}covariant(e){if(e&&e._isPrincipal)return!0;throw Error(`Invalid ${this.display()} argument: ${rF(e)}`)}encodeValue(e){let t=e.toUint8Array(),r=rs(t.byteLength);return t3(new Uint8Array([1]),r,t)}encodeType(){return ro(j.Principal)}decodeValue(e,t){return this.checkType(t),rD(e)}get name(){return"principal"}valueToString(e){return`${this.name} "${e.toText()}"`}}class rP extends rb{get typeName(){return N.FuncClass}static[Symbol.hasInstance](e){return e.typeName===N.FuncClass}static argsToString(e,t){if(e.length!==t.length)throw Error("arity mismatch");return"("+e.map((e,r)=>e.valueToString(t[r])).join(", ")+")"}constructor(e,t,r=[]){super(),this.argTypes=e,this.retTypes=t,this.annotations=r}accept(e,t){return e.visitFunc(this,t)}covariant(e){if(Array.isArray(e)&&2===e.length&&e[0]&&e[0]._isPrincipal&&"string"==typeof e[1])return!0;throw Error(`Invalid ${this.display()} argument: ${rF(e)}`)}encodeValue([e,t]){let r=e.toUint8Array(),i=rs(r.byteLength),n=t3(new Uint8Array([1]),i,r),s=new TextEncoder().encode(t),a=rs(s.byteLength);return t3(new Uint8Array([1]),n,a,s)}_buildTypeTableImpl(e){this.argTypes.forEach(t=>t.buildTypeTable(e)),this.retTypes.forEach(t=>t.buildTypeTable(e));let t=ro(j.Func),r=rs(this.argTypes.length),i=t3(...this.argTypes.map(t=>t.encodeType(e))),n=rs(this.retTypes.length),s=t3(...this.retTypes.map(t=>t.encodeType(e))),a=rs(this.annotations.length),o=t3(...this.annotations.map(e=>this.encodeAnnotation(e)));e.add(this,t3(t,r,i,n,s,a,o))}decodeValue(e,t){let r=t instanceof rR?t.getType()??t:t;if(!id(r,this))throw Error(`Cannot decode function reference at type ${this.display()} from wire type ${r.display()}`);if(1!==rn(e))throw Error("Cannot decode function reference");let i=rD(e),n=Number(ra(e)),s=ri(e,n);return[i,new TextDecoder("utf8",{fatal:!0}).decode(s)]}get name(){let e=this.argTypes.map(e=>e.name).join(", "),t=this.retTypes.map(e=>e.name).join(", "),r=" "+this.annotations.join(" ");return`(${e}) -> (${t})${r}`}valueToString([e,t]){return`func "${e.toText()}".${t}`}display(){let e=this.argTypes.map(e=>e.display()).join(", "),t=this.retTypes.map(e=>e.display()).join(", "),r=" "+this.annotations.join(" ");return`(${e}) â (${t})${r}`}encodeAnnotation(e){if("query"===e)return new Uint8Array([1]);if("oneway"===e)return new Uint8Array([2]);if("composite_query"===e)return new Uint8Array([3]);throw Error("Illegal function annotation")}}class rq extends rb{get typeName(){return N.ServiceClass}static[Symbol.hasInstance](e){return e.typeName===N.ServiceClass}constructor(e){super(),this._fields=Object.entries(e).sort((e,t)=>e[0]<t[0]?-1:+(e[0]>t[0]))}accept(e,t){return e.visitService(this,t)}covariant(e){if(e&&e._isPrincipal)return!0;throw Error(`Invalid ${this.display()} argument: ${rF(e)}`)}encodeValue(e){let t=e.toUint8Array(),r=rs(t.length);return t3(new Uint8Array([1]),r,t)}_buildTypeTableImpl(e){this._fields.forEach(([t,r])=>r.buildTypeTable(e));let t=ro(j.Service),r=rs(this._fields.length),i=this._fields.map(([t,r])=>{let i=new TextEncoder().encode(t);return t3(rs(i.length),i,r.encodeType(e))});e.add(this,t3(t,r,...i))}decodeValue(e,t){let r=t instanceof rR?t.getType()??t:t;if(!id(r,this))throw Error(`Cannot decode service reference at type ${this.display()} from wire type ${r.display()}`);return rD(e)}get name(){let e=this._fields.map(([e,t])=>e+":"+t.name);return`service {${e.join("; ")}}`}valueToString(e){return`service "${e.toText()}"`}fieldsAsObject(){let e={};for(let[t,r]of this._fields)e[t]=r;return e}}function rF(e){let t=JSON.stringify(e,(e,t)=>"bigint"==typeof t?`BigInt(${t})`:t);return t&&t.length>400?t.substring(0,397)+"...":t}function rL(e,t){if(t.length<e.length)throw Error("Wrong number of message arguments");let r=new rh;e.forEach(e=>e.buildTypeTable(r));let i=new TextEncoder().encode(ru),n=r.encode(),s=rs(t.length),a=t3(...e.map(e=>e.encodeType(r))),o=t3(...rf(e,t,(e,t)=>{try{e.covariant(t)}catch(e){throw Error(e.message+"\n\n")}return e.encodeValue(t)}));return t3(i,n,s,a,o)}function r$(e,t){let r=new t8(t);if(t.byteLength<ru.length)throw Error("Message length smaller than magic number");let i=ri(r,ru.length),n=new TextDecoder().decode(i);if(n!==ru)throw Error("Wrong magic number: "+JSON.stringify(n));let[s,a]=function(e){let t=[],r=Number(ra(e));for(let i=0;i<r;i++){let r=Number(rc(e));switch(r){case j.Opt:case j.Vector:{let i=Number(rc(e));t.push([r,i]);break}case j.Record:case j.Variant:{let i,n=[],s=Number(ra(e));for(;s--;){let t=Number(ra(e));if(t>=0x100000000)throw Error("field id out of 32-bit range");if("number"==typeof i&&i>=t)throw Error("field id collision or not sorted");i=t;let r=Number(rc(e));n.push([t,r])}t.push([r,n]);break}case j.Func:{let i=[],n=Number(ra(e));for(;n--;)i.push(Number(rc(e)));let s=[],a=Number(ra(e));for(;a--;)s.push(Number(rc(e)));let o=[],c=Number(ra(e));for(;c--;)switch(Number(ra(e))){case 1:o.push("query");break;case 2:o.push("oneway");break;case 3:o.push("composite_query");break;default:throw Error("unknown annotation")}t.push([r,[i,s,o]]);break}case j.Service:{let i=Number(ra(e)),n=[];for(;i--;){let t=Number(ra(e)),r=new TextDecoder().decode(ri(e,t)),i=rc(e);n.push([r,i])}t.push([r,n]);break}default:throw Error("Illegal op_code: "+r)}}let i=[],n=Number(ra(e));for(let t=0;t<n;t++)i.push(Number(rc(e)));return[t,i]}(r);if(a.length<e.length)throw Error("Wrong number of return values");let o=s.map(e=>ir());function c(e){if(e<-24)throw Error("future value not supported");if(e<0)switch(e){case -1:return rG;case -2:return rz;case -3:return rH;case -4:return rZ;case -5:return r2;case -6:return r6;case -7:return r5;case -8:return r3;case -9:return rJ;case -10:return rQ;case -11:return r0;case -12:return r1;case -13:return rW;case -14:return rX;case -15:return rY;case -16:return rV;case -17:return rM;case -24:return r8;default:throw Error("Illegal op_code: "+e)}if(e>=s.length)throw Error("type index out of range");return o[e]}function l(e){switch(e[0]){case j.Vector:return r7(c(e[1]));case j.Opt:return r9(c(e[1]));case j.Record:{let t={};for(let[r,i]of e[1])t[`_${r}_`]=c(i);let r=ie(t),i=r.tryAsTuple();if(Array.isArray(i))return r4(...i);return r}case j.Variant:{let t={};for(let[r,i]of e[1])t[`_${r}_`]=c(i);return it(t)}case j.Func:{let[t,r,i]=e[1];return ii(t.map(e=>c(e)),r.map(e=>c(e)),i)}case j.Service:{let t={};for(let[r,i]of e[1]){let e=c(i);if(e instanceof rR&&(e=e.getType()),!(e instanceof rP))throw Error("Illegal service definition: services can only contain functions");t[r]=e}return is(t)}default:throw Error("Illegal op_code: "+e[0])}}s.forEach((e,t)=>{if(e[0]===j.Func){let r=l(e);o[t].fill(r)}}),s.forEach((e,t)=>{if(e[0]!==j.Func){let r=l(e);o[t].fill(r)}}),ic();let d=a.map(e=>c(e));try{let t=e.map((e,t)=>e.decodeValue(r,d[t]));for(let t=e.length;t<d.length;t++)d[t].decodeValue(r,d[t]);if(r.byteLength>0)throw Error("decode: Left-over bytes");return t}finally{ic()}}let rM=new rg,rV=new rE,rK=new rx,rz=new rw,rG=new rv,rY=new r_,rZ=new rI,rH=new rS,rW=new rT(32),rX=new rT(64),rJ=new rj(8),rQ=new rj(16),r0=new rj(32),r1=new rj(64),r2=new rN(8),r6=new rN(16),r5=new rN(32),r3=new rN(64),r8=new rU;function r4(...e){return new rO(e)}function r7(e){return new rB(e)}function r9(e){return new rC(e)}function ie(e){return new rk(e)}function it(e){return new rA(e)}function ir(){return new rR}function ii(e,t,r=[]){return new rP(e,t,r)}function is(e){return new rq(e)}class ia{constructor(e=new Map){this.rels=e}copy(){let e=new Map;for(let[t,r]of this.rels.entries()){let i=new Map(r);e.set(t,i)}return new ia(e)}known(e,t){return this.rels.get(e.name)?.get(t.name)}addNegative(e,t){this.addNames(e.name,t.name,!1)}add(e,t){this.addNames(e.name,t.name,!0)}display(){let e="";for(let[t,r]of this.rels)for(let[i,n]of r){let r=n?":<":"!<:";e+=`${t} ${r} ${i}
`}return e}addNames(e,t,r){let i=this.rels.get(e);if(void 0==i){let i=new Map;i.set(t,r),this.rels.set(e,i)}else i.set(t,r)}}let io=new ia;function ic(){io=new ia}function il(e){return e instanceof rC||e instanceof rv||e instanceof rE}function id(e,t){let r=function e(t,r,i){if(r.name===i.name)return!0;let n=t.known(r,i);if(void 0!==n)return n;if(t.add(r,i),i instanceof rE||r instanceof rg||r instanceof rS&&i instanceof rI)return!0;if(r instanceof rB&&i instanceof rB)return e(t,r._type,i._type);if(i instanceof rC)return!0;if(r instanceof rk&&i instanceof rk){let n=r.fieldsAsObject;for(let[r,s]of i._fields){let i=n[t9(r)];if(i){if(!e(t,i,s))return!1}else if(!il(s))return!1}return!0}if(r instanceof rP&&i instanceof rP){if(!function(e,t){let r=new Set(e.annotations),i=new Set(t.annotations);if(r.size!==i.size)return!1;for(let e of r)if(!i.has(e))return!1;return!0}(r,i))return!1;for(let n=0;n<r.argTypes.length;n++){let s=r.argTypes[n];if(n<i.argTypes.length){if(!e(t,i.argTypes[n],s))return!1}else if(!il(s))return!1}for(let n=0;n<i.retTypes.length;n++){let s=i.retTypes[n];if(n<r.retTypes.length){if(!e(t,r.retTypes[n],s))return!1}else if(!il(s))return!1}return!0}if(r instanceof rA&&i instanceof rA){let n=i.alternativesAsObject;for(let[i,s]of r._fields){let r=n[t9(i)];if(!r||!e(t,s,r))return!1}return!0}if(r instanceof rq&&i instanceof rq){let n=r.fieldsAsObject();for(let[r,s]of i._fields){let i=n[r];if(!i||!e(t,i,s))return!1}return!0}return r instanceof rR?e(t,r.getType(),i):i instanceof rR&&e(t,r,i.getType())}(io.copy(),e,t);return r?io.add(e,t):io.addNegative(e,t),r}e.s(["Bool",0,rz,"BoolClass",()=>rw,"ConstructType",()=>rb,"Empty",0,rM,"EmptyClass",()=>rg,"FixedIntClass",()=>rj,"FixedNatClass",()=>rN,"Float32",0,rW,"Float64",0,rX,"FloatClass",()=>rT,"Func",()=>ii,"FuncClass",()=>rP,"Int",0,rZ,"Int16",0,rQ,"Int32",0,r0,"Int64",0,r1,"Int8",0,rJ,"IntClass",()=>rI,"Nat",0,rH,"Nat16",0,r6,"Nat32",0,r5,"Nat64",0,r3,"Nat8",0,r2,"NatClass",()=>rS,"Null",0,rG,"NullClass",()=>rv,"Opt",()=>r9,"OptClass",()=>rC,"PrimitiveType",()=>ry,"Principal",0,r8,"PrincipalClass",()=>rU,"Rec",()=>ir,"RecClass",()=>rR,"Record",()=>ie,"RecordClass",()=>rk,"Reserved",0,rV,"ReservedClass",()=>rE,"Service",()=>is,"ServiceClass",()=>rq,"Text",0,rY,"TextClass",()=>r_,"Tuple",()=>r4,"TupleClass",()=>rO,"Type",()=>rm,"Unknown",0,rK,"UnknownClass",()=>rx,"Variant",()=>it,"VariantClass",()=>rA,"Vec",()=>r7,"VecClass",()=>rB,"Visitor",()=>rp,"decode",()=>r$,"encode",()=>rL,"resetSubtypeCache",()=>ic,"subtype",()=>id],37425);var iu=e.i(37425),iu=iu;class ih extends Error{constructor(e){super(e),this.name="DecodingError"}}let ip=Symbol("CBOR_STOP_CODE");var im=((i=im||{})[i.False=20]="False",i[i.True=21]="True",i[i.Null=22]="Null",i[i.Undefined=23]="Undefined",i[i.Break=31]="Break",i),iy=((n=iy||{})[n.UnsignedInteger=0]="UnsignedInteger",n[n.NegativeInteger=1]="NegativeInteger",n[n.ByteString=2]="ByteString",n[n.TextString=3]="TextString",n[n.Array=4]="Array",n[n.Map=5]="Map",n[n.Tag=6]="Tag",n[n.Simple=7]="Simple",n);let ib=BigInt("0xffffffffffffffff");var ig=((s=ig||{})[s.Value=23]="Value",s[s.OneByte=24]="OneByte",s[s.TwoBytes=25]="TwoBytes",s[s.FourBytes=26]="FourBytes",s[s.EightBytes=27]="EightBytes",s[s.Indefinite=31]="Indefinite",s);function ix(e,t){let r=new Uint8Array(t);return r.set(e),r}let iw=new TextDecoder,iv=new Uint8Array,iE,i_=0;function iI(){let e=iv.at(i_);if(null==e)throw new ih("Provided CBOR data is empty");return i_++,[(224&e)>>5,31&e]}function iS(e){if(e<=ig.Value)return e;switch(iE=new DataView(iv.buffer,iv.byteOffset+i_),e){case ig.OneByte:return i_++,iE.getUint8(0);case ig.TwoBytes:return i_+=2,iE.getUint16(0,!1);case ig.FourBytes:return i_+=4,iE.getUint32(0,!1);case ig.EightBytes:return i_+=8,iE.getBigUint64(0,!1);case ig.Indefinite:return 1/0;default:throw new ih(`Unsupported integer info: ${e.toString(2)}`)}}function iT(e){let t=iS(e);if(t>Number.MAX_SAFE_INTEGER)throw new ih("Byte length is too large");let r=Number(t);return i_+=r,iv.slice(i_-r,i_)}function ij(e){let t=iT(e);return iw.decode(t)}class iN extends Error{constructor(e){super(e),this.name="SerializationError"}}let iB=new TextEncoder,iC=new Uint8Array(2048),ik=new DataView(iC.buffer),iO=0,iA=[];function iR(e,t){if(t<=23)return void ik.setUint8(iO++,e<<5|Number(t));if(t<=255){ik.setUint8(iO++,e<<5|ig.OneByte),ik.setUint8(iO,Number(t)),iO+=1;return}if(t<=65535){ik.setUint8(iO++,e<<5|ig.TwoBytes),ik.setUint16(iO,Number(t),!1),iO+=2;return}if(t<=0xffffffff){ik.setUint8(iO++,e<<5|ig.FourBytes),ik.setUint32(iO,Number(t),!1),iO+=4;return}if(t<=ib){ik.setUint8(iO++,e<<5|ig.EightBytes),ik.setBigUint64(iO,BigInt(t),!1),iO+=8;return}throw new iN(`Value too large to encode: ${t}`)}function iD(e,t){iR(e,t.length),iO>iC.length-t.length&&(ik=new DataView((iC=ix(iC,iC.length+t.length)).buffer)),iC.set(t,iO),iO+=t.length}function iU(e){iD(iy.TextString,iB.encode(e))}function iP(e){iD(iy.ByteString,e)}let iq=()=>{if("u">typeof window&&window.crypto&&window.crypto.getRandomValues){let e=new Uint32Array(1);return window.crypto.getRandomValues(e),e[0]}if("u">typeof crypto&&crypto.getRandomValues){let e=new Uint32Array(1);return crypto.getRandomValues(e),e[0]}return"u">typeof crypto&&crypto.randomInt?crypto.randomInt(0,0xffffffff):Math.floor(0xffffffff*Math.random())};function iF(){let e=new ArrayBuffer(16),t=new DataView(e),r=iq(),i=iq(),n=iq(),s=iq();return t.setUint32(0,r),t.setUint32(4,i),t.setUint32(8,n),t.setUint32(12,s),Object.assign(new Uint8Array(e),{__nonce__:void 0})}(y=B||(B={})).Query="read",y.ReadState="read_state",y.Call="call",(C||(C={})).Call="call",(b=k||(k={})).Query="query",b.ReadState="read_state";let iL="__expiry__",i$=BigInt(1e3),iM=BigInt(1e6),iV=BigInt(60)*i$,iK=BigInt(1)*iV;class iz{constructor(e){this.__expiry__=e,this._isExpiry=!0}static fromDeltaInMilliseconds(e,t=0){let r,i=BigInt(Date.now())+BigInt(t),n=i+BigInt(e),s=n/iV*iV;return new iz((r=s>=i+iK?s:n/i$*i$)*iM)}toBigInt(){return this.__expiry__}toHash(){return rs(this.__expiry__)}toString(){return this.__expiry__.toString()}toJSON(){return{[iL]:this.toString()}}static fromJSON(e){let t=JSON.parse(e);if(t[iL])try{let e=BigInt(t[iL]);return new iz(e)}catch(e){throw new eV(new tg(`Not a valid BigInt: ${e}`))}throw new eV(new tg(`The input does not contain the key ${iL}`))}static isExpiry(e){return e instanceof iz||"object"==typeof e&&null!==e&&"_isExpiry"in e&&!0===e._isExpiry&&"__expiry__"in e&&"bigint"==typeof e.__expiry__}}function iG(e=iF){return async t=>{let r=t.request.headers;t.request.headers=r,t.endpoint===B.Call&&(t.body.nonce=e())}}function iY(e){let t=[];return e.forEach((e,r)=>{t.push([r,e])}),t}function iZ(e){try{var t,r,i;return t=e=>t5.isPrincipal(e)?e.toUint8Array():iz.isExpiry(e)?e.toBigInt():"object"==typeof e&&null!==e&&"toCborValue"in e?e.toCborValue():e,iO=0,r=(null==t?void 0:t(e))??e,i=t,iR(iy.Tag,55799),function e(t,r){var i,n,s,a,o;if(iO>iC.length-100&&(ik=new DataView((iC=ix(iC,2*iC.length)).buffer)),!1===t||!0===t||null==t){return void(i=t,iR(iy.Simple,function(e){if(!1===e)return im.False;if(!0===e)return im.True;if(null===e)return im.Null;if(void 0===e)return im.Undefined;throw new iN(`Unrecognized simple value: ${e.toString()}`)}(i)))}if("number"==typeof t||"bigint"==typeof t)return void function(e){e>=0?iR(iy.UnsignedInteger,e):iR(iy.NegativeInteger,"bigint"==typeof e?-1n-e:-1-e)}(t);if("string"==typeof t)return void iU(t);if(t instanceof Uint8Array)return void iP(t);if(t instanceof ArrayBuffer)return void iP(new Uint8Array(t));if(Array.isArray(t)){return void(n=t,s=r,iR(iy.Array,n.length),n.forEach((t,r)=>{e((null==s?void 0:s(t,r.toString()))??t,s)}))}if("object"==typeof t){return void(a=t,o=r,iA=Object.entries(a),iR(iy.Map,iA.length),iA.forEach(([t,r])=>{iU(t),e((null==o?void 0:o(r,t))??r,o)}))}throw new iN(`Unsupported type: ${typeof t}`)}(r,i),iC.slice(0,iO)}catch(t){throw eV.fromCode(new e5(t,e))}}function iH(e){try{let t;return iv=e,i_=0,t=function e(t){let[r,i]=iI();switch(r){case iy.UnsignedInteger:return iS(i);case iy.NegativeInteger:let n;return"number"==typeof(n=iS(i))?-1-n:-1n-n;case iy.ByteString:return iT(i);case iy.TextString:return ij(i);case iy.Array:return function(t,r){let i=iS(t);if(i===1/0){let t=[],i=e(r);for(;i!==ip;)t.push((null==r?void 0:r(i))??i),i=e(r);return t}let n=Array(i);for(let t=0;t<i;t++){let i=e(r);n[t]=(null==r?void 0:r(i))??i}return n}(i,t);case iy.Map:return function(t,r){let i=iS(t),n={};if(i===1/0){let[t,i]=iI();for(;t!==iy.Simple&&i!==im.Break;){let s=ij(i),a=e(r);n[s]=(null==r?void 0:r(a,s))??a,[t,i]=iI()}return n}for(let t=0;t<i;t++){let[t,i]=iI();if(t!==iy.TextString)throw new ih("Map keys must be text strings");let s=ij(i),a=e(r);n[s]=(null==r?void 0:r(a,s))??a}return n}(i,t);case iy.Tag:var s=i,a=t;let o=iS(s);if(55799===o)return e(a);throw new ih(`Unsupported tag: ${o}.`);case iy.Simple:var c=i;switch(c){case im.False:return!1;case im.True:return!0;case im.Null:return null;case im.Undefined:return;case im.Break:return ip}throw new ih(`Unrecognized simple type: ${c.toString(2)}`)}throw new ih(`Unsupported major type: ${r}`)}(void 0),(void 0)??t}catch(t){throw eV.fromCode(new e6(t,e))}}let iW=BigInt(0),iX=BigInt(1);function iJ(e,t=""){if("boolean"!=typeof e)throw Error((t&&`"${t}"`)+"expected boolean, got type="+typeof e);return e}function iQ(e,t,r=""){let i=eg(e),n=e?.length,s=void 0!==t;if(!i||s&&n!==t)throw Error((r&&`"${r}" `)+"expected Uint8Array"+(s?` of length ${t}`:"")+", got "+(i?`length=${n}`:`type=${typeof e}`));return e}function i0(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);return""===e?iW:BigInt("0x"+e)}function i1(e){return i0(eT(e))}function i2(e){return ex(e),i0(eT(Uint8Array.from(e).reverse()))}function i6(e,t){return eN(e.toString(16).padStart(2*t,"0"))}function i5(e,t){return i6(e,t).reverse()}function i3(e,t,r){let i;if("string"==typeof t)try{i=eN(t)}catch(t){throw Error(e+" must be hex string or Uint8Array, cause: "+t)}else if(eg(t))i=Uint8Array.from(t);else throw Error(e+" must be hex string or Uint8Array");let n=i.length;if("number"==typeof r&&n!==r)throw Error(e+" of length "+r+" expected, got "+n);return i}function i8(e){return Uint8Array.from(e)}let i4=e=>"bigint"==typeof e&&iW<=e;function i7(e,t,r){return i4(e)&&i4(t)&&i4(r)&&t<=e&&e<r}function i9(e,t,r,i){if(!i7(t,r,i))throw Error("expected valid "+e+": "+r+" <= n < "+i+", got "+t)}function ne(e){let t;for(t=0;e>iW;e>>=iX,t+=1);return t}let nt=e=>(iX<<BigInt(e))-iX;function nr(e,t,r={}){if(!e||"object"!=typeof e)throw Error("expected valid options object");function i(t,r,i){let n=e[t];if(i&&void 0===n)return;let s=typeof n;if(s!==r||null===n)throw Error(`param "${t}" is invalid: expected ${r}, got ${s}`)}Object.entries(t).forEach(([e,t])=>i(e,t,!1)),Object.entries(r).forEach(([e,t])=>i(e,t,!0))}let ni=()=>{throw Error("not implemented")};function nn(e){let t=new WeakMap;return(r,...i)=>{let n=t.get(r);if(void 0!==n)return n;let s=e(r,...i);return t.set(r,s),s}}let ns=BigInt(0),na=BigInt(1),no=BigInt(2),nc=BigInt(3),nl=BigInt(4),nd=BigInt(5),nu=BigInt(7),nf=BigInt(8),nh=BigInt(9),np=BigInt(16);function nm(e,t){let r=e%t;return r>=ns?r:t+r}function ny(e,t,r){let i=e;for(;t-- >ns;)i*=i,i%=r;return i}function nb(e,t){if(e===ns)throw Error("invert: expected non-zero number");if(t<=ns)throw Error("invert: expected positive modulus, got "+t);let r=nm(e,t),i=t,n=ns,s=na,a=na,o=ns;for(;r!==ns;){let e=i/r,t=i%r,c=n-a*e,l=s-o*e;i=r,r=t,n=a,s=o,a=c,o=l}if(i!==na)throw Error("invert: does not exist");return nm(n,t)}function ng(e,t,r){if(!e.eql(e.sqr(t),r))throw Error("Cannot find square root")}function nx(e,t){let r=(e.ORDER+na)/nl,i=e.pow(t,r);return ng(e,i,t),i}function nw(e,t){let r=(e.ORDER-nd)/nf,i=e.mul(t,no),n=e.pow(i,r),s=e.mul(t,n),a=e.mul(e.mul(s,no),n),o=e.mul(s,e.sub(a,e.ONE));return ng(e,o,t),o}function nv(e){if(e<nc)throw Error("sqrt is not defined for small field");let t=e-na,r=0;for(;t%no===ns;)t/=no,r++;let i=no,n=nN(e);for(;1===nj(n,i);)if(i++>1e3)throw Error("Cannot find square root: probably non-prime P");if(1===r)return nx;let s=n.pow(i,t),a=(t+na)/no;return function(e,i){if(e.is0(i))return i;if(1!==nj(e,i))throw Error("Cannot find square root");let n=r,o=e.mul(e.ONE,s),c=e.pow(i,t),l=e.pow(i,a);for(;!e.eql(c,e.ONE);){if(e.is0(c))return e.ZERO;let t=1,r=e.sqr(c);for(;!e.eql(r,e.ONE);)if(t++,r=e.sqr(r),t===n)throw Error("Cannot find square root");let i=na<<BigInt(n-t-1),s=e.pow(o,i);n=t,o=e.sqr(s),c=e.mul(c,o),l=e.mul(l,s)}return l}}let nE=(e,t)=>(nm(e,t)&na)===na,n_=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function nI(e){return nr(e,n_.reduce((e,t)=>(e[t]="function",e),{ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"})),e}function nS(e,t,r){if(r<ns)throw Error("invalid exponent, negatives unsupported");if(r===ns)return e.ONE;if(r===na)return t;let i=e.ONE,n=t;for(;r>ns;)r&na&&(i=e.mul(i,n)),n=e.sqr(n),r>>=na;return i}function nT(e,t,r=!1){let i=Array(t.length).fill(r?e.ZERO:void 0),n=t.reduce((t,r,n)=>e.is0(r)?t:(i[n]=t,e.mul(t,r)),e.ONE),s=e.inv(n);return t.reduceRight((t,r,n)=>e.is0(r)?t:(i[n]=e.mul(t,i[n]),e.mul(t,r)),s),i}function nj(e,t){let r=(e.ORDER-na)/no,i=e.pow(t,r),n=e.eql(i,e.ONE),s=e.eql(i,e.ZERO),a=e.eql(i,e.neg(e.ONE));if(!n&&!s&&!a)throw Error("invalid Legendre symbol result");return n?1:s?0:-1}function nN(e,t,r=!1,i={}){var n;let s,a,o,c,l,d;if(e<=ns)throw Error("invalid field: expected ORDER > 0, got "+e);let u=!1;if("object"==typeof t&&null!=t){if(i.sqrt||r)throw Error("cannot specify opts in two arguments");t.BITS&&(a=t.BITS),t.sqrt&&(o=t.sqrt),"boolean"==typeof t.isLE&&(r=t.isLE),"boolean"==typeof t.modFromBytes&&(u=t.modFromBytes),c=t.allowedLengths}else"number"==typeof t&&(a=t),i.sqrt&&(o=i.sqrt);let{nBitLength:f,nByteLength:h}=(void 0!==(n=a)&&function(e){if(!Number.isSafeInteger(e)||e<0)throw Error("positive integer expected, got "+e)}(n),d=Math.ceil((l=void 0!==n?n:e.toString(2).length)/8),{nBitLength:l,nByteLength:d});if(h>2048)throw Error("invalid field: expected ORDER of <= 2048 bytes");let p=Object.freeze({ORDER:e,isLE:r,BITS:f,BYTES:h,MASK:nt(f),ZERO:ns,ONE:na,allowedLengths:c,create:t=>nm(t,e),isValid:t=>{if("bigint"!=typeof t)throw Error("invalid field element: expected bigint, got "+typeof t);return ns<=t&&t<e},is0:e=>e===ns,isValidNot0:e=>!p.is0(e)&&p.isValid(e),isOdd:e=>(e&na)===na,neg:t=>nm(-t,e),eql:(e,t)=>e===t,sqr:t=>nm(t*t,e),add:(t,r)=>nm(t+r,e),sub:(t,r)=>nm(t-r,e),mul:(t,r)=>nm(t*r,e),pow:(e,t)=>nS(p,e,t),div:(t,r)=>nm(t*nb(r,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>nb(t,e),sqrt:o||(t=>(s||(s=function(e){if(e%nl===nc)return nx;if(e%nf===nd)return nw;if(e%np===nh){let t,r,i,n,s,a;return t=nN(e),i=(r=nv(e))(t,t.neg(t.ONE)),n=r(t,i),s=r(t,t.neg(i)),a=(e+nu)/np,(e,t)=>{let r=e.pow(t,a),o=e.mul(r,i),c=e.mul(r,n),l=e.mul(r,s),d=e.eql(e.sqr(o),t),u=e.eql(e.sqr(c),t);r=e.cmov(r,o,d),o=e.cmov(l,c,u);let f=e.eql(e.sqr(o),t),h=e.cmov(r,o,f);return ng(e,h,t),h}}return nv(e)}(e)),s(p,t))),toBytes:e=>r?i5(e,h):i6(e,h),fromBytes:(t,i=!0)=>{if(c){if(!c.includes(t.length)||t.length>h)throw Error("Field.fromBytes: expected "+c+" bytes, got "+t.length);let e=new Uint8Array(h);e.set(t,r?0:e.length-t.length),t=e}if(t.length!==h)throw Error("Field.fromBytes: expected "+h+" bytes, got "+t.length);let n=r?i2(t):i1(t);if(u&&(n=nm(n,e)),!i&&!p.isValid(n))throw Error("invalid field element: outside of range 0..ORDER");return n},invertBatch:e=>nT(p,e),cmov:(e,t,r)=>r?t:e});return Object.freeze(p)}function nB(e){if("bigint"!=typeof e)throw Error("field order must be bigint");return Math.ceil(e.toString(2).length/8)}function nC(e){let t=nB(e);return t+Math.ceil(t/2)}let nk=BigInt(0),nO=BigInt(1);function nA(e,t){let r=t.negate();return e?r:t}function nR(e,t){let r=nT(e.Fp,t.map(e=>e.Z));return t.map((t,i)=>e.fromAffine(t.toAffine(r[i])))}function nD(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw Error("invalid window size, expected [1.."+t+"], got W="+e)}function nU(e,t){nD(e,t);let r=Math.ceil(t/e)+1,i=2**(e-1),n=2**e;return{windows:r,windowSize:i,mask:nt(e),maxNumber:n,shiftBy:BigInt(e)}}function nP(e,t,r){let{windowSize:i,mask:n,maxNumber:s,shiftBy:a}=r,o=Number(e&n),c=e>>a;o>i&&(o-=s,c+=nO);let l=t*i,d=l+Math.abs(o)-1,u=0===o;return{nextN:c,offset:d,isZero:u,isNeg:o<0,isNegF:t%2!=0,offsetF:l}}let nq=new WeakMap,nF=new WeakMap;function nL(e){return nF.get(e)||1}function n$(e){if(e!==nk)throw Error("invalid wNAF")}class nM{constructor(e,t){this.BASE=e.BASE,this.ZERO=e.ZERO,this.Fn=e.Fn,this.bits=t}_unsafeLadder(e,t,r=this.ZERO){let i=e;for(;t>nk;)t&nO&&(r=r.add(i)),i=i.double(),t>>=nO;return r}precomputeWindow(e,t){let{windows:r,windowSize:i}=nU(t,this.bits),n=[],s=e,a=s;for(let e=0;e<r;e++){a=s,n.push(a);for(let e=1;e<i;e++)a=a.add(s),n.push(a);s=a.double()}return n}wNAF(e,t,r){if(!this.Fn.isValid(r))throw Error("invalid scalar");let i=this.ZERO,n=this.BASE,s=nU(e,this.bits);for(let e=0;e<s.windows;e++){let{nextN:a,offset:o,isZero:c,isNeg:l,isNegF:d,offsetF:u}=nP(r,e,s);r=a,c?n=n.add(nA(d,t[u])):i=i.add(nA(l,t[o]))}return n$(r),{p:i,f:n}}wNAFUnsafe(e,t,r,i=this.ZERO){let n=nU(e,this.bits);for(let e=0;e<n.windows&&r!==nk;e++){let{nextN:s,offset:a,isZero:o,isNeg:c}=nP(r,e,n);if(r=s,!o){let e=t[a];i=i.add(c?e.negate():e)}}return n$(r),i}getPrecomputes(e,t,r){let i=nq.get(t);return i||(i=this.precomputeWindow(t,e),1!==e&&("function"==typeof r&&(i=r(i)),nq.set(t,i))),i}cached(e,t,r){let i=nL(e);return this.wNAF(i,this.getPrecomputes(i,e,r),t)}unsafe(e,t,r,i){let n=nL(e);return 1===n?this._unsafeLadder(e,t,i):this.wNAFUnsafe(n,this.getPrecomputes(n,e,r),t,i)}createCache(e,t){nD(t,this.bits),nF.set(e,t),nq.delete(e)}hasCache(e){return 1!==nL(e)}}function nV(e,t,r,i){if(!Array.isArray(r))throw Error("array expected");r.forEach((t,r)=>{if(!(t instanceof e))throw Error("invalid point at index "+r)});if(!Array.isArray(i))throw Error("array of scalars expected");i.forEach((e,r)=>{if(!t.isValid(e))throw Error("invalid scalar at index "+r)});let n=r.length,s=i.length;if(n!==s)throw Error("arrays of points and scalars must have equal length");let a=e.ZERO,o=ne(BigInt(n)),c=1;o>12?c=o-3:o>4?c=o-2:o>0&&(c=2);let l=nt(c),d=Array(Number(l)+1).fill(a),u=Math.floor((t.BITS-1)/c)*c,f=a;for(let e=u;e>=0;e-=c){d.fill(a);for(let t=0;t<s;t++){let n=Number(i[t]>>BigInt(e)&l);d[n]=d[n].add(r[t])}let t=a;for(let e=d.length-1,r=a;e>0;e--)r=r.add(d[e]),t=t.add(r);if(f=f.add(t),0!==e)for(let e=0;e<c;e++)f=f.double()}return f}function nK(e,t,r){if(!t)return nN(e,{isLE:r});if(t.ORDER!==e)throw Error("Field.ORDER must match order: Fp == p, Fn == n");return nI(t),t}function nz(e,t,r={},i){if(void 0===i&&(i="edwards"===e),!t||"object"!=typeof t)throw Error(`expected valid ${e} CURVE object`);for(let e of["p","n","h"]){let r=t[e];if(!("bigint"==typeof r&&r>nk))throw Error(`CURVE.${e} must be positive bigint`)}let n=nK(t.p,r.Fp,i),s=nK(t.n,r.Fn,i);for(let r of["Gx","Gy","a","weierstrass"===e?"b":"d"])if(!n.isValid(t[r]))throw Error(`CURVE.${r} must be valid field element of CURVE.Fp`);return{CURVE:t=Object.freeze(Object.assign({},t)),Fp:n,Fn:s}}function nG(e,t){if(nY(e),nY(t),e<0||e>=1<<8*t)throw Error("invalid I2OSP input: "+e);let r=Array.from({length:t}).fill(0);for(let i=t-1;i>=0;i--)r[i]=255&e,e>>>=8;return new Uint8Array(r)}function nY(e){if(!Number.isSafeInteger(e))throw Error("number expected")}function nZ(e){if(!eg(e)&&"string"!=typeof e)throw Error("DST must be Uint8Array or string");return"string"==typeof e?eB(e):e}function nH(e,t,r){var i;let n;nr(r,{p:"bigint",m:"number",k:"number",hash:"function"});let{p:s,k:a,m:o,hash:c,expand:l,DST:d}=r;if(!("function"==typeof(i=r.hash)&&Number.isSafeInteger(i.outputLen)))throw Error("expected valid hash");ex(e),nY(t);let u=Math.ceil((s.toString(2).length+a)/8),f=t*o*u;if("xmd"===l)n=function(e,t,r,i){ex(e),nY(r),(t=nZ(t)).length>255&&(t=i(ek(eB("H2C-OVERSIZE-DST-"),t)));let{outputLen:n,blockLen:s}=i,a=Math.ceil(r/n);if(r>65535||a>255)throw Error("expand_message_xmd: invalid lenInBytes");let o=ek(t,nG(t.length,1)),c=nG(0,s),l=nG(r,2),d=Array(a),u=i(ek(c,e,l,nG(0,1),o));d[0]=i(ek(u,nG(1,1),o));for(let e=1;e<=a;e++){let t=[function(e,t){let r=new Uint8Array(e.length);for(let i=0;i<e.length;i++)r[i]=e[i]^t[i];return r}(u,d[e-1]),nG(e+1,1),o];d[e]=i(ek(...t))}return ek(...d).slice(0,r)}(e,d,f,c);else if("xof"===l)n=function(e,t,r,i,n){if(ex(e),nY(r),(t=nZ(t)).length>255){let e=Math.ceil(2*i/8);t=n.create({dkLen:e}).update(eB("H2C-OVERSIZE-DST-")).update(t).digest()}if(r>65535||t.length>255)throw Error("expand_message_xof: invalid lenInBytes");return n.create({dkLen:r}).update(e).update(nG(r,2)).update(t).update(nG(t.length,1)).digest()}(e,d,f,a,c);else if("_internal_pass"===l)n=e;else throw Error('expand must be "xmd" or "xof"');let h=Array(t);for(let e=0;e<t;e++){let t=Array(o);for(let r=0;r<o;r++){let i=u*(r+e*o),a=n.subarray(i,i+u);t[r]=nm(i1(a),s)}h[e]=t}return h}function nW(e,t){let r=t.map(e=>Array.from(e).reverse());return(t,i)=>{let[n,s,a,o]=r.map(r=>r.reduce((r,i)=>e.add(e.mul(r,t),i))),[c,l]=nT(e,[s,o],!0);return t=e.mul(n,c),i=e.mul(i,e.mul(a,l)),{x:t,y:i}}}let nX=eB("HashToScalar-");function nJ(e,t,r){if("function"!=typeof t)throw Error("mapToCurve() must be defined");function i(r){return e.fromAffine(t(r))}function n(t){let r=t.clearCofactor();return r.equals(e.ZERO)?e.ZERO:(r.assertValidity(),r)}return{defaults:r,hashToCurve(e,t){let s=nH(e,2,Object.assign({},r,t)),a=i(s[0]),o=i(s[1]);return n(a.add(o))},encodeToCurve(e,t){let s=r.encodeDST?{DST:r.encodeDST}:{};return n(i(nH(e,1,Object.assign({},r,s,t))[0]))},mapToCurve(e){if(!Array.isArray(e))throw Error("expected array of bigints");for(let t of e)if("bigint"!=typeof t)throw Error("expected array of bigints");return n(i(e))},hashToScalar:(t,i)=>nH(t,1,Object.assign({},r,{p:e.Fn.ORDER,m:1,DST:nX},i))[0][0]}}let nQ=(e,t)=>(e+(e>=0?t:-t)/n2)/t,n0=BigInt(0),n1=BigInt(1),n2=BigInt(2),n6=BigInt(3),n5=BigInt(4);function n3(e,t){let r,{BYTES:i}=e;if("bigint"==typeof t)r=t;else{let n=i3("private key",t);try{r=e.fromBytes(n)}catch(e){throw Error(`invalid private key: expected ui8a of size ${i}, got ${typeof t}`)}}if(!e.isValidNot0(r))throw Error("invalid private key: out of range [1..N-1]");return r}function n8(e,t){nI(e);let{A:r,B:i,Z:n}=t;if(!e.isValid(r)||!e.isValid(i)||!e.isValid(n))throw Error("mapToCurveSimpleSWU: invalid opts");let s=function(e,t){let r=e.ORDER,i=n0;for(let e=r-n1;e%n2===n0;e/=n2)i+=n1;let n=i,s=n2<<n-n1-n1,a=s*n2,o=(r-n1)/a,c=(o-n1)/n2,l=a-n1,d=e.pow(t,o),u=e.pow(t,(o+n1)/n2),f=(t,r)=>{let i=d,a=e.pow(r,l),o=e.sqr(a);o=e.mul(o,r);let f=e.mul(t,o);f=e.pow(f,c),f=e.mul(f,a),a=e.mul(f,r),o=e.mul(f,t);let h=e.mul(o,a);f=e.pow(h,s);let p=e.eql(f,e.ONE);a=e.mul(o,u),f=e.mul(h,i),o=e.cmov(a,o,p),h=e.cmov(f,h,p);for(let t=n;t>n1;t--){let r=t-n2;r=n2<<r-n1;let n=e.pow(h,r),s=e.eql(n,e.ONE);a=e.mul(o,i),i=e.mul(i,i),n=e.mul(h,i),o=e.cmov(a,o,s),h=e.cmov(n,h,s)}return{isValid:p,value:o}};if(e.ORDER%n5===n6){let r=(e.ORDER-n6)/n5,i=e.sqrt(e.neg(t));f=(t,n)=>{let s=e.sqr(n),a=e.mul(t,n);s=e.mul(s,a);let o=e.pow(s,r);o=e.mul(o,a);let c=e.mul(o,i),l=e.mul(e.sqr(o),n),d=e.eql(l,t),u=e.cmov(c,o,d);return{isValid:d,value:u}}}return f}(e,n);if(!e.isOdd)throw Error("Field does not have .isOdd()");return t=>{let a,o,c,l,d,u,f,h;a=e.sqr(t),a=e.mul(a,n),o=e.sqr(a),o=e.add(o,a),c=e.add(o,e.ONE),c=e.mul(c,i),l=e.cmov(n,e.neg(o),!e.eql(o,e.ZERO)),l=e.mul(l,r),o=e.sqr(c),u=e.sqr(l),d=e.mul(u,r),o=e.add(o,d),o=e.mul(o,c),u=e.mul(u,l),d=e.mul(u,i),o=e.add(o,d),f=e.mul(a,c);let{isValid:p,value:m}=s(o,u);h=e.mul(a,t),h=e.mul(h,m),f=e.cmov(f,c,p),h=e.cmov(h,m,p);let y=e.isOdd(t)===e.isOdd(h);h=e.cmov(e.neg(h),h,y);let b=nT(e,[l],!0)[0];return{x:f=e.mul(f,b),y:h}}}function n4(e){var t;let r,i,n,s,{CURVE:a,curveOpts:o}=(r={a:(t=e).a,b:t.b,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},i=t.Fp,n=t.allowedPrivateKeyLengths?Array.from(new Set(t.allowedPrivateKeyLengths.map(e=>Math.ceil(e/2)))):void 0,s={Fp:i,Fn:nN(r.n,{BITS:t.nBitLength,allowedLengths:n,modFromBytes:t.wrapPrivateKey}),allowInfinityPoint:t.allowInfinityPoint,endo:t.endo,isTorsionFree:t.isTorsionFree,clearCofactor:t.clearCofactor,fromBytes:t.fromBytes,toBytes:t.toBytes},{CURVE:r,curveOpts:s});return function(e,t){var r,i;let{Fp:n,Fn:s}=t,a=(r=e.a,i=e.b,function(e){let t=n.sqr(e),s=n.mul(t,e);return n.add(n.add(s,n.mul(e,r)),i)});return Object.assign({},{CURVE:e,Point:t,ProjectivePoint:t,normPrivateKeyToScalar:e=>n3(s,e),weierstrassEquation:a,isWithinCurveOrder:function(e){return i7(e,n1,s.ORDER)}})}(e,function(e,t={}){var r,i;let n=nz("weierstrass",e,t),{Fp:s,Fn:a}=n,o=n.CURVE,{h:c,n:l}=o;nr(t,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});let{endo:d}=t;if(d&&(!s.is0(o.a)||"bigint"!=typeof d.beta||!Array.isArray(d.basises)))throw Error('invalid endo: expected "beta": bigint and "basises": array');let u=(r=s,{secretKey:(i=a).BYTES,publicKey:1+r.BYTES,publicKeyUncompressed:1+2*r.BYTES,publicKeyHasPrefix:!0,signature:2*i.BYTES});function f(){if(!s.isOdd)throw Error("compression is not supported: Field does not have .isOdd()")}let h=t.toBytes||function(e,t,r){var i;let{x:n,y:a}=t.toAffine(),o=s.toBytes(n);return(iJ(r,"isCompressed"),r)?(f(),ek((i=!s.isOdd(a),Uint8Array.of(i?2:3)),o)):ek(Uint8Array.of(4),o,s.toBytes(a))},p=t.fromBytes||function(e){iQ(e,void 0,"Point");let{publicKey:t,publicKeyUncompressed:r}=u,i=e.length,n=e[0],a=e.subarray(1);if(i===t&&(2===n||3===n)){let e,t=s.fromBytes(a);if(!s.isValid(t))throw Error("bad point: is not on curve, wrong x");let r=m(t);try{e=s.sqrt(r)}catch(e){throw Error("bad point: is not on curve, sqrt error"+(e instanceof Error?": "+e.message:""))}return f(),(1&n)==1!==s.isOdd(e)&&(e=s.neg(e)),{x:t,y:e}}if(i===r&&4===n){let e=s.BYTES,t=s.fromBytes(a.subarray(0,e)),r=s.fromBytes(a.subarray(e,2*e));if(!y(t,r))throw Error("bad point: is not on curve");return{x:t,y:r}}throw Error(`bad point: got length ${i}, expected compressed=${t} or uncompressed=${r}`)};function m(e){let t=s.sqr(e),r=s.mul(t,e);return s.add(s.add(r,s.mul(e,o.a)),o.b)}function y(e,t){let r=s.sqr(t),i=m(e);return s.eql(r,i)}if(!y(o.Gx,o.Gy))throw Error("bad curve params: generator point");let b=s.mul(s.pow(o.a,n6),n5),g=s.mul(s.sqr(o.b),BigInt(27));if(s.is0(s.add(b,g)))throw Error("bad curve params: a or b");function x(e,t,r=!1){if(!s.isValid(t)||r&&s.is0(t))throw Error(`bad point coordinate ${e}`);return t}function w(e){if(!(e instanceof S))throw Error("ProjectivePoint expected")}function v(e){if(!d||!d.basises)throw Error("no endo");return function(e,t,r){let[[i,n],[s,a]]=t,o=nQ(a*e,r),c=nQ(-n*e,r),l=e-o*i-c*s,d=-o*n-c*a,u=l<n0,f=d<n0;u&&(l=-l),f&&(d=-d);let h=nt(Math.ceil(ne(r)/2))+n1;if(l<n0||l>=h||d<n0||d>=h)throw Error("splitScalar (endomorphism): failed, k="+e);return{k1neg:u,k1:l,k2neg:f,k2:d}}(e,d.basises,a.ORDER)}let E=nn((e,t)=>{let{X:r,Y:i,Z:n}=e;if(s.eql(n,s.ONE))return{x:r,y:i};let a=e.is0();null==t&&(t=a?s.ONE:s.inv(n));let o=s.mul(r,t),c=s.mul(i,t),l=s.mul(n,t);if(a)return{x:s.ZERO,y:s.ZERO};if(!s.eql(l,s.ONE))throw Error("invZ was invalid");return{x:o,y:c}}),_=nn(e=>{if(e.is0()){if(t.allowInfinityPoint&&!s.is0(e.Y))return;throw Error("bad point: ZERO")}let{x:r,y:i}=e.toAffine();if(!s.isValid(r)||!s.isValid(i))throw Error("bad point: x or y not field elements");if(!y(r,i))throw Error("bad point: equation left != right");if(!e.isTorsionFree())throw Error("bad point: not in prime-order subgroup");return!0});function I(e,t,r,i,n){return r=new S(s.mul(r.X,e),r.Y,r.Z),t=nA(i,t),r=nA(n,r),t.add(r)}class S{constructor(e,t,r){this.X=x("x",e),this.Y=x("y",t,!0),this.Z=x("z",r),Object.freeze(this)}static CURVE(){return o}static fromAffine(e){let{x:t,y:r}=e||{};if(!e||!s.isValid(t)||!s.isValid(r))throw Error("invalid affine point");if(e instanceof S)throw Error("projective point not allowed");return s.is0(t)&&s.is0(r)?S.ZERO:new S(t,r,s.ONE)}static fromBytes(e){let t=S.fromAffine(p(iQ(e,void 0,"point")));return t.assertValidity(),t}static fromHex(e){return S.fromBytes(i3("pointHex",e))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(e=8,t=!0){return j.createCache(this,e),t||this.multiply(n6),this}assertValidity(){_(this)}hasEvenY(){let{y:e}=this.toAffine();if(!s.isOdd)throw Error("Field doesn't support isOdd");return!s.isOdd(e)}equals(e){w(e);let{X:t,Y:r,Z:i}=this,{X:n,Y:a,Z:o}=e,c=s.eql(s.mul(t,o),s.mul(n,i)),l=s.eql(s.mul(r,o),s.mul(a,i));return c&&l}negate(){return new S(this.X,s.neg(this.Y),this.Z)}double(){let{a:e,b:t}=o,r=s.mul(t,n6),{X:i,Y:n,Z:a}=this,c=s.ZERO,l=s.ZERO,d=s.ZERO,u=s.mul(i,i),f=s.mul(n,n),h=s.mul(a,a),p=s.mul(i,n);return p=s.add(p,p),d=s.mul(i,a),d=s.add(d,d),c=s.mul(e,d),l=s.mul(r,h),l=s.add(c,l),c=s.sub(f,l),l=s.add(f,l),l=s.mul(c,l),c=s.mul(p,c),d=s.mul(r,d),h=s.mul(e,h),p=s.sub(u,h),p=s.mul(e,p),p=s.add(p,d),d=s.add(u,u),u=s.add(d,u),u=s.add(u,h),u=s.mul(u,p),l=s.add(l,u),h=s.mul(n,a),h=s.add(h,h),u=s.mul(h,p),c=s.sub(c,u),d=s.mul(h,f),d=s.add(d,d),new S(c,l,d=s.add(d,d))}add(e){w(e);let{X:t,Y:r,Z:i}=this,{X:n,Y:a,Z:c}=e,l=s.ZERO,d=s.ZERO,u=s.ZERO,f=o.a,h=s.mul(o.b,n6),p=s.mul(t,n),m=s.mul(r,a),y=s.mul(i,c),b=s.add(t,r),g=s.add(n,a);b=s.mul(b,g),g=s.add(p,m),b=s.sub(b,g),g=s.add(t,i);let x=s.add(n,c);return g=s.mul(g,x),x=s.add(p,y),g=s.sub(g,x),x=s.add(r,i),l=s.add(a,c),x=s.mul(x,l),l=s.add(m,y),x=s.sub(x,l),u=s.mul(f,g),l=s.mul(h,y),u=s.add(l,u),l=s.sub(m,u),u=s.add(m,u),d=s.mul(l,u),m=s.add(p,p),m=s.add(m,p),y=s.mul(f,y),g=s.mul(h,g),m=s.add(m,y),y=s.sub(p,y),y=s.mul(f,y),g=s.add(g,y),p=s.mul(m,g),d=s.add(d,p),p=s.mul(x,g),l=s.mul(b,l),l=s.sub(l,p),p=s.mul(b,m),u=s.mul(x,u),new S(l,d,u=s.add(u,p))}subtract(e){return this.add(e.negate())}is0(){return this.equals(S.ZERO)}multiply(e){let r,i,{endo:n}=t;if(!a.isValidNot0(e))throw Error("invalid scalar: out of range");let s=e=>j.cached(this,e,e=>nR(S,e));if(n){let{k1neg:t,k1:a,k2neg:o,k2:c}=v(e),{p:l,f:d}=s(a),{p:u,f:f}=s(c);i=d.add(f),r=I(n.beta,l,u,t,o)}else{let{p:t,f:n}=s(e);r=t,i=n}return nR(S,[r,i])[0]}multiplyUnsafe(e){let{endo:r}=t;if(!a.isValid(e))throw Error("invalid scalar: out of range");if(e===n0||this.is0())return S.ZERO;if(e===n1)return this;if(j.hasCache(this))return this.multiply(e);if(!r)return j.unsafe(this,e);{let{k1neg:t,k1:i,k2neg:n,k2:s}=v(e),{p1:a,p2:o}=function(e,t,r,i){let n=t,s=e.ZERO,a=e.ZERO;for(;r>nk||i>nk;)r&nO&&(s=s.add(n)),i&nO&&(a=a.add(n)),n=n.double(),r>>=nO,i>>=nO;return{p1:s,p2:a}}(S,this,i,s);return I(r.beta,a,o,t,n)}}multiplyAndAddUnsafe(e,t,r){let i=this.multiplyUnsafe(t).add(e.multiplyUnsafe(r));return i.is0()?void 0:i}toAffine(e){return E(this,e)}isTorsionFree(){let{isTorsionFree:e}=t;return c===n1||(e?e(S,this):j.unsafe(this,l).is0())}clearCofactor(){let{clearCofactor:e}=t;return c===n1?this:e?e(S,this):this.multiplyUnsafe(c)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}toBytes(e=!0){return iJ(e,"isCompressed"),this.assertValidity(),h(S,this,e)}toHex(e=!0){return eT(this.toBytes(e))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(e=!0){return this.toBytes(e)}_setWindowSize(e){this.precompute(e)}static normalizeZ(e){return nR(S,e)}static msm(e,t){return nV(S,a,e,t)}static fromPrivateKey(e){return S.BASE.multiply(n3(a,e))}}S.BASE=new S(o.Gx,o.Gy,s.ONE),S.ZERO=new S(s.ZERO,s.ONE,s.ZERO),S.Fp=s,S.Fn=a;let T=a.BITS,j=new nM(S,t.endo?Math.ceil(T/2):T);return S.BASE.precompute(8),S}(a,o))}let n7=BigInt(0),n9=BigInt(1),se=BigInt(2),st=BigInt(3);function sr(e){if(!Array.isArray(e)||0===e.length)throw Error("expected non-empty array")}function si(e,t,r,i,n){let{Fp12:s,pairingBatch:a}=e;function o(e){return e instanceof t.Point?e:t.Point.fromHex(e)}function c(e){return e instanceof r.Point?e:r.Point.fromHex(e)}function l(e){if(!(e instanceof r.Point))throw Error(`expected valid message hashed to ${!n?"G2":"G1"} curve`);return e}let d=n?(e,t)=>({g1:t,g2:e}):(e,t)=>({g1:e,g2:t});return{getPublicKey(e){let r=n3(t.Point.Fn,e);return t.Point.BASE.multiply(r)},sign(e,r,i){if(null!=i)throw Error("sign() expects 2 arguments");let n=n3(t.Point.Fn,r);return l(e).assertValidity(),e.multiply(n)},verify(e,r,i,n){if(null!=n)throw Error("verify() expects 3 arguments");e=c(e);let u=(i=o(i)).negate(),f=t.Point.BASE,h=l(r),p=e,m=a([d(u,h),d(f,p)]);return s.eql(m,s.ONE)},verifyBatch(e,r,i){if(sr(r),i.length!==r.length)throw Error("amount of public keys and messages should be equal");let n=c(e),l=i.map(o),u=new Map;for(let e=0;e<l.length;e++){let t=l[e],i=r[e],n=u.get(i);void 0===n&&(n=[],u.set(i,n)),n.push(t)}let f=[],h=t.Point.BASE;try{for(let[e,t]of u){let r=t.reduce((e,t)=>e.add(t));f.push(d(r,e))}return f.push(d(h.negate(),n)),s.eql(a(f),s.ONE)}catch{return!1}},aggregatePublicKeys(e){sr(e);let r=(e=e.map(e=>o(e))).reduce((e,t)=>e.add(t),t.Point.ZERO);return r.assertValidity(),r},aggregateSignatures(e){sr(e);let t=(e=e.map(e=>c(e))).reduce((e,t)=>e.add(t),r.Point.ZERO);return t.assertValidity(),t},hash:(e,t)=>(ex(e),r.hashToCurve(e,t?{DST:t}:void 0)),Signature:i}}let sn=BigInt(0),ss=BigInt(1),sa=BigInt(2),so=BigInt(3);function sc(e,t,r,i,n=1,s){let a=BigInt(void 0===s?i:s),o=r**BigInt(i),c=[];for(let s=0;s<n;s++){let n=BigInt(s+1),l=[];for(let s=0,c=ss;s<i;s++){let i=(n*c-n)/a%o;l.push(e.pow(t,i)),c*=r}c.push(l)}return c}let sl=(e,t)=>{if(2!==t.length)throw Error("invalid tuple");let r=t.map(t=>e.create(t));return{c0:r[0],c1:r[1]}},sd=BigInt(0),su=BigInt(1),sf=BigInt(2),sh=BigInt(3),sp=BigInt(4),sm=BigInt("0xd201000000010000"),sy=ne(sm),sb={p:BigInt("0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaaab"),n:BigInt("0x73eda753299d7d483339d80809a1d80553bda402fffe5bfeffffffff00000001"),h:BigInt("0x396c8c005555e1568c00aaab0000aaab"),a:sd,b:sp,Gx:BigInt("0x17f1d3a73197d7942695638c4fa9ac0fc3688c4f9774b905a14e3a3f171bac586c55e83ff97a1aeffb3af00adb22c6bb"),Gy:BigInt("0x08b3f481e3aaa0f1a09e30ed741d8ae4fcf5e095d5d00af600db18cb2c04b3edd03cc744a2888ae40caa232946c5e7e1")},sg=nN(sb.n,{modFromBytes:!0,isLE:!0}),{Fp:sx,Fp2:sw,Fp6:sv,Fp12:sE}=(a=nN((g={ORDER:sb.p,X_LEN:sy,FP2_NONRESIDUE:[su,su],Fp2mulByB:({c0:e,c1:t})=>{let r=sx.mul(e,sp),i=sx.mul(t,sp);return{c0:sx.sub(r,i),c1:sx.add(r,i)}},Fp12finalExponentiate:e=>{let t=sE.div(sE.frobeniusMap(e,6),e),r=sE.mul(sE.frobeniusMap(t,2),t),i=sE.conjugate(sE._cyclotomicExp(r,sm)),n=sE.mul(sE.conjugate(sE._cyclotomicSquare(r)),i),s=sE.conjugate(sE._cyclotomicExp(n,sm)),a=sE.conjugate(sE._cyclotomicExp(s,sm)),o=sE.mul(sE.conjugate(sE._cyclotomicExp(a,sm)),sE._cyclotomicSquare(i)),c=sE.conjugate(sE._cyclotomicExp(o,sm)),l=sE.frobeniusMap(sE.mul(i,a),2),d=sE.frobeniusMap(sE.mul(s,r),3),u=sE.frobeniusMap(sE.mul(o,sE.conjugate(r)),1),f=sE.mul(sE.mul(c,sE.conjugate(n)),r);return sE.mul(sE.mul(sE.mul(l,d),u),f)}}).ORDER),o=new class e{constructor(e,t={}){this.MASK=ss;const r=e.ORDER,i=r*r;this.Fp=e,this.ORDER=i,this.BITS=ne(i),this.BYTES=Math.ceil(ne(i)/8),this.isLE=e.isLE,this.ZERO={c0:e.ZERO,c1:e.ZERO},this.ONE={c0:e.ONE,c1:e.ZERO},this.Fp_NONRESIDUE=e.create(t.NONRESIDUE||BigInt(-1)),this.Fp_div2=e.div(e.ONE,sa),this.NONRESIDUE=sl(e,t.FP2_NONRESIDUE),this.FROBENIUS_COEFFICIENTS=sc(e,this.Fp_NONRESIDUE,e.ORDER,2)[0],this.mulByB=t.Fp2mulByB,Object.seal(this)}fromBigTuple(e){return sl(this.Fp,e)}create(e){return e}isValid({c0:e,c1:t}){function r(e,t){return"bigint"==typeof e&&sn<=e&&e<t}return r(e,this.ORDER)&&r(t,this.ORDER)}is0({c0:e,c1:t}){return this.Fp.is0(e)&&this.Fp.is0(t)}isValidNot0(e){return!this.is0(e)&&this.isValid(e)}eql({c0:e,c1:t},{c0:r,c1:i}){return this.Fp.eql(e,r)&&this.Fp.eql(t,i)}neg({c0:e,c1:t}){return{c0:this.Fp.neg(e),c1:this.Fp.neg(t)}}pow(e,t){return nS(this,e,t)}invertBatch(e){return nT(this,e)}add(e,t){let{c0:r,c1:i}=e,{c0:n,c1:s}=t;return{c0:this.Fp.add(r,n),c1:this.Fp.add(i,s)}}sub({c0:e,c1:t},{c0:r,c1:i}){return{c0:this.Fp.sub(e,r),c1:this.Fp.sub(t,i)}}mul({c0:e,c1:t},r){let{Fp:i}=this;if("bigint"==typeof r)return{c0:i.mul(e,r),c1:i.mul(t,r)};let{c0:n,c1:s}=r,a=i.mul(e,n),o=i.mul(t,s);return{c0:i.sub(a,o),c1:i.sub(i.mul(i.add(e,t),i.add(n,s)),i.add(a,o))}}sqr({c0:e,c1:t}){let{Fp:r}=this,i=r.add(e,t),n=r.sub(e,t),s=r.add(e,e);return{c0:r.mul(i,n),c1:r.mul(s,t)}}addN(e,t){return this.add(e,t)}subN(e,t){return this.sub(e,t)}mulN(e,t){return this.mul(e,t)}sqrN(e){return this.sqr(e)}div(e,t){let{Fp:r}=this;return this.mul(e,"bigint"==typeof t?r.inv(r.create(t)):this.inv(t))}inv({c0:e,c1:t}){let{Fp:r}=this,i=r.inv(r.create(e*e+t*t));return{c0:r.mul(i,r.create(e)),c1:r.mul(i,r.create(-t))}}sqrt(e){let{Fp:t}=this,{c0:r,c1:i}=e;if(t.is0(i))if(1===nj(t,r))return this.create({c0:t.sqrt(r),c1:t.ZERO});else return this.create({c0:t.ZERO,c1:t.sqrt(t.div(r,this.Fp_NONRESIDUE))});let n=t.sqrt(t.sub(t.sqr(r),t.mul(t.sqr(i),this.Fp_NONRESIDUE))),s=t.mul(t.add(n,r),this.Fp_div2);-1===nj(t,s)&&(s=t.sub(s,n));let a=t.sqrt(s),o=this.create({c0:a,c1:t.div(t.mul(i,this.Fp_div2),a)});if(!this.eql(this.sqr(o),e))throw Error("Cannot find square root");let c=this.neg(o),{re:l,im:d}=this.reim(o),{re:u,im:f}=this.reim(c);return d>f||d===f&&l>u?o:c}isOdd(e){let{re:t,im:r}=this.reim(e),i=t%sa,n=r%sa;return BigInt(i||t===sn&&n)==ss}fromBytes(e){let{Fp:t}=this;if(e.length!==this.BYTES)throw Error("fromBytes invalid length="+e.length);return{c0:t.fromBytes(e.subarray(0,t.BYTES)),c1:t.fromBytes(e.subarray(t.BYTES))}}toBytes({c0:e,c1:t}){return ek(this.Fp.toBytes(e),this.Fp.toBytes(t))}cmov({c0:e,c1:t},{c0:r,c1:i},n){return{c0:this.Fp.cmov(e,r,n),c1:this.Fp.cmov(t,i,n)}}reim({c0:e,c1:t}){return{re:e,im:t}}Fp4Square(e,t){let r=this.sqr(e),i=this.sqr(t);return{first:this.add(this.mulByNonresidue(i),r),second:this.sub(this.sub(this.sqr(this.add(e,t)),r),i)}}mulByNonresidue({c0:e,c1:t}){return this.mul({c0:e,c1:t},this.NONRESIDUE)}frobeniusMap({c0:e,c1:t},r){return{c0:e,c1:this.Fp.mul(t,this.FROBENIUS_COEFFICIENTS[r%2])}}}(a,g),c=new class e{constructor(e){this.MASK=ss,this.Fp2=e,this.ORDER=e.ORDER,this.BITS=3*e.BITS,this.BYTES=3*e.BYTES,this.isLE=e.isLE,this.ZERO={c0:e.ZERO,c1:e.ZERO,c2:e.ZERO},this.ONE={c0:e.ONE,c1:e.ZERO,c2:e.ZERO};const{Fp:t}=e,r=sc(e,e.NONRESIDUE,t.ORDER,6,2,3);this.FROBENIUS_COEFFICIENTS_1=r[0],this.FROBENIUS_COEFFICIENTS_2=r[1],Object.seal(this)}add({c0:e,c1:t,c2:r},{c0:i,c1:n,c2:s}){let{Fp2:a}=this;return{c0:a.add(e,i),c1:a.add(t,n),c2:a.add(r,s)}}sub({c0:e,c1:t,c2:r},{c0:i,c1:n,c2:s}){let{Fp2:a}=this;return{c0:a.sub(e,i),c1:a.sub(t,n),c2:a.sub(r,s)}}mul({c0:e,c1:t,c2:r},i){let{Fp2:n}=this;if("bigint"==typeof i)return{c0:n.mul(e,i),c1:n.mul(t,i),c2:n.mul(r,i)};let{c0:s,c1:a,c2:o}=i,c=n.mul(e,s),l=n.mul(t,a),d=n.mul(r,o);return{c0:n.add(c,n.mulByNonresidue(n.sub(n.mul(n.add(t,r),n.add(a,o)),n.add(l,d)))),c1:n.add(n.sub(n.mul(n.add(e,t),n.add(s,a)),n.add(c,l)),n.mulByNonresidue(d)),c2:n.sub(n.add(l,n.mul(n.add(e,r),n.add(s,o))),n.add(c,d))}}sqr({c0:e,c1:t,c2:r}){let{Fp2:i}=this,n=i.sqr(e),s=i.mul(i.mul(e,t),sa),a=i.mul(i.mul(t,r),sa),o=i.sqr(r);return{c0:i.add(i.mulByNonresidue(a),n),c1:i.add(i.mulByNonresidue(o),s),c2:i.sub(i.sub(i.add(i.add(s,i.sqr(i.add(i.sub(e,t),r))),a),n),o)}}addN(e,t){return this.add(e,t)}subN(e,t){return this.sub(e,t)}mulN(e,t){return this.mul(e,t)}sqrN(e){return this.sqr(e)}create(e){return e}isValid({c0:e,c1:t,c2:r}){let{Fp2:i}=this;return i.isValid(e)&&i.isValid(t)&&i.isValid(r)}is0({c0:e,c1:t,c2:r}){let{Fp2:i}=this;return i.is0(e)&&i.is0(t)&&i.is0(r)}isValidNot0(e){return!this.is0(e)&&this.isValid(e)}neg({c0:e,c1:t,c2:r}){let{Fp2:i}=this;return{c0:i.neg(e),c1:i.neg(t),c2:i.neg(r)}}eql({c0:e,c1:t,c2:r},{c0:i,c1:n,c2:s}){let{Fp2:a}=this;return a.eql(e,i)&&a.eql(t,n)&&a.eql(r,s)}sqrt(e){return ni()}div(e,t){let{Fp2:r}=this,{Fp:i}=r;return this.mul(e,"bigint"==typeof t?i.inv(i.create(t)):this.inv(t))}pow(e,t){return nS(this,e,t)}invertBatch(e){return nT(this,e)}inv({c0:e,c1:t,c2:r}){let{Fp2:i}=this,n=i.sub(i.sqr(e),i.mulByNonresidue(i.mul(r,t))),s=i.sub(i.mulByNonresidue(i.sqr(r)),i.mul(e,t)),a=i.sub(i.sqr(t),i.mul(e,r)),o=i.inv(i.add(i.mulByNonresidue(i.add(i.mul(r,s),i.mul(t,a))),i.mul(e,n)));return{c0:i.mul(o,n),c1:i.mul(o,s),c2:i.mul(o,a)}}fromBytes(e){let{Fp2:t}=this;if(e.length!==this.BYTES)throw Error("fromBytes invalid length="+e.length);let r=t.BYTES;return{c0:t.fromBytes(e.subarray(0,r)),c1:t.fromBytes(e.subarray(r,2*r)),c2:t.fromBytes(e.subarray(2*r))}}toBytes({c0:e,c1:t,c2:r}){let{Fp2:i}=this;return ek(i.toBytes(e),i.toBytes(t),i.toBytes(r))}cmov({c0:e,c1:t,c2:r},{c0:i,c1:n,c2:s},a){let{Fp2:o}=this;return{c0:o.cmov(e,i,a),c1:o.cmov(t,n,a),c2:o.cmov(r,s,a)}}fromBigSix(e){let{Fp2:t}=this;if(!Array.isArray(e)||6!==e.length)throw Error("invalid Fp6 usage");return{c0:t.fromBigTuple(e.slice(0,2)),c1:t.fromBigTuple(e.slice(2,4)),c2:t.fromBigTuple(e.slice(4,6))}}frobeniusMap({c0:e,c1:t,c2:r},i){let{Fp2:n}=this;return{c0:n.frobeniusMap(e,i),c1:n.mul(n.frobeniusMap(t,i),this.FROBENIUS_COEFFICIENTS_1[i%6]),c2:n.mul(n.frobeniusMap(r,i),this.FROBENIUS_COEFFICIENTS_2[i%6])}}mulByFp2({c0:e,c1:t,c2:r},i){let{Fp2:n}=this;return{c0:n.mul(e,i),c1:n.mul(t,i),c2:n.mul(r,i)}}mulByNonresidue({c0:e,c1:t,c2:r}){let{Fp2:i}=this;return{c0:i.mulByNonresidue(r),c1:e,c2:t}}mul1({c0:e,c1:t,c2:r},i){let{Fp2:n}=this;return{c0:n.mulByNonresidue(n.mul(r,i)),c1:n.mul(e,i),c2:n.mul(t,i)}}mul01({c0:e,c1:t,c2:r},i,n){let{Fp2:s}=this,a=s.mul(e,i),o=s.mul(t,n);return{c0:s.add(s.mulByNonresidue(s.sub(s.mul(s.add(t,r),n),o)),a),c1:s.sub(s.sub(s.mul(s.add(i,n),s.add(e,t)),a),o),c2:s.add(s.sub(s.mul(s.add(e,r),i),a),o)}}}(o),l=new class e{constructor(e,t){this.MASK=ss;const{Fp2:r}=e,{Fp:i}=r;this.Fp6=e,this.ORDER=r.ORDER,this.BITS=2*e.BITS,this.BYTES=2*e.BYTES,this.isLE=e.isLE,this.ZERO={c0:e.ZERO,c1:e.ZERO},this.ONE={c0:e.ONE,c1:e.ZERO},this.FROBENIUS_COEFFICIENTS=sc(r,r.NONRESIDUE,i.ORDER,12,1,6)[0],this.X_LEN=t.X_LEN,this.finalExponentiate=t.Fp12finalExponentiate}create(e){return e}isValid({c0:e,c1:t}){let{Fp6:r}=this;return r.isValid(e)&&r.isValid(t)}is0({c0:e,c1:t}){let{Fp6:r}=this;return r.is0(e)&&r.is0(t)}isValidNot0(e){return!this.is0(e)&&this.isValid(e)}neg({c0:e,c1:t}){let{Fp6:r}=this;return{c0:r.neg(e),c1:r.neg(t)}}eql({c0:e,c1:t},{c0:r,c1:i}){let{Fp6:n}=this;return n.eql(e,r)&&n.eql(t,i)}sqrt(e){ni()}inv({c0:e,c1:t}){let{Fp6:r}=this,i=r.inv(r.sub(r.sqr(e),r.mulByNonresidue(r.sqr(t))));return{c0:r.mul(e,i),c1:r.neg(r.mul(t,i))}}div(e,t){let{Fp6:r}=this,{Fp2:i}=r,{Fp:n}=i;return this.mul(e,"bigint"==typeof t?n.inv(n.create(t)):this.inv(t))}pow(e,t){return nS(this,e,t)}invertBatch(e){return nT(this,e)}add({c0:e,c1:t},{c0:r,c1:i}){let{Fp6:n}=this;return{c0:n.add(e,r),c1:n.add(t,i)}}sub({c0:e,c1:t},{c0:r,c1:i}){let{Fp6:n}=this;return{c0:n.sub(e,r),c1:n.sub(t,i)}}mul({c0:e,c1:t},r){let{Fp6:i}=this;if("bigint"==typeof r)return{c0:i.mul(e,r),c1:i.mul(t,r)};let{c0:n,c1:s}=r,a=i.mul(e,n),o=i.mul(t,s);return{c0:i.add(a,i.mulByNonresidue(o)),c1:i.sub(i.mul(i.add(e,t),i.add(n,s)),i.add(a,o))}}sqr({c0:e,c1:t}){let{Fp6:r}=this,i=r.mul(e,t);return{c0:r.sub(r.sub(r.mul(r.add(r.mulByNonresidue(t),e),r.add(e,t)),i),r.mulByNonresidue(i)),c1:r.add(i,i)}}addN(e,t){return this.add(e,t)}subN(e,t){return this.sub(e,t)}mulN(e,t){return this.mul(e,t)}sqrN(e){return this.sqr(e)}fromBytes(e){let{Fp6:t}=this;if(e.length!==this.BYTES)throw Error("fromBytes invalid length="+e.length);return{c0:t.fromBytes(e.subarray(0,t.BYTES)),c1:t.fromBytes(e.subarray(t.BYTES))}}toBytes({c0:e,c1:t}){let{Fp6:r}=this;return ek(r.toBytes(e),r.toBytes(t))}cmov({c0:e,c1:t},{c0:r,c1:i},n){let{Fp6:s}=this;return{c0:s.cmov(e,r,n),c1:s.cmov(t,i,n)}}fromBigTwelve(e){let{Fp6:t}=this;return{c0:t.fromBigSix(e.slice(0,6)),c1:t.fromBigSix(e.slice(6,12))}}frobeniusMap(e,t){let{Fp6:r}=this,{Fp2:i}=r,{c0:n,c1:s,c2:a}=r.frobeniusMap(e.c1,t),o=this.FROBENIUS_COEFFICIENTS[t%12];return{c0:r.frobeniusMap(e.c0,t),c1:r.create({c0:i.mul(n,o),c1:i.mul(s,o),c2:i.mul(a,o)})}}mulByFp2({c0:e,c1:t},r){let{Fp6:i}=this;return{c0:i.mulByFp2(e,r),c1:i.mulByFp2(t,r)}}conjugate({c0:e,c1:t}){return{c0:e,c1:this.Fp6.neg(t)}}mul014({c0:e,c1:t},r,i,n){let{Fp6:s}=this,{Fp2:a}=s,o=s.mul01(e,r,i),c=s.mul1(t,n);return{c0:s.add(s.mulByNonresidue(c),o),c1:s.sub(s.sub(s.mul01(s.add(t,e),r,a.add(i,n)),o),c)}}mul034({c0:e,c1:t},r,i,n){let{Fp6:s}=this,{Fp2:a}=s,o=s.create({c0:a.mul(e.c0,r),c1:a.mul(e.c1,r),c2:a.mul(e.c2,r)}),c=s.mul01(t,i,n),l=s.mul01(s.add(e,t),a.add(r,i),n);return{c0:s.add(s.mulByNonresidue(c),o),c1:s.sub(l,s.add(o,c))}}_cyclotomicSquare({c0:e,c1:t}){let{Fp6:r}=this,{Fp2:i}=r,{c0:n,c1:s,c2:a}=e,{c0:o,c1:c,c2:l}=t,{first:d,second:u}=i.Fp4Square(n,c),{first:f,second:h}=i.Fp4Square(o,a),{first:p,second:m}=i.Fp4Square(s,l),y=i.mulByNonresidue(m);return{c0:r.create({c0:i.add(i.mul(i.sub(d,n),sa),d),c1:i.add(i.mul(i.sub(f,s),sa),f),c2:i.add(i.mul(i.sub(p,a),sa),p)}),c1:r.create({c0:i.add(i.mul(i.add(y,o),sa),y),c1:i.add(i.mul(i.add(u,c),sa),u),c2:i.add(i.mul(i.add(h,l),sa),h)})}}_cyclotomicExp(e,t){let r=this.ONE;for(let i=this.X_LEN-1;i>=0;i--)r=this._cyclotomicSquare(r),t>>BigInt(i)&iX&&(r=this.mul(r,e));return r}}(c,g),{Fp:a,Fp2:o,Fp6:c,Fp12:l}),{G2psi:s_,G2psi2:sI}=function(e,t,r){let i=t.pow(r,(e.ORDER-ss)/so),n=t.pow(r,(e.ORDER-ss)/sa);function s(e,r){return[t.mul(t.frobeniusMap(e,1),i),t.mul(t.frobeniusMap(r,1),n)]}let a=t.pow(r,(e.ORDER**sa-ss)/so),o=t.pow(r,(e.ORDER**sa-ss)/sa);if(!t.eql(o,t.neg(t.ONE)))throw Error("psiFrobenius: PSI2_Y!==-1");function c(e,r){return[t.mul(e,a),t.neg(r)]}let l=e=>(t,r)=>{let i=r.toAffine(),n=e(i.x,i.y);return t.fromAffine({x:n[0],y:n[1]})},d=l(s),u=l(c);return{psi:s,psi2:c,G2psi:d,G2psi2:u,PSI_X:i,PSI_Y:n,PSI2_X:a,PSI2_Y:o}}(sx,sw,sw.div(sw.ONE,sw.NONRESIDUE)),sS=Object.freeze({DST:"BLS_SIG_BLS12381G2_XMD:SHA-256_SSWU_RO_NUL_",encodeDST:"BLS_SIG_BLS12381G2_XMD:SHA-256_SSWU_RO_NUL_",p:sx.ORDER,m:2,k:128,expand:"xmd",hash:t0}),sT={p:sw.ORDER,n:sb.n,h:BigInt("0x5d543a95414e7f1091d50792876a202cd91de4547085abaa68a205b2e5a7ddfa628f1cb4d9e82ef21537e293a6691ae1616ec6e786f0c70cf1c38e31c7238e5"),a:sw.ZERO,b:sw.fromBigTuple([sp,sp]),Gx:sw.fromBigTuple([BigInt("0x024aa2b2f08f0a91260805272dc51051c6e47ad4fa403b02b4510b647ae3d1770bac0326a805bbefd48056c8c121bdb8"),BigInt("0x13e02b6052719f607dacd3a088274f65596bd0d09920b61ab5da61bbdc7f5049334cf11213945d57e5ac7d055d042b7e")]),Gy:sw.fromBigTuple([BigInt("0x0ce5d527727d6e118cc9cdc6da2e351aadfd9baa8cbdd3a76d429a695160d12c923ac9cc3baca289e193548608b82801"),BigInt("0x0606c4a02ea734cc32acd2b02bc28b99cb3e287e85a763af267492ab572e99ab3f370d275cec1da1aaa9075ff05f79be")])},sj=sB(sx.toBytes(sd),{infinity:!0,compressed:!0});function sN(e){let t=224&(e=e.slice())[0];return e[0]&=31,{compressed:!!(t>>7&1),infinity:!!(t>>6&1),sort:!!(t>>5&1),value:e}}function sB(e,t){if(224&e[0])throw Error("setMask: non-empty mask");return t.compressed&&(e[0]|=128),t.infinity&&(e[0]|=64),t.sort&&(e[0]|=32),e}function sC(e){e.assertValidity();let{BYTES:t,ORDER:r}=sx,{x:i,y:n}=e.toAffine();return e.is0()?sj.slice():sB(i6(i,t),{compressed:!0,sort:!!(n*sf/r)})}function sk(e){let{infinity:t,sort:r,value:i}=sN(i3("signatureHex",e,48)),n=sx.ORDER,s=sR.G1.Point,a=i1(i);if(t)return s.ZERO;let o=sx.create(a&nt(sx.BITS)),c=sx.add(sx.pow(o,sh),sx.create(sb.b)),l=sx.sqrt(c);if(!l)throw Error("invalid G1 point: compressed");l*sf/n!==BigInt(r)&&(l=sx.neg(l));let d=s.fromAffine({x:o,y:l});return d.assertValidity(),d}function sO(e){e.assertValidity();let{BYTES:t}=sx;if(e.is0())return ek(sj,i6(sd,t));let{x:r,y:i}=e.toAffine(),{re:n,im:s}=sw.reim(r),{re:a,im:o}=sw.reim(i),c=!!((o>sd?o*sf:a*sf)/sx.ORDER&su);return ek(sB(i6(s,t),{sort:c,compressed:!0}),i6(n,t))}function sA(e){let{ORDER:t}=sx,{infinity:r,sort:i,value:n}=sN(i3("signatureHex",e)),s=sR.G2.Point,a=n.length/2;if(48!==a&&96!==a)throw Error("invalid compressed signature length, expected 96/192 bytes");let o=i1(n.slice(0,a)),c=i1(n.slice(a));if(r)return s.ZERO;let l=sx.create(o&nt(sx.BITS)),d=sx.create(c),u=sw.create({c0:d,c1:l}),f=sw.add(sw.pow(u,sh),sT.b),h=sw.sqrt(f);if(!h)throw Error("Failed to find a square root");let{re:p,im:m}=sw.reim(h),y=BigInt(i),b=m>sd&&m*sf/t!==y,g=m===sd&&p*sf/t!==y;(b||g)&&(h=sw.neg(h));let x=s.fromAffine({x:u,y:h});return x.assertValidity(),x}let sR=function(e){let{Fp:t,Fr:r,Fp2:i,Fp6:n,Fp12:s}=e.fields,a=n4(e.G1),o=Object.assign(a,nJ(a.Point,e.G1.mapToCurve,{...e.htfDefaults,...e.G1.htfDefaults})),c=n4(e.G2),l=Object.assign(c,nJ(c.Point,e.G2.mapToCurve,{...e.htfDefaults,...e.G2.htfDefaults})),d=function(e,t,r,i){let n,{Fp2:s,Fp12:a}=e,{twistType:o,ateLoopSize:c,xNegative:l,postPrecompute:d}=i;if("multiplicative"===o)n=(e,t,r,i,n,o)=>a.mul014(i,e,s.mul(t,n),s.mul(r,o));else if("divisive"===o)n=(e,t,r,i,n,o)=>a.mul034(i,s.mul(r,o),s.mul(t,n),e);else throw Error("bls: unknown twist type");let u=s.div(s.ONE,s.mul(s.ONE,se));function f(e,t,r,i,n,a){let o=s.sub(r,s.mul(a,i)),c=s.sub(t,s.mul(n,i)),l=s.sub(s.mul(o,n),s.mul(c,a)),d=s.neg(o);e.push([l,d,c]);let u=s.sqr(c),f=s.mul(u,c),h=s.mul(u,t),p=s.add(s.sub(f,s.mul(h,se)),s.mul(s.sqr(o),i));return t=s.mul(c,p),{Rx:t,Ry:r=s.sub(s.mul(s.sub(h,p),o),s.mul(f,r)),Rz:i=s.mul(i,f)}}let h=function(e){let t=[];for(;e>n9;e>>=n9)(e&n9)===n7?t.unshift(0):(e&st)===st?(t.unshift(-1),e+=n9):t.unshift(1);return t}(c),p=nn(e=>{let{x:t,y:r}=e.toAffine(),i=s.neg(r),n=t,a=r,o=s.ONE,c=[];for(let e of h){let l=[];({Rx:n,Ry:a,Rz:o}=function(e,t,r,i){let n=s.sqr(r),a=s.sqr(i),o=s.mulByB(s.mul(a,st)),c=s.mul(o,st),l=s.sub(s.sub(s.sqr(s.add(r,i)),a),n),d=s.sub(o,n),f=s.mul(s.sqr(t),st),h=s.neg(l);return e.push([d,f,h]),t=s.mul(s.mul(s.mul(s.sub(n,c),t),r),u),{Rx:t,Ry:r=s.sub(s.sqr(s.mul(s.add(n,c),u)),s.mul(s.sqr(o),st)),Rz:i=s.mul(n,l)}}(l,n,a,o)),e&&({Rx:n,Ry:a,Rz:o}=f(l,n,a,o,t,-1===e?i:r)),c.push(l)}if(d){let e=c[c.length-1];d(n,a,o,t,r,f.bind(null,e))}return c});function m(e,t=!1){let r=a.ONE;if(e.length){let t=e[0][0].length;for(let i=0;i<t;i++)for(let[t,s,o]of(r=a.sqr(r),e))for(let[e,a,c]of t[i])r=n(e,a,c,r,s,o)}return l&&(r=a.conjugate(r)),t?a.finalExponentiate(r):r}function y(e,i=!0){let n=[];for(let{g1:i,g2:s}of(nR(t,e.map(({g1:e})=>e)),nR(r,e.map(({g2:e})=>e)),e)){if(i.is0()||s.is0())throw Error("pairing is not available for ZERO point");i.assertValidity(),s.assertValidity();let e=i.toAffine();n.push([p(s),e.x,e.y])}return m(n,i)}return{Fp12:a,millerLoopBatch:m,pairing:function(e,t,r=!0){return y([{g1:e,g2:t}],r)},pairingBatch:y,calcPairingPrecomputes:p}}(e.fields,o.Point,l.Point,{...e.params,postPrecompute:e.postPrecompute}),{millerLoopBatch:u,pairing:f,pairingBatch:h,calcPairingPrecomputes:p}=d,m=si(d,o,l,e.G2.Signature,!1),y=si(d,l,o,e.G1.ShortSignature,!0),b=e.randomBytes||eR,g=()=>(function(e,t,r=!1){let i=e.length,n=nB(t),s=nC(t);if(i<16||i<s||i>1024)throw Error("expected "+s+"-1024 bytes of input, got "+i);let a=nm(r?i2(e):i1(e),t-na)+na;return r?i5(a,n):i6(a,n)})(b(nC(r.ORDER)),r.ORDER),{ShortSignature:x}=e.G1,{Signature:w}=e.G2;function v(e,t){return e instanceof o.Point?e:y.hash(i3("point",e),t?.DST)}function E(e,t){return e instanceof l.Point?e:m.hash(i3("point",e),t?.DST)}return o.Point.BASE.precompute(4),{longSignatures:m,shortSignatures:y,millerLoopBatch:u,pairing:f,pairingBatch:h,verifyBatch:function(e,t,r,i){let n=t.map(e=>E(e,i));return m.verifyBatch(e,n,r)},fields:{Fr:r,Fp:t,Fp2:i,Fp6:n,Fp12:s},params:{ateLoopSize:e.params.ateLoopSize,twistType:e.params.twistType,r:e.params.r,G1b:e.G1.b,G2b:e.G2.b},utils:{randomSecretKey:g,randomPrivateKey:g,calcPairingPrecomputes:p},getPublicKey:function(e){return m.getPublicKey(e).toBytes(!0)},getPublicKeyForShortSignatures:function(e){return y.getPublicKey(e).toBytes(!0)},sign:function(e,t,r){let i=E(e,r),n=m.sign(i,t);return e instanceof l.Point?n:w.toBytes(n)},signShortSignature:function(e,t,r){let i=v(e,r),n=y.sign(i,t);return e instanceof o.Point?n:x.toBytes(n)},verify:function(e,t,r,i){let n=E(t,i);return m.verify(e,n,r)},verifyShortSignature:function(e,t,r,i){let n=v(t,i);return y.verify(e,n,r)},aggregatePublicKeys:function(e){let t=m.aggregatePublicKeys(e);return e[0]instanceof o.Point?t:t.toBytes(!0)},aggregateSignatures:function(e){let t=m.aggregateSignatures(e);return e[0]instanceof l.Point?t:w.toBytes(t)},aggregateShortSignatures:function(e){let t=y.aggregateSignatures(e);return e[0]instanceof o.Point?t:x.toBytes(t)},G1:o,G2:l,Signature:w,ShortSignature:x}}({fields:{Fp:sx,Fp2:sw,Fp6:sv,Fp12:sE,Fr:sg},G1:{...sb,Fp:sx,htfDefaults:{...sS,m:1,DST:"BLS_SIG_BLS12381G1_XMD:SHA-256_SSWU_RO_NUL_"},wrapPrivateKey:!0,allowInfinityPoint:!0,isTorsionFree:(e,t)=>{let r=BigInt("0x5f19672fdf76ce51ba69c6076a0f77eaddb3a93be6f89688de17d813620a00022e01fffffffefffe"),i=new e(sx.mul(t.X,r),t.Y,t.Z);return t.multiplyUnsafe(sm).negate().multiplyUnsafe(sm).equals(i)},clearCofactor:(e,t)=>t.multiplyUnsafe(sm).add(t),mapToCurve:function(e){let{x:t,y:r}=sP(sx.create(e[0]));return sU(t,r)},fromBytes:function(e){let{compressed:t,infinity:r,sort:i,value:n}=sN(e),{BYTES:s,ORDER:a}=sx;if(48===n.length&&t){let e=i1(n),t=sx.create(e&nt(sx.BITS));if(r){if(t!==sd)throw Error("invalid G1 point: non-empty, at infinity, with compression");return{x:sd,y:sd}}let s=sx.add(sx.pow(t,sh),sx.create(sb.b)),o=sx.sqrt(s);if(!o)throw Error("invalid G1 point: compressed point");return o*sf/a!==BigInt(i)&&(o=sx.neg(o)),{x:sx.create(t),y:sx.create(o)}}if(96!==n.length||t)throw Error("invalid G1 point: expected 48/96 bytes");{let e=i1(n.subarray(0,s)),t=i1(n.subarray(s));if(r){if(e!==sd||t!==sd)throw Error("G1: non-empty point at infinity");return sR.G1.Point.ZERO.toAffine()}return{x:sx.create(e),y:sx.create(t)}}},toBytes:function(e,t,r){let{BYTES:i,ORDER:n}=sx,s=t.is0(),{x:a,y:o}=t.toAffine();return r?s?sj.slice():sB(i6(a,i),{compressed:!0,sort:!!(o*sf/n)}):s?ek(Uint8Array.of(64),new Uint8Array(2*i-1)):ek(i6(a,i),i6(o,i))},ShortSignature:{fromBytes:e=>(ex(e),sk(e)),fromHex:e=>sk(e),toBytes:e=>sC(e),toRawBytes:e=>sC(e),toHex:e=>eT(sC(e))}},G2:{...sT,Fp:sw,hEff:BigInt("0xbc69f08f2ee75b3584c6a0ea91b352888e2a8e9145ad7689986ff031508ffe1329c2f178731db956d82bf015d1212b02ec0ec69d7477c1ae954cbc06689f6a359894c0adebbf6b4e8020005aaa95551"),htfDefaults:{...sS},wrapPrivateKey:!0,allowInfinityPoint:!0,mapToCurve:function(e){let{x:t,y:r}=sq(sw.fromBigTuple(e));return sD(t,r)},isTorsionFree:(e,t)=>t.multiplyUnsafe(sm).negate().equals(s_(e,t)),clearCofactor:(e,t)=>{let r=t.multiplyUnsafe(sm).negate(),i=s_(e,t),n=t.double();return n=(n=sI(e,n)).subtract(i),i=(i=r.add(i)).multiplyUnsafe(sm).negate(),(n=(n=n.add(i)).subtract(r)).subtract(t)},fromBytes:function(e){let{BYTES:t,ORDER:r}=sx,{compressed:i,infinity:n,sort:s,value:a}=sN(e);if(!i&&!n&&s||!i&&n&&s||s&&n&&i)throw Error("invalid encoding flag: "+(224&e[0]));let o=(e,t,r)=>i1(e.slice(t,r));if(96===a.length&&i){if(n){if(a.reduce((e,t)=>0!==e?t+1:t,0)>0)throw Error("invalid G2 point: compressed");return{x:sw.ZERO,y:sw.ZERO}}let e=o(a,0,t),i=o(a,t,2*t),c=sw.create({c0:sx.create(i),c1:sx.create(e)}),l=sw.add(sw.pow(c,sh),sT.b),d=sw.sqrt(l),u=d.c1===sd?d.c0*sf/r:d.c1*sf/r?su:sd;return{x:c,y:d=s&&u>0?d:sw.neg(d)}}if(192!==a.length||i)throw Error("invalid G2 point: expected 96/192 bytes");{if(n){if(a.reduce((e,t)=>0!==e?t+1:t,0)>0)throw Error("invalid G2 point: uncompressed");return{x:sw.ZERO,y:sw.ZERO}}let e=o(a,0*t,+t),r=o(a,+t,2*t),i=o(a,2*t,3*t),s=o(a,3*t,4*t);return{x:sw.fromBigTuple([r,e]),y:sw.fromBigTuple([s,i])}}},toBytes:function(e,t,r){let{BYTES:i,ORDER:n}=sx,s=t.is0(),{x:a,y:o}=t.toAffine();if(r){if(s)return ek(sj,i6(sd,i));let e=!!(o.c1===sd?o.c0*sf/n:o.c1*sf/n);return ek(sB(i6(a.c1,i),{compressed:!0,sort:e}),i6(a.c0,i))}{if(s)return ek(Uint8Array.of(64),new Uint8Array(4*i-1));let{re:e,im:t}=sw.reim(a),{re:r,im:n}=sw.reim(o);return ek(i6(t,i),i6(e,i),i6(n,i),i6(r,i))}},Signature:{fromBytes:e=>(ex(e),sA(e)),fromHex:e=>sA(e),toBytes:e=>sO(e),toRawBytes:e=>sO(e),toHex:e=>eT(sO(e))}},params:{ateLoopSize:sm,r:sb.n,xNegative:!0,twistType:"multiplicative"},htfDefaults:sS,hash:t0}),sD=nW(sw,[[["0x5c759507e8e333ebb5b7a9a47d7ed8532c52d39fd3a042a88b58423c50ae15d5c2638e343d9c71c6238aaaaaaaa97d6","0x5c759507e8e333ebb5b7a9a47d7ed8532c52d39fd3a042a88b58423c50ae15d5c2638e343d9c71c6238aaaaaaaa97d6"],["0x0","0x11560bf17baa99bc32126fced787c88f984f87adf7ae0c7f9a208c6b4f20a4181472aaa9cb8d555526a9ffffffffc71a"],["0x11560bf17baa99bc32126fced787c88f984f87adf7ae0c7f9a208c6b4f20a4181472aaa9cb8d555526a9ffffffffc71e","0x8ab05f8bdd54cde190937e76bc3e447cc27c3d6fbd7063fcd104635a790520c0a395554e5c6aaaa9354ffffffffe38d"],["0x171d6541fa38ccfaed6dea691f5fb614cb14b4e7f4e810aa22d6108f142b85757098e38d0f671c7188e2aaaaaaaa5ed1","0x0"]],[["0x0","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaa63"],["0xc","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaa9f"],["0x1","0x0"]],[["0x1530477c7ab4113b59a4c18b076d11930f7da5d4a07f649bf54439d87d27e500fc8c25ebf8c92f6812cfc71c71c6d706","0x1530477c7ab4113b59a4c18b076d11930f7da5d4a07f649bf54439d87d27e500fc8c25ebf8c92f6812cfc71c71c6d706"],["0x0","0x5c759507e8e333ebb5b7a9a47d7ed8532c52d39fd3a042a88b58423c50ae15d5c2638e343d9c71c6238aaaaaaaa97be"],["0x11560bf17baa99bc32126fced787c88f984f87adf7ae0c7f9a208c6b4f20a4181472aaa9cb8d555526a9ffffffffc71c","0x8ab05f8bdd54cde190937e76bc3e447cc27c3d6fbd7063fcd104635a790520c0a395554e5c6aaaa9354ffffffffe38f"],["0x124c9ad43b6cf79bfbf7043de3811ad0761b0f37a1e26286b0e977c69aa274524e79097a56dc4bd9e1b371c71c718b10","0x0"]],[["0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffa8fb","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffa8fb"],["0x0","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffa9d3"],["0x12","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaa99"],["0x1","0x0"]]].map(e=>e.map(e=>sw.fromBigTuple(e.map(BigInt))))),sU=nW(sx,[["0x11a05f2b1e833340b809101dd99815856b303e88a2d7005ff2627b56cdb4e2c85610c2d5f2e62d6eaeac1662734649b7","0x17294ed3e943ab2f0588bab22147a81c7c17e75b2f6a8417f565e33c70d1e86b4838f2a6f318c356e834eef1b3cb83bb","0xd54005db97678ec1d1048c5d10a9a1bce032473295983e56878e501ec68e25c958c3e3d2a09729fe0179f9dac9edcb0","0x1778e7166fcc6db74e0609d307e55412d7f5e4656a8dbf25f1b33289f1b330835336e25ce3107193c5b388641d9b6861","0xe99726a3199f4436642b4b3e4118e5499db995a1257fb3f086eeb65982fac18985a286f301e77c451154ce9ac8895d9","0x1630c3250d7313ff01d1201bf7a74ab5db3cb17dd952799b9ed3ab9097e68f90a0870d2dcae73d19cd13c1c66f652983","0xd6ed6553fe44d296a3726c38ae652bfb11586264f0f8ce19008e218f9c86b2a8da25128c1052ecaddd7f225a139ed84","0x17b81e7701abdbe2e8743884d1117e53356de5ab275b4db1a682c62ef0f2753339b7c8f8c8f475af9ccb5618e3f0c88e","0x80d3cf1f9a78fc47b90b33563be990dc43b756ce79f5574a2c596c928c5d1de4fa295f296b74e956d71986a8497e317","0x169b1f8e1bcfa7c42e0c37515d138f22dd2ecb803a0c5c99676314baf4bb1b7fa3190b2edc0327797f241067be390c9e","0x10321da079ce07e272d8ec09d2565b0dfa7dccdde6787f96d50af36003b14866f69b771f8c285decca67df3f1605fb7b","0x6e08c248e260e70bd1e962381edee3d31d79d7e22c837bc23c0bf1bc24c6b68c24b1b80b64d391fa9c8ba2e8ba2d229"],["0x8ca8d548cff19ae18b2e62f4bd3fa6f01d5ef4ba35b48ba9c9588617fc8ac62b558d681be343df8993cf9fa40d21b1c","0x12561a5deb559c4348b4711298e536367041e8ca0cf0800c0126c2588c48bf5713daa8846cb026e9e5c8276ec82b3bff","0xb2962fe57a3225e8137e629bff2991f6f89416f5a718cd1fca64e00b11aceacd6a3d0967c94fedcfcc239ba5cb83e19","0x3425581a58ae2fec83aafef7c40eb545b08243f16b1655154cca8abc28d6fd04976d5243eecf5c4130de8938dc62cd8","0x13a8e162022914a80a6f1d5f43e7a07dffdfc759a12062bb8d6b44e833b306da9bd29ba81f35781d539d395b3532a21e","0xe7355f8e4e667b955390f7f0506c6e9395735e9ce9cad4d0a43bcef24b8982f7400d24bc4228f11c02df9a29f6304a5","0x772caacf16936190f3e0c63e0596721570f5799af53a1894e2e073062aede9cea73b3538f0de06cec2574496ee84a3a","0x14a7ac2a9d64a8b230b3f5b074cf01996e7f63c21bca68a81996e1cdf9822c580fa5b9489d11e2d311f7d99bbdcc5a5e","0xa10ecf6ada54f825e920b3dafc7a3cce07f8d1d7161366b74100da67f39883503826692abba43704776ec3a79a1d641","0x95fc13ab9e92ad4476d6e3eb3a56680f682b4ee96f7d03776df533978f31c1593174e4b4b7865002d6384d168ecdd0a","0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001"],["0x90d97c81ba24ee0259d1f094980dcfa11ad138e48a869522b52af6c956543d3cd0c7aee9b3ba3c2be9845719707bb33","0x134996a104ee5811d51036d776fb46831223e96c254f383d0f906343eb67ad34d6c56711962fa8bfe097e75a2e41c696","0xcc786baa966e66f4a384c86a3b49942552e2d658a31ce2c344be4b91400da7d26d521628b00523b8dfe240c72de1f6","0x1f86376e8981c217898751ad8746757d42aa7b90eeb791c09e4a3ec03251cf9de405aba9ec61deca6355c77b0e5f4cb","0x8cc03fdefe0ff135caf4fe2a21529c4195536fbe3ce50b879833fd221351adc2ee7f8dc099040a841b6daecf2e8fedb","0x16603fca40634b6a2211e11db8f0a6a074a7d0d4afadb7bd76505c3d3ad5544e203f6326c95a807299b23ab13633a5f0","0x4ab0b9bcfac1bbcb2c977d027796b3ce75bb8ca2be184cb5231413c4d634f3747a87ac2460f415ec961f8855fe9d6f2","0x987c8d5333ab86fde9926bd2ca6c674170a05bfe3bdd81ffd038da6c26c842642f64550fedfe935a15e4ca31870fb29","0x9fc4018bd96684be88c9e221e4da1bb8f3abd16679dc26c1e8b6e6a1f20cabe69d65201c78607a360370e577bdba587","0xe1bba7a1186bdb5223abde7ada14a23c42a0ca7915af6fe06985e7ed1e4d43b9b3f7055dd4eba6f2bafaaebca731c30","0x19713e47937cd1be0dfd0b8f1d43fb93cd2fcbcb6caf493fd1183e416389e61031bf3a5cce3fbafce813711ad011c132","0x18b46a908f36f6deb918c143fed2edcc523559b8aaf0c2462e6bfe7f911f643249d9cdf41b44d606ce07c8a4d0074d8e","0xb182cac101b9399d155096004f53f447aa7b12a3426b08ec02710e807b4633f06c851c1919211f20d4c04f00b971ef8","0x245a394ad1eca9b72fc00ae7be315dc757b3b080d4c158013e6632d3c40659cc6cf90ad1c232a6442d9d3f5db980133","0x5c129645e44cf1102a159f748c4a3fc5e673d81d7e86568d9ab0f5d396a7ce46ba1049b6579afb7866b1e715475224b","0x15e6be4e990f03ce4ea50b3b42df2eb5cb181d8f84965a3957add4fa95af01b2b665027efec01c7704b456be69c8b604"],["0x16112c4c3a9c98b252181140fad0eae9601a6de578980be6eec3232b5be72e7a07f3688ef60c206d01479253b03663c1","0x1962d75c2381201e1a0cbd6c43c348b885c84ff731c4d59ca4a10356f453e01f78a4260763529e3532f6102c2e49a03d","0x58df3306640da276faaae7d6e8eb15778c4855551ae7f310c35a5dd279cd2eca6757cd636f96f891e2538b53dbf67f2","0x16b7d288798e5395f20d23bf89edb4d1d115c5dbddbcd30e123da489e726af41727364f2c28297ada8d26d98445f5416","0xbe0e079545f43e4b00cc912f8228ddcc6d19c9f0f69bbb0542eda0fc9dec916a20b15dc0fd2ededda39142311a5001d","0x8d9e5297186db2d9fb266eaac783182b70152c65550d881c5ecd87b6f0f5a6449f38db9dfa9cce202c6477faaf9b7ac","0x166007c08a99db2fc3ba8734ace9824b5eecfdfa8d0cf8ef5dd365bc400a0051d5fa9c01a58b1fb93d1a1399126a775c","0x16a3ef08be3ea7ea03bcddfabba6ff6ee5a4375efa1f4fd7feb34fd206357132b920f5b00801dee460ee415a15812ed9","0x1866c8ed336c61231a1be54fd1d74cc4f9fb0ce4c6af5920abc5750c4bf39b4852cfe2f7bb9248836b233d9d55535d4a","0x167a55cda70a6e1cea820597d94a84903216f763e13d87bb5308592e7ea7d4fbc7385ea3d529b35e346ef48bb8913f55","0x4d2f259eea405bd48f010a01ad2911d9c6dd039bb61a6290e591b36e636a5c871a5c29f4f83060400f8b49cba8f6aa8","0xaccbb67481d033ff5852c1e48c50c477f94ff8aefce42d28c0f9a88cea7913516f968986f7ebbea9684b529e2561092","0xad6b9514c767fe3c3613144b45f1496543346d98adf02267d5ceef9a00d9b8693000763e3b90ac11e99b138573345cc","0x2660400eb2e4f3b628bdd0d53cd76f2bf565b94e72927c1cb748df27942480e420517bd8714cc80d1fadc1326ed06f7","0xe0fa1d816ddc03e6b24255e0d7819c171c40f65e273b853324efcd6356caa205ca2f570f13497804415473a1d634b8f","0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001"]].map(e=>e.map(e=>BigInt(e)))),sP=n8(sx,{A:sx.create(BigInt("0x144698a3b8e9433d693a02c96d4982b0ea985383ee66a8d8e8981aefd881ac98936f8da0e0f97f5cf428082d584c1d")),B:sx.create(BigInt("0x12e2908d11688030018b12e8753eee3b2016c1f0f24f4070a0b9c14fcef35ef55a23215a316ceaa5d1cc48e98e172be0")),Z:sx.create(BigInt(11))}),sq=n8(sw,{A:sw.create({c0:sx.create(sd),c1:sx.create(BigInt(240))}),B:sw.create({c0:sx.create(BigInt(1012)),c1:sx.create(BigInt(1012))}),Z:sw.create({c0:sx.create(BigInt(-2)),c1:sx.create(BigInt(-1))})});function sF(e,t,r){let i="string"==typeof e?e:eT(e),n="string"==typeof t?t:eT(t),s="string"==typeof r?r:eT(r);return sR.verifyShortSignature(n,s,i)}let sL=BigInt(1e6),s$=e=>ra(new t8(e)),sM=e=>new Date(Number(s$(e)/sL));function sV(e){if(!e)throw Error("Input cannot be null or undefined");return e instanceof Uint8Array?e:e instanceof ArrayBuffer||Array.isArray(e)?new Uint8Array(e):"buffer"in e?sV(e.buffer):new Uint8Array(e)}function sK(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}(x=O||(O={}))[x.Empty=0]="Empty",x[x.Fork=1]="Fork",x[x.Labeled=2]="Labeled",x[x.Leaf=3]="Leaf",x[x.Pruned=4]="Pruned";class sz{#e=!1;#t=void 0;static async create(e){let t=sz.createUnverified(e);return await t.verify(),t}static createUnverified(e){return new sz(e.certificate,e.rootKey,e.canisterId,e.blsVerify??sF,e.maxAgeInMinutes,e.disableTimeVerification,e.agent)}constructor(e,t,r,i,n=5,s=!1,a){this._rootKey=t,this._canisterId=r,this._blsVerify=i,this._maxAgeInMinutes=n,this.#e=s,this.cert=iH(e),a&&"getTimeDiffMsecs"in a&&"hasSyncedTime"in a&&"syncTime"in a&&(this.#t=a)}lookup_path(e){return sX(e,this.cert.tree)}lookup_subtree(e){return sJ(e,this.cert.tree)}async verify(){let e=await sZ(this.cert.tree),t=await this._checkDelegationAndGetKey(this.cert.delegation),r=this.cert.signature,i=function(e){let t=sG.byteLength+96;if(e.byteLength!==t)throw eF.fromCode(new eJ(t,e.byteLength));let r=e.slice(0,sG.byteLength);if(!sK(r,sG))throw eF.fromCode(new eQ(sG,r));return e.slice(sG.byteLength)}(t),n=ek(sH("ic-state-root"),e),s=sY(this.lookup_path(["time"]));if(!s)throw eF.fromCode(new ez("Certificate does not contain a time"));if(!this.#e){let e=this.#t?.getTimeDiffMsecs()??0,t=6e4*this._maxAgeInMinutes,r=new Date,i=r.getTime()+e,n=sM(s),a=n.getTime()<i-t,o=n.getTime()>i+3e5;if((a||o)&&this.#t&&!this.#t.hasSyncedTime())return await this.#t.syncTime(this._canisterId),await this.verify();if(a)throw eq.fromCode(new eG(this._maxAgeInMinutes,n,r,e,"past"));if(o){if(this.#t?.hasSyncedTime())throw eK.fromCode(new tu("System time has been synced with the IC network, but certificate is still too far in the future."));throw eq.fromCode(new eG(5,n,r,e,"future"))}}try{if(!await this._blsVerify(i,r,n))throw eq.fromCode(new ez("Invalid signature"))}catch(e){throw eq.fromCode(new ez("Signature verification failed",e))}}async _checkDelegationAndGetKey(e){if(!e)return this._rootKey;let t=sz.createUnverified({certificate:e.certificate,rootKey:this._rootKey,canisterId:this._canisterId,blsVerify:this._blsVerify,disableTimeVerification:this.#e,maxAgeInMinutes:43200,agent:this.#t});if(t.cert.delegation)throw eF.fromCode(new eY);await t.verify();let r=e.subnet_id,i=t5.fromUint8Array(r);if(!s0({canisterId:this._canisterId,subnetId:i,tree:t.cert.tree}))throw eq.fromCode(new eZ(this._canisterId,i));let n=sY(t.lookup_path(["subnet",r,"public_key"]));if(!n)throw eq.fromCode(new eX(`Could not find subnet key for subnet ID ${i.toText()}`));return n}}let sG=eN("308182301d060d2b0601040182dc7c0503010201060c2b0601040182dc7c05030201036100");function sY(e){if(e.status===A.Found&&e.value instanceof Uint8Array)return e.value}async function sZ(e){switch(e[0]){case O.Empty:return t0(sH("ic-hashtree-empty"));case O.Pruned:return e[1];case O.Leaf:return t0(ek(sH("ic-hashtree-leaf"),e[1]));case O.Labeled:return t0(ek(sH("ic-hashtree-labeled"),e[1],await sZ(e[2])));case O.Fork:return t0(ek(sH("ic-hashtree-fork"),await sZ(e[1]),await sZ(e[2])));default:throw tw}}function sH(e){return ek(new Uint8Array([e.length]),new TextEncoder().encode(e))}function sW(e){return"string"==typeof e[0]?eB(e[0]):e[0]}function sX(e,t){if(0===e.length)switch(t[0]){case O.Empty:return{status:A.Absent};case O.Leaf:if(!t[1])throw eK.fromCode(new tf("Invalid tree structure for leaf"));if(t[1]instanceof Uint8Array)return{status:A.Found,value:t[1].slice(t[1].byteOffset,t[1].byteLength+t[1].byteOffset)};throw tw;case O.Pruned:return{status:A.Unknown};case O.Labeled:case O.Fork:return{status:A.Error};default:throw tw}let r=sQ(sW(e),t);switch(r.status){case D.Found:return sX(e.slice(1),r.value);case D.Absent:case D.Greater:case D.Less:return{status:A.Absent};case D.Unknown:return{status:A.Unknown};default:throw tw}}function sJ(e,t){if(0===e.length)return{status:R.Found,value:t};let r=sQ(sW(e),t);switch(r.status){case D.Found:return sJ(e.slice(1),r.value);case D.Unknown:return{status:R.Unknown};case D.Absent:case D.Greater:case D.Less:return{status:R.Absent};default:throw tw}}function sQ(e,t){switch(t[0]){case O.Labeled:if(function(e,t){for(let r=0;r<e.length;r++)if(e[r]>t[r])return!0;return!1}(e,t[1]))return{status:D.Greater};if(sK(e,t[1]))return{status:D.Found,value:t[2]};return{status:D.Less};case O.Fork:{let r=sQ(e,t[1]);switch(r.status){case D.Greater:{let r=sQ(e,t[2]);if(r.status===D.Less)return{status:D.Absent};return r}case D.Unknown:{let r=sQ(e,t[2]);if(r.status===D.Less)return{status:D.Unknown};return r}default:return r}}case O.Pruned:return{status:D.Unknown};default:return{status:D.Absent}}}function s0(e){let{canisterId:t,subnetId:r,tree:i}=e,n=sX(["subnet",r.toUint8Array(),"canister_ranges"],i);if(n.status!==A.Found)throw eF.fromCode(new eH(`Could not find canister ranges for subnet ${r.toText()}`,n.status));if(!(n.value instanceof Uint8Array))throw eF.fromCode(new eW(`Could not find canister ranges for subnet ${r.toText()}`));return iH(n.value).map(e=>[t5.fromUint8Array(e[0]),t5.fromUint8Array(e[1])]).some(e=>e[0].ltEq(t)&&e[1].gtEq(t))}(w=A||(A={})).Unknown="Unknown",w.Absent="Absent",w.Found="Found",w.Error="Error",(v=R||(R={})).Absent="Absent",v.Unknown="Unknown",v.Found="Found",(E=D||(D={})).Absent="Absent",E.Unknown="Unknown",E.Found="Found",E.Less="Less",E.Greater="Greater";let s1=e=>t0(new TextEncoder().encode(e));function s2(e){let t=Object.entries(e).filter(([,e])=>void 0!==e).map(([e,t])=>[s1(e),function e(t){if("string"==typeof t)return s1(t);if("number"==typeof t)return t0(rs(t));if(t instanceof Uint8Array||ArrayBuffer.isView(t))return t0(sV(t));if(Array.isArray(t))return t0(ek(...t.map(e)));if(t&&"object"==typeof t&&t._isPrincipal)return t0(t.toUint8Array());else if("object"==typeof t&&null!==t&&"function"==typeof t.toHash)return e(t.toHash());else if("object"==typeof t)return s2(t);else if("bigint"==typeof t)return t0(rs(t));throw eV.fromCode(new tr(t))}(t)]);return t0(ek(...t.sort(([e],[t])=>t7(e,t)).map(e=>ek(...e))))}let s6=new TextEncoder().encode("\nic-request"),s5=new TextEncoder().encode("\vic-response"),s3=new TextEncoder().encode("\x1aic-request-auth-delegation");class s8{getPrincipal(){return this._principal||(this._principal=t5.selfAuthenticating(new Uint8Array(this.getPublicKey().toDer()))),this._principal}async transformRequest(e){let{body:t,...r}=e,i=s2(t);return{...r,body:{content:t,sender_pubkey:this.getPublicKey().toDer(),sender_sig:await this.sign(ek(s6,i))}}}}class s4{getPrincipal(){return t5.anonymous()}async transformRequest(e){return{...e,body:{content:e.body}}}}let s7=async e=>{let{agent:t,paths:r,disableCertificateTimeVerification:i=!1}=e,n=t5.from(e.canisterId),s=[...new Set(r)],a=new Map,o=s.map((e,r)=>{let o=ae(e,n);return(async()=>{try{if(null===t.rootKey)throw eM.fromCode(new tt);let e=t.rootKey,c=await t.readState(n,{paths:[o]}),l=await sz.create({certificate:c.certificate,rootKey:e,canisterId:n,disableTimeVerification:i,agent:t}),{path:d,data:u}=((t,r)=>{if("subnet"!==r)return{path:r,data:sY(t.lookup_path(o))};{let t=s9(c.certificate,n,e);return{path:r,data:t}}})(l,s[r]);if(u)switch(d){case"time":a.set(d,sM(u));break;case"controllers":a.set(d,at(u));break;case"module_hash":a.set(d,eT(u));break;case"subnet":a.set(d,u);break;case"candid":a.set(d,new TextDecoder().decode(u));break;default:if("string"!=typeof d&&"key"in d&&"path"in d)switch(d.decodeStrategy){case"raw":a.set(d.key,u);break;case"leb128":a.set(d.key,s$(u));break;case"cbor":a.set(d.key,iH(u));break;case"hex":a.set(d.key,eT(u));break;case"utf-8":a.set(d.key,new TextDecoder().decode(u))}}else console.warn(`Expected to find result for path ${d}, but instead found nothing.`),"string"==typeof d?a.set(d,null):a.set(d.key,null)}catch(t){if(t instanceof eU&&(t.hasCode(ez)||t.hasCode(eG)))throw t;"string"!=typeof e&&"key"in e&&"path"in e?a.set(e.key,null):a.set(e,null),console.group(),console.warn(`Expected to find result for path ${e}, but instead found nothing.`),console.warn(t),console.groupEnd()}})()});return await Promise.all(o),a},s9=(e,t,r)=>{let i;if(!t._isPrincipal)throw eV.fromCode(new tu("Invalid canisterId"));let n=iH(e),s=n.tree,a=n.delegation;if(a&&a.subnet_id?i=t5.fromUint8Array(new Uint8Array(a.subnet_id)):a=a||void 0===r?{subnet_id:(i=t5.selfAuthenticating(t5.fromText("tdb26-jop6k-aogll-7ltgs-eruif-6kk7m-qpktf-gdiqx-mxtrf-vb5e6-eqe").toUint8Array())).toUint8Array(),certificate:new Uint8Array(0)}:{subnet_id:(i=t5.selfAuthenticating(new Uint8Array(r))).toUint8Array(),certificate:new Uint8Array(0)},!s0({canisterId:t,subnetId:i,tree:s}))throw eq.fromCode(new eZ(t,i));let o=sJ(["subnet",a.subnet_id,"node"],s);if(o.status!==R.Found)throw eF.fromCode(new eH("Node not found",o.status));if(o.value instanceof Uint8Array)throw eK.fromCode(new tf("Invalid node tree"));let c=function e(t){switch(t[0]){case O.Empty:return[];case O.Fork:return e(t[1]).concat(e(t[2]));default:return[t]}}(o.value),l=new Map;return c.forEach(e=>{let t=t5.from(e[1]).toText(),r=sX(["public_key"],e[2]);if(r.status!==A.Found)throw eF.fromCode(new eH("Public key not found",r.status));let i=r.value;if(44!==i.byteLength)throw eF.fromCode(new eJ(44,i.byteLength));l.set(t,i)}),{subnetId:t5.fromUint8Array(new Uint8Array(a.subnet_id)).toText(),nodeKeys:l}},ae=(e,t)=>{let r=t.toUint8Array();switch(e){case"time":return[eB("time")];case"controllers":return[eB("canister"),r,eB("controllers")];case"module_hash":return[eB("canister"),r,eB("module_hash")];case"subnet":return[eB("subnet")];case"candid":return[eB("canister"),r,eB("metadata"),eB("candid:service")];default:if("key"in e&&"path"in e)if(!("string"==typeof e.path||e.path instanceof Uint8Array))return e.path;else{let t=e.path,i="string"==typeof t?eB(t):t;return[eB("canister"),r,eB("metadata"),i]}}throw eK.fromCode(new tu(`Error while encoding your path for canister status. Please ensure that your path ${e} was formatted correctly.`))},at=e=>iH(e).map(e=>t5.fromUint8Array(e)),ar=BigInt(0),ai=BigInt(1),an=BigInt(2),as=BigInt(8);class aa{constructor(e){this.ep=e}static fromBytes(e){ni()}static fromHex(e){ni()}get x(){return this.toAffine().x}get y(){return this.toAffine().y}clearCofactor(){return this}assertValidity(){this.ep.assertValidity()}toAffine(e){return this.ep.toAffine(e)}toHex(){return eT(this.toBytes())}toString(){return this.toHex()}isTorsionFree(){return!0}isSmallOrder(){return!1}add(e){return this.assertSame(e),this.init(this.ep.add(e.ep))}subtract(e){return this.assertSame(e),this.init(this.ep.subtract(e.ep))}multiply(e){return this.init(this.ep.multiply(e))}multiplyUnsafe(e){return this.init(this.ep.multiplyUnsafe(e))}double(){return this.init(this.ep.double())}negate(){return this.init(this.ep.negate())}precompute(e,t){return this.init(this.ep.precompute(e,t))}toRawBytes(){return this.toBytes()}}BigInt(0),BigInt(1),BigInt(2);let ao=BigInt(0),ac=BigInt(1),al=BigInt(2),ad=BigInt(3),au=BigInt(5),af=BigInt(8),ah=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),ap={p:ah,n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:af,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")},am=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");function ay(e,t){var r;let i,n,s,a,o,c,l,d,u,f,h,p,m,y,b=nm(t*t*t,ah),g=(r=e*nm(b*b*t,ah),i=BigInt(10),n=BigInt(20),s=BigInt(40),a=BigInt(80),c=ny(o=r*r%ah*r%ah,al,ah)*o%ah,l=ny(c,ac,ah)*r%ah,d=ny(l,au,ah)*l%ah,u=ny(d,i,ah)*d%ah,f=ny(u,n,ah)*u%ah,h=ny(f,s,ah)*f%ah,p=ny(h,a,ah)*h%ah,m=ny(p,a,ah)*h%ah,y=ny(m,i,ah)*d%ah,{pow_p_5_8:ny(y,al,ah)*r%ah,b2:o}).pow_p_5_8,x=nm(e*b*g,ah),w=nm(t*x*x,ah),v=x,E=nm(x*am,ah),_=w===e,I=w===nm(-e,ah),S=w===nm(-e*am,ah);return _&&(x=v),(I||S)&&(x=E),nE(x,ah)&&(x=nm(-x,ah)),{isValid:_||I,value:x}}let ab=nN(ap.p,{isLE:!0}),ag=nN(ap.n,{isLE:!0}),ax=function(e){let t,r,i,n,{CURVE:s,curveOpts:a,hash:o,eddsaOpts:c}=(t={a:e.a,d:e.d,p:e.Fp.ORDER,n:e.n,h:e.h,Gx:e.Gx,Gy:e.Gy},r={Fp:e.Fp,Fn:nN(t.n,e.nBitLength,!0),uvRatio:e.uvRatio},i={randomBytes:e.randomBytes,adjustScalarBytes:e.adjustScalarBytes,domain:e.domain,prehash:e.prehash,mapToCurve:e.mapToCurve},{CURVE:t,curveOpts:r,hash:e.hash,eddsaOpts:i}),l=function(e,t,r={}){if("function"!=typeof t)throw Error('"hash" function param is required');nr(r,{},{adjustScalarBytes:"function",randomBytes:"function",domain:"function",prehash:"function",mapToCurve:"function"});let{prehash:i}=r,{BASE:n,Fp:s,Fn:a}=e,o=r.randomBytes||eR,c=r.adjustScalarBytes||(e=>e),l=r.domain||((e,t,r)=>{if(iJ(r,"phflag"),t.length||r)throw Error("Contexts/pre-hash are not supported");return e});function d(e){return a.create(i2(e))}function u(e){var r;let i,s,a,o,l,{head:u,prefix:f,scalar:h}=(r=i3("private key",r=e,i=y.secretKey),a=c((s=i3("hashed private key",t(r),2*i)).slice(0,i)),o=s.slice(i,2*i),l=d(a),{head:a,prefix:o,scalar:l}),p=n.multiply(h),m=p.toBytes();return{head:u,prefix:f,scalar:h,point:p,pointBytes:m}}function f(e){return u(e).pointBytes}function h(e=Uint8Array.of(),...r){return d(t(l(ek(...r),i3("context",e),!!i)))}let p={zip215:!0},m=s.BYTES,y={secretKey:m,publicKey:m,signature:2*m,seed:m};function b(e=o(y.seed)){return iQ(e,y.seed,"seed")}let g={getExtendedPublicKey:u,randomSecretKey:b,isValidSecretKey:function(e){return eg(e)&&e.length===a.BYTES},isValidPublicKey:function(t,r){try{return!!e.fromBytes(t,r)}catch(e){return!1}},toMontgomery(t){let{y:r}=e.fromBytes(t),i=y.publicKey,n=32===i;if(!n&&57!==i)throw Error("only defined for 25519 and 448");let a=n?s.div(ai+r,ai-r):s.div(r-ai,r+ai);return s.toBytes(a)},toMontgomerySecret(e){let r=y.secretKey;return iQ(e,r),c(t(e.subarray(0,r))).subarray(0,r)},randomPrivateKey:b,precompute:(t=8,r=e.BASE)=>r.precompute(t,!1)};return Object.freeze({keygen:function(e){let t=g.randomSecretKey(e);return{secretKey:t,publicKey:f(t)}},getPublicKey:f,sign:function(e,t,r={}){e=i3("message",e),i&&(e=i(e));let{prefix:s,scalar:o,pointBytes:c}=u(t),l=h(r.context,s,e),d=n.multiply(l).toBytes(),f=h(r.context,d,c,e),p=a.create(l+f*o);if(!a.isValid(p))throw Error("sign failed: invalid s");return iQ(ek(d,a.toBytes(p)),y.signature,"result")},verify:function(t,r,s,a=p){let o,c,l,{context:d,zip215:u}=a,f=y.signature;t=i3("signature",t,f),r=i3("message",r),s=i3("publicKey",s,y.publicKey),void 0!==u&&iJ(u,"zip215"),i&&(r=i(r));let m=f/2,b=t.subarray(0,m),g=i2(t.subarray(m,f));try{o=e.fromBytes(s,u),c=e.fromBytes(b,u),l=n.multiplyUnsafe(g)}catch(e){return!1}if(!u&&o.isSmallOrder())return!1;let x=h(d,c.toBytes(),o.toBytes(),r);return c.add(o.multiplyUnsafe(x)).subtract(l).clearCofactor().is0()},utils:g,Point:e,lengths:y})}(function(e,t={}){var r,i;let n,s,a,o,c,l=nz("edwards",e,t,t.FpFnLE),{Fp:d,Fn:u}=l,f=l.CURVE,{h:h}=f;nr(t,{},{uvRatio:"function"});let p=an<<BigInt(8*u.BYTES)-ai,m=t.uvRatio||((e,t)=>{try{return{isValid:!0,value:d.sqrt(d.div(e,t))}}catch(e){return{isValid:!1,value:ar}}});if(r=f.Gx,i=f.Gy,n=d.sqr(r),s=d.sqr(i),a=d.add(d.mul(f.a,n),s),o=d.add(d.ONE,d.mul(f.d,d.mul(n,s))),!d.eql(a,o))throw Error("bad curve params: generator point");function y(e,t,r=!1){return i9("coordinate "+e,t,r?ai:ar,p),t}function b(e){if(!(e instanceof w))throw Error("ExtendedPoint expected")}let g=nn((e,t)=>{let r,i,{X:n,Y:s,Z:a}=e,o=e.is0();null==t&&(t=o?as:d.inv(a));let c=(r=n*t,d.create(r)),l=(i=s*t,d.create(i)),u=d.mul(a,t);if(o)return{x:ar,y:ai};if(u!==ai)throw Error("invZ was invalid");return{x:c,y:l}}),x=nn(e=>{let t,r,i,n,s,a,o,c,l,u,h,p,{a:m,d:y}=f;if(e.is0())throw Error("bad point: ZERO");let{X:b,Y:g,Z:x,T:w}=e,v=(t=b*b,d.create(t)),E=(r=g*g,d.create(r)),_=(i=x*x,d.create(i)),I=(n=_*_,d.create(n));if(o=_*(s=v*m,a=d.create(s)+E,d.create(a)),d.create(o)!==(u=I+(l=y*(c=v*E,d.create(c)),d.create(l)),d.create(u)))throw Error("bad point: equation left != right (1)");if(h=b*g,d.create(h)!==(p=x*w,d.create(p)))throw Error("bad point: equation left != right (2)");return!0});class w{constructor(e,t,r,i){this.X=y("x",e),this.Y=y("y",t),this.Z=y("z",r,!0),this.T=y("t",i),Object.freeze(this)}static CURVE(){return f}static fromAffine(e){let t;if(e instanceof w)throw Error("extended point not allowed");let{x:r,y:i}=e||{};return y("x",r),y("y",i),new w(r,i,ai,(t=r*i,d.create(t)))}static fromBytes(e,t=!1){let r,i,n,s,a=d.BYTES,{a:o,d:c}=f;e=i8(iQ(e,a,"point")),iJ(t,"zip215");let l=i8(e),u=e[a-1];l[a-1]=-129&u;let h=i2(l);i9("point.y",h,ar,t?p:d.ORDER);let y=(r=h*h,d.create(r)),{isValid:b,value:g}=m((i=y-ai,d.create(i)),(n=c*y-o,d.create(n)));if(!b)throw Error("bad point: invalid y coordinate");let x=(g&ai)===ai,v=(128&u)!=0;if(!t&&g===ar&&v)throw Error("bad point: x=0 and x_0=1");return v!==x&&(s=-g,g=d.create(s)),w.fromAffine({x:g,y:h})}static fromHex(e,t=!1){return w.fromBytes(i3("point",e),t)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(e=8,t=!0){return v.createCache(this,e),t||this.multiply(an),this}assertValidity(){x(this)}equals(e){let t,r,i,n;b(e);let{X:s,Y:a,Z:o}=this,{X:c,Y:l,Z:u}=e,f=(t=s*u,d.create(t)),h=(r=c*o,d.create(r)),p=(i=a*u,d.create(i)),m=(n=l*o,d.create(n));return f===h&&p===m}is0(){return this.equals(w.ZERO)}negate(){let e,t;return new w((e=-this.X,d.create(e)),this.Y,this.Z,(t=-this.T,d.create(t)))}double(){let e,t,r,i,n,s,a,o,c,l,u,{a:h}=f,{X:p,Y:m,Z:y}=this,b=(e=p*p,d.create(e)),g=(t=m*m,d.create(t)),x=(i=an*(r=y*y,d.create(r)),d.create(i)),v=(n=h*b,d.create(n)),E=p+m,_=(s=E*E,a=d.create(s)-b-g,d.create(a)),I=v+g,S=I-x,T=v-g,j=(o=_*S,d.create(o)),N=(c=I*T,d.create(c)),B=(l=_*T,d.create(l));return new w(j,N,(u=S*I,d.create(u)),B)}add(e){let t,r,i,n,s,a,o,c,l,u;b(e);let{a:h,d:p}=f,{X:m,Y:y,Z:g,T:x}=this,{X:v,Y:E,Z:_,T:I}=e,S=(t=m*v,d.create(t)),T=(r=y*E,d.create(r)),j=(i=x*p*I,d.create(i)),N=(n=g*_,d.create(n)),B=(s=(m+y)*(v+E)-S-T,d.create(s)),C=N-j,k=N+j,O=(a=T-h*S,d.create(a)),A=(o=B*C,d.create(o)),R=(c=k*O,d.create(c)),D=(l=B*O,d.create(l));return new w(A,R,(u=C*k,d.create(u)),D)}subtract(e){return this.add(e.negate())}multiply(e){if(!u.isValidNot0(e))throw Error("invalid scalar: expected 1 <= sc < curve.n");let{p:t,f:r}=v.cached(this,e,e=>nR(w,e));return nR(w,[t,r])[0]}multiplyUnsafe(e,t=w.ZERO){if(!u.isValid(e))throw Error("invalid scalar: expected 0 <= sc < curve.n");return e===ar?w.ZERO:this.is0()||e===ai?this:v.unsafe(this,e,e=>nR(w,e),t)}isSmallOrder(){return this.multiplyUnsafe(h).is0()}isTorsionFree(){return v.unsafe(this,f.n).is0()}toAffine(e){return g(this,e)}clearCofactor(){return h===ai?this:this.multiplyUnsafe(h)}toBytes(){let{x:e,y:t}=this.toAffine(),r=d.toBytes(t);return r[r.length-1]|=e&ai?128:0,r}toHex(){return eT(this.toBytes())}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get ex(){return this.X}get ey(){return this.Y}get ez(){return this.Z}get et(){return this.T}static normalizeZ(e){return nR(w,e)}static msm(e,t){return nV(w,u,e,t)}_setWindowSize(e){this.precompute(e)}toRawBytes(){return this.toBytes()}}w.BASE=new w(f.Gx,f.Gy,ai,(c=f.Gx*f.Gy,d.create(c))),w.ZERO=new w(ar,ai,ai,ar),w.Fp=d,w.Fn=u;let v=new nM(w,u.BITS);return w.BASE.precompute(8),w}(s,a),o,c);return n=l.Point,Object.assign({},l,{ExtendedPoint:n,CURVE:e,nBitLength:n.Fn.BITS,nByteLength:n.Fn.BYTES})}({...ap,Fp:ab,hash:t2,adjustScalarBytes:function(e){return e[0]&=248,e[31]&=127,e[31]|=64,e},uvRatio:ay}),aw=(ah+ad)/af,av=ab.pow(al,aw),aE=ab.sqrt(ab.neg(ab.ONE)),a_=function(e,t){if(!e.isOdd)throw Error("Field doesn't have isOdd");let r=e.sqrt(t);return e.isOdd(r)?e.neg(r):r}(ab,ab.neg(BigInt(486664)));nJ(ax.Point,e=>(function(e){let t,r,i,n,s,a,o,c,l,d,u,f,h,p,m,y,b,g,x,w,v,E,_,{xMn:I,xMd:S,yMn:T,yMd:j}=(t=(ah-au)/af,r=BigInt(486662),i=ab.sqr(e),i=ab.mul(i,al),n=ab.add(i,ab.ONE),s=ab.neg(r),a=ab.sqr(n),o=ab.mul(a,n),c=ab.mul(i,r),c=ab.mul(c,s),c=ab.add(c,a),c=ab.mul(c,s),l=ab.sqr(o),a=ab.sqr(l),l=ab.mul(l,o),l=ab.mul(l,c),a=ab.mul(a,l),d=ab.pow(a,t),d=ab.mul(d,l),u=ab.mul(d,aE),a=ab.sqr(d),a=ab.mul(a,o),f=ab.eql(a,c),h=ab.cmov(u,d,f),p=ab.mul(s,i),m=ab.mul(d,e),m=ab.mul(m,av),y=ab.mul(m,aE),b=ab.mul(c,i),a=ab.sqr(m),a=ab.mul(a,o),g=ab.eql(a,b),x=ab.cmov(y,m,g),a=ab.sqr(h),a=ab.mul(a,o),w=ab.eql(a,c),v=ab.cmov(p,s,w),E=ab.cmov(x,h,w),_=ab.isOdd(E),{xMn:v,xMd:n,yMn:E=ab.cmov(E,ab.neg(E),w!==_),yMd:ac}),N=ab.mul(I,j);N=ab.mul(N,a_);let B=ab.mul(S,T),C=ab.sub(I,S),k=ab.add(I,S),O=ab.mul(B,k),A=ab.eql(O,ab.ZERO);N=ab.cmov(N,ab.ZERO,A),B=ab.cmov(B,ab.ONE,A),C=ab.cmov(C,ab.ONE,A),k=ab.cmov(k,ab.ONE,A);let[R,D]=nT(ab,[B,k],!0);return{x:ab.mul(N,R),y:ab.mul(C,D)}})(e[0]),{DST:"edwards25519_XMD:SHA-512_ELL2_RO_",encodeDST:"edwards25519_XMD:SHA-512_ELL2_NU_",p:ah,m:1,k:128,expand:"xmd",hash:t2});let aI=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),aS=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),aT=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),aj=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),aN=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),aB=e=>ax.Point.Fp.create(i2(e)&aN);function aC(e){let t,r,i,n,s,a,o,c,l,d,u,f,h,p,m,{d:y}=ap,b=(t=am*e*e,ab.create(t)),g=(r=(b+ac)*aT,ab.create(r)),x=BigInt(-1),w=(n=(x-y*b)*(i=b+y,ab.create(i)),ab.create(n)),{isValid:v,value:E}=ay(g,w),_=(s=E*e,ab.create(s));nE(_,ah)||(a=-_,_=ab.create(a)),v||(E=_),v||(x=b);let I=(o=x*(b-ac)*aj-w,ab.create(o)),S=E*E,T=(c=(E+E)*w,ab.create(c)),j=(l=I*aI,ab.create(l)),N=(d=ac-S,ab.create(d)),B=(u=ac+S,ab.create(u));return new ax.Point((f=T*B,ab.create(f)),(h=N*j,ab.create(h)),(p=j*B,ab.create(p)),(m=T*N,ab.create(m)))}class ak extends aa{constructor(e){super(e)}static fromAffine(e){return new ak(ax.Point.fromAffine(e))}assertSame(e){if(!(e instanceof ak))throw Error("RistrettoPoint expected")}init(e){return new ak(e)}static hashToCurve(e){var t;let r,i;return ex(t=i3("ristrettoHash",e,64),64),r=aC(aB(t.subarray(0,32))),i=aC(aB(t.subarray(32,64))),new ak(r.add(i))}static fromBytes(e){let t,r,i,n,s,a,o,c,l,d,u,f,h;ex(e,32);let{a:p,d:m}=ap,y=aB(e);if(!function(e,t){if(e.length!==t.length)return!1;let r=0;for(let i=0;i<e.length;i++)r|=e[i]^t[i];return 0===r}(ab.toBytes(y),e)||nE(y,ah))throw Error("invalid ristretto255 encoding 1");let b=(t=y*y,ab.create(t)),g=(r=ac+p*b,ab.create(r)),x=(i=ac-p*b,ab.create(i)),w=(n=g*g,ab.create(n)),v=(s=x*x,ab.create(s)),E=(a=p*m*w-v,ab.create(a)),{isValid:_,value:I}=(o=E*v,ay(ac,ab.create(o))),S=(c=I*x,ab.create(c)),T=(l=I*S*E,ab.create(l)),j=(d=(y+y)*S,ab.create(d));nE(j,ah)&&(u=-j,j=ab.create(u));let N=(f=g*T,ab.create(f)),B=(h=j*N,ab.create(h));if(!_||nE(B,ah)||N===ao)throw Error("invalid ristretto255 encoding 2");return new ak(new ax.Point(j,N,ac,B))}static fromHex(e){return ak.fromBytes(i3("ristrettoHex",e,32))}static msm(e,t){return nV(ak,ax.Point.Fn,e,t)}toBytes(){let e,t,r,i,n,s,a,o,c,l,d,u,f,{X:h,Y:p,Z:m,T:y}=this.ep,b=(e=m+p,r=ab.create(e)*(t=m-p,ab.create(t)),ab.create(r)),g=(i=h*p,ab.create(i)),{value:x}=(s=b*(n=g*g,ab.create(n)),ay(ac,ab.create(s))),w=(a=x*b,ab.create(a)),v=(o=x*g,ab.create(o)),E=(c=w*v*y,ab.create(c));if(nE(y*E,ah)){let e,t,r=(e=p*am,ab.create(e)),i=(t=h*am,ab.create(t));h=r,p=i,f=ab.create(w*aS)}else f=v;nE(h*E,ah)&&(l=-p,p=ab.create(l));let _=(d=(m-p)*f,ab.create(d));return nE(_,ah)&&(u=-_,_=ab.create(u)),ab.toBytes(_)}equals(e){let t,r,i,n;this.assertSame(e);let{X:s,Y:a}=this.ep,{X:o,Y:c}=e.ep,l=(t=s*c,ab.create(t)===(r=a*o,ab.create(r))),d=(i=a*c,ab.create(i)===(n=s*o,ab.create(n)));return l||d}is0(){return this.equals(ak.ZERO)}}ak.BASE=new ak(ax.Point.BASE),ak.ZERO=new ak(ax.Point.ZERO),ak.Fp=ab,ak.Fn=ag;class aO{static{U=Symbol.iterator,P=Symbol.toStringTag}#r;#i;constructor(e={}){this[U]=this.entries.bind(this),this[P]="ExpirableMap";const{source:t=[],expirationTime:r=6e5}=e,i=Date.now();this.#r=new Map([...t].map(([e,t])=>[e,{value:t,timestamp:i}])),this.#i=r}prune(){let e=Date.now();for(let[t,r]of this.#r.entries())e-r.timestamp>this.#i&&this.#r.delete(t);return this}set(e,t){this.prune();let r={value:t,timestamp:Date.now()};return this.#r.set(e,r),this}get(e){let t=this.#r.get(e);if(void 0!==t)return Date.now()-t.timestamp>this.#i?void this.#r.delete(e):t.value}clear(){this.#r.clear()}entries(){let e=this.#r.entries();return function*(){for(let[t,r]of e)yield[t,r.value]}()}values(){let e=this.#r.values();return function*(){for(let t of e)yield t.value}()}keys(){return this.#r.keys()}forEach(e,t){for(let[r,i]of this.#r.entries())e.call(t,i.value,r,this)}has(e){return this.#r.has(e)}delete(e){return this.#r.delete(e)}get size(){return this.#r.size}}let aA=e=>{if(e<=127)return 1;if(e<=255)return 2;if(e<=65535)return 3;if(e<=0xffffff)return 4;throw eV.fromCode(new e2("Length too long (> 4 bytes)"))},aR=(e,t,r)=>{if(r<=127)return e[t]=r,1;if(r<=255)return e[t]=129,e[t+1]=r,2;if(r<=65535)return e[t]=130,e[t+1]=r>>8,e[t+2]=r,3;if(r<=0xffffff)return e[t]=131,e[t+1]=r>>16,e[t+2]=r>>8,e[t+3]=r,4;throw eV.fromCode(new e2("Length too long (> 4 bytes)"))},aD=(e,t)=>{if(e[t]<128)return 1;if(128===e[t])throw eV.fromCode(new e1("Invalid length 0"));if(129===e[t])return 2;if(130===e[t])return 3;if(131===e[t])return 4;throw eV.fromCode(new e1("Length too long (> 4 bytes)"))};Uint8Array.from([48,12,6,10,43,6,1,4,1,131,184,67,1,1]);let aU=Uint8Array.from([48,5,6,3,43,101,112]);function aP(e,t){let r=2+aA(e.byteLength+1),i=t.byteLength+r+e.byteLength,n=0,s=new Uint8Array(1+aA(i)+i);return s[n++]=48,n+=aR(s,n,i),s.set(t,n),n+=t.byteLength,s[n++]=3,n+=aR(s,n,e.byteLength+1),s[n++]=0,s.set(new Uint8Array(e),n),s}Uint8Array.from([48,16,6,7,42,134,72,206,61,2,1,6,5,43,129,4,0,10]),Uint8Array.from([48,29,6,13,43,6,1,4,1,130,220,124,5,3,1,2,1,6,12,43,6,1,4,1,130,220,124,5,3,2,1]);let aq=(e,t)=>{let r=0,i=(e,t)=>{if(n[r++]!==e)throw eV.fromCode(new e1(`Expected ${t} at offset ${r}`))},n=new Uint8Array(e);if(i(48,"sequence"),r+=aD(n,r),!sK(n.slice(r,r+t.byteLength),t))throw eV.fromCode(new e1("Not the expected OID."));r+=t.byteLength,i(3,"bit string");let s=((e,t)=>{let r=aD(e,t);if(1===r)return e[t];if(2===r)return e[t+1];if(3===r)return(e[t+1]<<8)+e[t+2];if(4===r)return(e[t+1]<<16)+(e[t+2]<<8)+e[t+3];throw eV.fromCode(new e1("Length too long (> 4 bytes)"))})(n,r)-1;r+=aD(n,r),i(0,"0 padding");let a=n.slice(r);if(s!==a.length)throw eV.fromCode(new e0(s,a.length));return a};class aF{static from(e){return this.fromDer(e.toDer())}static fromRaw(e){return new aF(e)}static fromDer(e){return new aF(this.derDecode(e))}static{this.RAW_KEY_LENGTH=32}static derEncode(e){return aP(e,aU)}static derDecode(e){let t=aq(e,aU);if(t.length!==this.RAW_KEY_LENGTH)throw eV.fromCode(new e1("An Ed25519 public key must be exactly 32 bytes long"));return t}#n;get rawKey(){return this.#n}#s;get derKey(){return this.#s}constructor(e){if(e.byteLength!==aF.RAW_KEY_LENGTH)throw eV.fromCode(new e1("An Ed25519 public key must be exactly 32 bytes long"));this.#n=e,this.#s=aF.derEncode(e)}toDer(){return this.derKey}toRaw(){return this.rawKey}}class aL{constructor(){this.observers=[]}subscribe(e){this.observers.push(e)}unsubscribe(e){this.observers=this.observers.filter(t=>t!==e)}notify(e,...t){this.observers.forEach(r=>r(e,...t))}}class a$ extends aL{constructor(){super()}print(e,...t){this.notify({message:e,level:"info"},...t)}warn(e,...t){this.notify({message:e,level:"warn"},...t)}error(e,t,...r){this.notify({message:e,level:"error",error:t},...r)}}class aM{#a;#o;#c;#l;#d;#u;#f;#h;#p=0;static{this.default={initialInterval:500,randomizationFactor:.5,multiplier:1.5,maxInterval:6e4,maxElapsedTime:9e5,maxIterations:10,date:Date}}constructor(e=aM.default){const{initialInterval:t=500,randomizationFactor:r=.5,multiplier:i=1.5,maxInterval:n=6e4,maxElapsedTime:s=9e5,maxIterations:a=10,date:o=Date}=e;this.#a=t,this.#o=r,this.#c=i,this.#l=n,this.#h=o,this.#d=o.now(),this.#u=s,this.#f=a}get ellapsedTimeInMsec(){return this.#h.now()-this.#d}get currentInterval(){return this.#a}get count(){return this.#p}get randomValueFromInterval(){let e=this.#o*this.#a,t=this.#a-e;return Math.random()*(this.#a+e-t)+t}incrementCurrentInterval(){return this.#a=Math.min(this.#a*this.#c,this.#l),this.#p++,this.#a}next(){return this.ellapsedTimeInMsec>=this.#u||this.#p>=this.#f?null:(this.incrementCurrentInterval(),this.randomValueFromInterval)}}(_=q||(q={})).Received="received",_.Processing="processing",_.Replied="replied",_.Rejected="rejected",_.Unknown="unknown",_.Done="done";class aV{#m;#y;#b;#g;#x;#w;#v;#E;#_;#I;#S;#T;#j;#N;get #B(){return 6e4*this.#N}#C;#k;#O;#A;constructor(t={}){this.#m=null,this.#y=!1,this.#b=0,this.#g=!1,this.#x=null,this.#w=!1,this._isAgent=!0,this.config={},this.log=new a$,this.#C=[],this.#k=[],this.#O=new aO({expirationTime:3e5}),this.#A=!0,this.#R=(e,t)=>{if(!1===this.#A)return e;let{status:r,signatures:i=[],requestId:n}=e;for(let s of i){let i,{timestamp:a,identity:o}=s,c=t5.fromUint8Array(o).toText();if(r===S.Replied){let{reply:t}=e;i=s2({status:r,reply:t,timestamp:BigInt(a),request_id:n})}else if(r===S.Rejected){let{reject_code:t,reject_message:s,error_code:o}=e;i=s2({status:r,reject_code:t,reject_message:s,error_code:o,timestamp:BigInt(a),request_id:n})}else throw eK.fromCode(new tu(`Unknown status: ${r}`));let l=ek(s5,i),d=t.nodeKeys.get(c);if(!d)throw eF.fromCode(new tl);let u=aF.fromDer(d).rawKey;if(ax.verify(s.signature,l,u))break;throw eq.fromCode(new td(c))}return e},this.config=t,this.#E=t.fetch||function(){let t;if("u">typeof window)if(window.fetch)t=window.fetch.bind(window);else throw eM.fromCode(new ti("Fetch implementation was not available. You appear to be in a browser context, but window.fetch was not present."));else if(1)if(e.g.fetch)t=e.g.fetch.bind(e.g);else throw eM.fromCode(new ti("Fetch implementation was not available. You appear to be in a Node.js context, but global.fetch was not available."));if(t)return t;throw eM.fromCode(new ti("Fetch implementation was not available. Please provide fetch to the HttpAgent constructor, or ensure it is available in the window or global context."))}()||fetch.bind(e.g),this.#_=t.fetchOptions,this.#I=t.callOptions,this.#y=t.shouldFetchRootKey??!1,this.#w=t.shouldSyncTime??!1,t.rootKey?this.rootKey=t.rootKey:this.#y?this.rootKey=null:this.rootKey=eN("308182301d060d2b0601040182dc7c0503010201060c2b0601040182dc7c05030201036100814c0e6ec71fab583b08bd81373c255c3c371b2e84863c98a4f1e08b74235d14fb5d9c0cd546d9685f913a0c0b2cc5341583bf4b4392e467db96d65b9bb4cb717112f8472e0d5a4d14505ffd7484b01291091c5f87b98883463f98091a0baaae");const r=function(e){let t;if(void 0!==e)t=new URL(!e.match(/^[a-z]+:/)&&"u">typeof window?window.location.protocol+"//"+e:e);else{let e,r="u">typeof window?window.location:void 0,i=r?.hostname;i&&"string"==typeof i&&(e=[".github.dev",".gitpod.io"].some(e=>i.endsWith(e))?i:["ic0.app","icp0.io","127.0.0.1","localhost"].find(e=>i.endsWith(e))),t=new URL(r&&e?`${r.protocol}//${e}${r.port?":"+r.port:""}`:"https://icp-api.io")}return t.toString()}(t.host);this.host=new URL(r),void 0!==t.verifyQuerySignatures&&(this.#A=t.verifyQuerySignatures),this.#T=t.retryTimes??3;const i=()=>new aM({maxIterations:this.#T});if(this.#j=t.backoffStrategy||i,this.host.hostname.endsWith(".ic0.app")?this.host.hostname="ic0.app":this.host.hostname.endsWith(".icp0.io")?this.host.hostname="icp0.io":this.host.hostname.endsWith(".icp-api.io")&&(this.host.hostname="icp-api.io"),t.credentials){const{name:e,password:r}=t.credentials;this.#S=`${e}${r?":"+r:""}`}if(this.#v=Promise.resolve(t.identity||new s4),t.ingressExpiryInMinutes&&t.ingressExpiryInMinutes>5)throw eV.fromCode(new ts("The maximum ingress expiry time is 5 minutes.",t.ingressExpiryInMinutes));if(t.ingressExpiryInMinutes&&t.ingressExpiryInMinutes<=0)throw eV.fromCode(new ts("Ingress expiry time must be greater than 0.",t.ingressExpiryInMinutes));this.#N=t.ingressExpiryInMinutes||5,this.addTransform("update",iG(iF)),t.useQueryNonces&&this.addTransform("query",iG(iF)),t.logToConsole&&this.log.subscribe(e=>{"error"===e.level?console.error(e.message):"warn"===e.level?console.warn(e.message):console.log(e.message)})}static createSync(e={}){return new this({...e})}static async create(e={}){let t=aV.createSync(e);return await t.#D(),t}static async from(e){try{if("config"in e)return await aV.create(e.config);return await aV.create({fetch:e._fetch,fetchOptions:e._fetchOptions,callOptions:e._callOptions,host:e._host.toString(),identity:e._identity??void 0})}catch{throw eV.fromCode(new ta)}}isLocal(){let e=this.host.hostname;return"127.0.0.1"===e||e.endsWith("127.0.0.1")}addTransform(e,t,r=t.priority||0){if("update"===e){let e=this.#k.findIndex(e=>(e.priority||0)<r);this.#k.splice(e>=0?e:this.#k.length,0,Object.assign(t,{priority:r}))}else if("query"===e){let e=this.#C.findIndex(e=>(e.priority||0)<r);this.#C.splice(e>=0?e:this.#C.length,0,Object.assign(t,{priority:r}))}}async getPrincipal(){if(!this.#v)throw eM.fromCode(new tn);return(await this.#v).getPrincipal()}async call(e,t,r){let i=t.callSync??!0,n=await (r??this.#v);if(!n)throw eM.fromCode(new tn);let s=t5.from(e),a=t.effectiveCanisterId?t5.from(t.effectiveCanisterId):s;await this.#D(a);let o=n.getPrincipal(),c=aK(this.#N,this.#b),l={request_type:C.Call,canister_id:s,method_name:t.methodName,arg:t.arg,sender:o,ingress_expiry:c},d=await this._transform({request:{body:null,method:"POST",headers:{"Content-Type":"application/cbor",...this.#S?{Authorization:"Basic "+btoa(this.#S)}:{}}},endpoint:B.Call,body:l});function u(e){return Object.assign(e,{__nonce__:void 0})}l.nonce=t?.nonce?u(t.nonce):d.body.nonce?u(d.body.nonce):void 0;let f=iZ((d=await n.transformRequest(d)).body),h=this.#j(),p=s2(l);try{let e=()=>(this.log.print(`fetching "/api/v3/canister/${a.toText()}/call" with request:`,d),this.#E(""+new URL(`/api/v3/canister/${a.toText()}/call`,this.host),{...this.#I,...d.request,body:f})),t=()=>(this.log.print(`fetching "/api/v2/canister/${a.toText()}/call" with request:`,d),this.#E(""+new URL(`/api/v2/canister/${a.toText()}/call`,this.host),{...this.#I,...d.request,body:f})),{responseBodyBytes:r,...n}=await this.#U({requestFn:i?e:t,backoff:h,tries:0}),s=r.byteLength>0?iH(r):null;return{requestId:p,response:{...n,body:s},requestDetails:l}}catch(n){let i;if(n instanceof eU)if(n.hasCode(tp))return this.log.warn("v3 api not supported. Fall back to v2"),this.call(e,{...t,callSync:!1},r);else{if(n.hasCode(ts)&&!this.#g)return await this.syncTime(s),this.call(s,t,r);n.code.requestContext={requestId:p,senderPubKey:d.body.sender_pubkey,senderSignature:d.body.sender_sig,ingressExpiry:d.body.content.ingress_expiry},i=n}else i=eK.fromCode(new tu(n));throw this.log.error(`Error while making call: ${i.message}`,i),i}}async #P(e){let t,{ecid:r,transformedRequest:i,body:n,requestId:s,backoff:a,tries:o}=e,c=0===o?0:a.next();if(this.log.print(`fetching "/api/v2/canister/${r.toString()}/query" with tries:`,{tries:o,backoff:a,delay:c}),null===c)throw eK.fromCode(new e3(`Backoff strategy exhausted after ${o} attempts.`,s));c>0&&await new Promise(e=>setTimeout(e,c));try{this.log.print(`fetching "/api/v2/canister/${r.toString()}/query" with request:`,i);let e=await this.#E(""+new URL(`/api/v2/canister/${r.toString()}/query`,this.host),{...this.#_,...i.request,body:n});if(200===e.status)t={...iH(sV(await e.arrayBuffer())),httpDetails:{ok:e.ok,status:e.status,statusText:e.statusText,headers:iY(e.headers)},requestId:s};else throw eF.fromCode(new th(e.status,e.statusText,iY(e.headers),await e.text()))}catch(t){if(o<this.#T)return this.log.warn(`Caught exception while attempting to make query:
  ${t}
  Retrying query.`),await this.#P({...e,tries:o+1});if(t instanceof eU)throw t;throw e$.fromCode(new tm(t))}if(!this.#A)return t;let l=t.signatures?.[0]?.timestamp;if(!l)throw eF.fromCode(new to("Timestamp not found in query response. This suggests a malformed or malicious response."));let d=Number(BigInt(l)/BigInt(1e6));if(Date.now()+this.#b-d>this.#B){if(o<this.#T)return this.log.warn("Timestamp is older than the max ingress expiry. Retrying query.",{requestId:s,signatureTimestampMs:d}),await this.#P({...e,tries:o+1});throw eq.fromCode(new e8(this.#N,s,o))}return t}async #U(e){let t,{requestFn:r,backoff:i,tries:n}=e,s=0===n?0:i.next();if(null===s)throw eF.fromCode(new e3(`Retry strategy exhausted after ${n} attempts.`));s>0&&await new Promise(e=>setTimeout(e,s));let a=new Uint8Array;try{200===(t=await r()).status&&(a=sV(await t.clone().arrayBuffer()))}catch(e){if(n<this.#T)return this.log.warn(`Caught exception while attempting to make request:
  ${e}
  Retrying request.`),await this.#U({requestFn:r,backoff:i,tries:n+1});throw e$.fromCode(new tm(e))}let o=iY(t.headers);if(200===t.status||202===t.status)return{ok:t.ok,status:t.status,statusText:t.statusText,responseBodyBytes:a,headers:o};let c=await t.text();if(404===t.status&&t.url.includes("api/v3"))throw eF.fromCode(new tp);if(c.startsWith("Invalid request expiry: "))throw eV.fromCode(new ts(c,this.#N));if(n<this.#T)return await this.#U({requestFn:r,backoff:i,tries:n+1});throw eF.fromCode(new th(t.status,t.statusText,o,c))}async query(e,t,r){let i,n=this.#j(),s=t.effectiveCanisterId?t5.from(t.effectiveCanisterId):t5.from(e);await this.#D(s),this.log.print(`ecid ${s.toString()}`),this.log.print(`canisterId ${e.toString()}`);let a=await (r??this.#v);if(!a)throw eM.fromCode(new tn);let o=t5.from(e),c=a.getPrincipal(),l=aK(this.#N,this.#b),d={request_type:k.Query,canister_id:o,method_name:t.methodName,arg:t.arg,sender:c,ingress_expiry:l},u=s2(d);i=await this._transform({request:{method:"POST",headers:{"Content-Type":"application/cbor",...this.#S?{Authorization:"Basic "+btoa(this.#S)}:{}}},endpoint:B.Query,body:d});let f=iZ((i=await a.transformRequest(i)).body),h={canister:o.toText(),ecid:s,transformedRequest:i,body:f,requestId:u,backoff:n,tries:0},p=async()=>({requestDetails:d,...await this.#P(h)}),m=async()=>{let e=this.#O.get(s.toString());if(e)return e;await this.fetchSubnetKeys(s.toString());let t=this.#O.get(s.toString());if(!t)throw eq.fromCode(new tc);return t};try{if(!this.#A)return await p();let[e,t]=await Promise.all([p(),m()]);try{return this.#R(e,t)}catch{this.log.warn("Query response verification failed. Retrying with fresh subnet keys."),this.#O.delete(s.toString());let t=await m();return this.#R(e,t)}}catch(t){let e;throw t instanceof eU?(t.code.requestContext={requestId:u,senderPubKey:i.body.sender_pubkey,senderSignature:i.body.sender_sig,ingressExpiry:i.body.content.ingress_expiry},e=t):e=eK.fromCode(new tu(t)),this.log.error(`Error while making query: ${e.message}`,e),e}}#R;async createReadStateRequest(e,t){await this.#D();let r=await (t??this.#v);if(!r)throw eM.fromCode(new tn);let i=r.getPrincipal(),n=await this._transform({request:{method:"POST",headers:{"Content-Type":"application/cbor",...this.#S?{Authorization:"Basic "+btoa(this.#S)}:{}}},endpoint:B.ReadState,body:{request_type:k.ReadState,paths:e.paths,sender:i,ingress_expiry:aK(this.#N,this.#b)}});return r.transformRequest(n)}async readState(e,t,r,i){let n,s;await this.#q();let a=t5.from(e);if(i)s=s2(n=i);else{s=function(e){for(let t of e.paths){let[e,r]=t;if(sK(e,new TextEncoder().encode("request_status")))return r}}(t);let e=await this.#v;if(!e)throw eM.fromCode(new tn);n=await this.createReadStateRequest(t,e)}this.log.print(`fetching "/api/v2/canister/${a}/read_state" with request:`,n);let o=this.#j();try{let{responseBodyBytes:e}=await this.#U({requestFn:()=>this.#E(""+new URL(`/api/v2/canister/${a.toString()}/read_state`,this.host),{...this.#_,...n.request,body:iZ(n.body)}),backoff:o,tries:0}),t=iH(e);return this.log.print("Read state response:",t),t}catch(t){let e;throw t instanceof eU?(t.code.requestContext={requestId:s,senderPubKey:n.body.sender_pubkey,senderSignature:n.body.sender_sig,ingressExpiry:n.body.content.ingress_expiry},e=t):e=eK.fromCode(new tu(t)),this.log.error(`Error while making read state: ${e.message}`,e),e}}parseTimeFromResponse(e){let t;if(e.certificate){let r=iH(e.certificate);if(r&&"tree"in r)t=r.tree;else throw eF.fromCode(new tf("Could not decode time from response"));let i=sX(["time"],t);if(i.status!==A.Found)throw eF.fromCode(new eH("Time was not found in the response or was not in its expected format.",i.status));if(!(i.value instanceof Uint8Array)&&!ArrayBuffer.isView(i))throw eF.fromCode(new eW("Time was not in its expected format."));let n=sM(i.value);return this.log.print("Time from response:",n),this.log.print("Time from response in milliseconds:",n.getTime()),n.getTime()}return this.log.warn("No certificate found in response"),0}async syncTime(e){this.#x=this.#x??(async()=>{await this.#q();let t=Date.now();try{e||this.log.print("Syncing time with the IC. No canisterId provided, so falling back to ryjl3-tyaaa-aaaaa-aaaba-cai");let r=e??t5.from("ryjl3-tyaaa-aaaaa-aaaba-cai"),i=aV.createSync({identity:new s4,host:this.host.toString(),fetch:this.#E,retryTimes:0,rootKey:this.rootKey??void 0,shouldSyncTime:!1}),n=(await Promise.all([,,,].fill(null).map(async()=>{let e=(await s7({canisterId:r,agent:i,paths:["time"],disableCertificateTimeVerification:!0})).get("time");if(e instanceof Date)return e.getTime()},[]))).reduce((e,t)=>"number"==typeof t&&t>e?t:e,0);n>0&&(this.#b=n-t,this.#g=!0,this.log.notify({message:`Syncing time: offset of ${this.#b}`,level:"info"}))}catch(t){let e=t instanceof eU?t:eK.fromCode(new tu(t));throw this.log.error("Caught exception while attempting to sync time",e),e}})(),await this.#x.finally(()=>{this.#x=null})}async status(){let e=this.#S?{Authorization:"Basic "+btoa(this.#S)}:{};this.log.print('fetching "/api/v2/status"');let t=this.#j(),{responseBodyBytes:r}=await this.#U({backoff:t,requestFn:()=>this.#E(""+new URL("/api/v2/status",this.host),{headers:e,...this.#_}),tries:0});return iH(r)}async fetchRootKey(){return this.#m=this.#m??(async()=>{let e=await this.status();return this.rootKey=e.root_key,this.rootKey})(),await this.#m.finally(()=>{this.#m=null})}async #D(e){await Promise.all([this.#q(),this.#F(e)])}async #q(){if(!this.rootKey)if(null===this.rootKey&&"https://icp-api.io"!==this.host.toString()&&this.#y)await this.fetchRootKey();else throw eM.fromCode(new tt(this.#y))}async #F(e){this.#w&&!this.hasSyncedTime()&&await this.syncTime(e)}invalidateIdentity(){this.#v=null}replaceIdentity(e){this.#v=Promise.resolve(e)}async fetchSubnetKeys(e){let t=t5.from(e);await this.#D(t);let r=(await s7({canisterId:t,paths:["subnet"],agent:this})).get("subnet");if(r&&"object"==typeof r&&"nodeKeys"in r)return this.#O.set(t.toText(),r),r}_transform(e){let t=Promise.resolve(e);if(e.endpoint===B.Call)for(let e of this.#k)t=t.then(t=>e(t).then(e=>e||t));else for(let e of this.#C)t=t.then(t=>e(t).then(e=>e||t));return t}getTimeDiffMsecs(){return this.#b}hasSyncedTime(){return this.#g}}function aK(e,t){return iz.fromDeltaInMilliseconds(6e4*e,t)}function az(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function aG(e,t){return null!==e&&"object"==typeof e&&az(e,t)}function aY(e){var t;return aG(e,"body")&&aG(e.body,"content")&&e.body.content.request_type===k.ReadState&&aG(e.body.content,"ingress_expiry")&&"object"==typeof e.body.content.ingress_expiry&&null!==e.body.content.ingress_expiry&&az(t=e.body.content.ingress_expiry,"toHash")&&"function"==typeof t.toHash}async function aZ(e,t,r,i={}){let n,s,a,o=[eB("request_status"),r];if(i.preSignReadStateRequest?(s=await aH({paths:[o],agent:e,pollingOptions:i}),n=await e.readState(t,{paths:[o]},void 0,s)):n=await e.readState(t,{paths:[o]}),null==e.rootKey)throw eM.fromCode(new tt);let c=await sz.create({certificate:n.certificate,rootKey:e.rootKey,canisterId:t,blsVerify:i.blsVerify,agent:e}),l=sY(c.lookup_path([...o,eB("status")]));switch(a=void 0===l?q.Unknown:new TextDecoder().decode(l)){case q.Replied:return{reply:sY(c.lookup_path([...o,"reply"])),certificate:c};case q.Received:case q.Unknown:case q.Processing:{var d;let n,o,c,l=i.strategy??function(...e){return async(t,r,i)=>{for(let n of e)await n(t,r,i)}}((d=(n=!0,async()=>!!n&&(n=!1,!0)),async(e,t,r)=>{if(await d(e,t,r))return new Promise(e=>setTimeout(e,1e3))}),(o=1e3,()=>new Promise(e=>setTimeout(()=>{o*=1.2,e()},o))),(c=Date.now()+3e5,async(e,t,r)=>{if(Date.now()>c)throw eF.fromCode(new e3(`Request timed out after ${3e5} msec`,t,r))}));return await l(t,r,a),aZ(e,t,r,{...i,strategy:l,request:s})}case q.Rejected:{let e=new Uint8Array(sY(c.lookup_path([...o,"reject_code"])))[0],t=new TextDecoder().decode(sY(c.lookup_path([...o,"reject_message"]))),i=sY(c.lookup_path([...o,"error_code"])),n=i?new TextDecoder().decode(i):void 0;throw eL.fromCode(new e4(r,e,t,n))}case q.Done:throw eK.fromCode(new te(r))}throw tw}async function aH(e){let{paths:t,agent:r,pollingOptions:i}=e;if(i.request&&aY(i.request))return i.request;let n=await r.createReadStateRequest?.({paths:t},void 0);if(!aY(n))throw eV.fromCode(new tb(n));return n}let aW=Symbol.for("ic-agent-metadata");class aX{static agentOf(e){return e[aW].config.agent}static interfaceOf(e){return e[aW].service}static canisterIdOf(e){return t5.from(e[aW].config.canisterId)}static createActorClass(e,t){let r=e({IDL:iu});return class extends aX{constructor(e){if(!e.canisterId)throw eV.fromCode(new ty(e.canisterId));const i="string"==typeof e.canisterId?t5.fromText(e.canisterId):e.canisterId;for(const[n,s]of(super({config:{...aQ,...e,canisterId:i},service:r}),r._fields))t?.httpDetails&&s.annotations.push(a0),t?.certificate&&s.annotations.push(a1),this[n]=function(e,t,r,i){let n;n=r.annotations.includes("query")||r.annotations.includes("composite_query")?async(i,...n)=>{let s=(i={...i,...e[aW].config.queryTransform?.(t,n,{...e[aW].config,...i})}).agent||e[aW].config.agent||new aV,a=t5.from(i.canisterId||e[aW].config.canisterId),o=iu.encode(r.argTypes,n),c=await s.query(a,{methodName:t,arg:o,effectiveCanisterId:i.effectiveCanisterId}),l={...c.httpDetails,requestDetails:c.requestDetails};switch(c.status){case S.Rejected:{let e=new e7(c.requestId,c.reject_code,c.reject_message,c.error_code,c.signatures);throw e.callContext={canisterId:a,methodName:t,httpDetails:l},eL.fromCode(e)}case S.Replied:return r.annotations.includes(a0)?{httpDetails:l,result:aJ(r.retTypes,c.reply.arg)}:aJ(r.retTypes,c.reply.arg)}}:async(n,...s)=>{var a,o;let c,l,d=(n={...n,...e[aW].config.callTransform?.(t,s,{...e[aW].config,...n})}).agent||e[aW].config.agent||aV.createSync(),{canisterId:u,effectiveCanisterId:f,pollingOptions:h}={...aQ,...e[aW].config,...n},p=t5.from(u),m=void 0!==f?t5.from(f):p,y=iu.encode(r.argTypes,s),{requestId:b,response:g,requestDetails:x}=await d.call(p,{methodName:t,arg:y,effectiveCanisterId:m,nonce:n.nonce});if(null!=(a=g.body)&&"certificate"in a){if(null==d.rootKey)throw eM.fromCode(new tt);let e=g.body.certificate;l=await sz.create({certificate:e,rootKey:d.rootKey,canisterId:m,blsVerify:i,agent:d});let r=[eB("request_status"),b];switch(new TextDecoder().decode(sY(l.lookup_path([...r,"status"])))){case"replied":c=sY(l.lookup_path([...r,"reply"]));break;case"rejected":{let e=new Uint8Array(sY(l.lookup_path([...r,"reject_code"])))[0],i=new TextDecoder().decode(sY(l.lookup_path([...r,"reject_message"]))),n=sY(l.lookup_path([...r,"error_code"])),s=new e4(b,e,i,n?new TextDecoder().decode(n):void 0);throw s.callContext={canisterId:p,methodName:t,httpDetails:g},eL.fromCode(s)}}}else if(null!=(o=g.body)&&"reject_code"in o){let{reject_code:e,reject_message:r,error_code:i}=g.body,n=new e9(b,e,r,i);throw n.callContext={canisterId:p,methodName:t,httpDetails:g},eL.fromCode(n)}if(202===g.status){let e={...h,blsVerify:i},t=await aZ(d,m,b,e);l=t.certificate,c=t.reply}let w=r.annotations.includes(a0),v=r.annotations.includes(a1),E={...g,requestDetails:x};if(void 0!==c)return w&&v?{httpDetails:E,certificate:l,result:aJ(r.retTypes,c)}:v?{certificate:l,result:aJ(r.retTypes,c)}:w?{httpDetails:E,result:aJ(r.retTypes,c)}:aJ(r.retTypes,c);{let e=new tu(`Call was returned undefined. We cannot determine if the call was successful or not. Return types: [${r.retTypes.map(e=>e.display()).join(",")}].`);throw e.callContext={canisterId:p,methodName:t,httpDetails:E},eK.fromCode(e)}};let s=(...e)=>n({},...e);return s.withOptions=e=>(...t)=>n(e,...t),s}(this,n,s,e.blsVerify)}}}static createActor(e,t){if(!t.canisterId)throw eV.fromCode(new ty(t.canisterId));return new(this.createActorClass(e))(t)}static createActorWithHttpDetails(e,t){return new(this.createActorClass(e,{httpDetails:!0}))(t)}static createActorWithExtendedDetails(e,t,r={httpDetails:!0,certificate:!0}){return new(this.createActorClass(e,r))(t)}constructor(e){this[aW]=Object.freeze(e)}}function aJ(e,t){let r=iu.decode(e,t);switch(r.length){case 0:return;case 1:return r[0];default:return r}}let aQ={pollingOptions:{preSignReadStateRequest:!1}},a0="http-details",a1="certificate";class a2{#r;get rawKey(){return this.#r.rawKey}get derKey(){return this.#r.derKey}toDer(){return this.#r.toDer()}getPublicKey(){return this.#r}getPrincipal(){if(!this.#r.rawKey)throw Error("Cannot get principal from a public key without a raw key.");return t5.fromUint8Array(new Uint8Array(this.#r.rawKey))}transformRequest(){return Promise.reject("Not implemented. You are attempting to use a partial identity to sign calls, but this identity only has access to the public key.To sign calls, use a DelegationIdentity instead.")}constructor(e){this.#r=e}}function a6(e){return e instanceof Uint8Array?eT(e):eT(new Uint8Array(e))}function a5(e){if("string"!=typeof e||e.length<64)throw Error("Invalid public key.");return eN(e)}class a3{constructor(e,t,r){this.pubkey=e,this.expiration=t,this.targets=r}toCborValue(){return{pubkey:this.pubkey,expiration:this.expiration,...this.targets&&{targets:this.targets}}}toJSON(){return{expiration:this.expiration.toString(16),pubkey:a6(this.pubkey),...this.targets&&{targets:this.targets.map(e=>e.toHex())}}}}async function a8(e,t,r,i){let n=new a3(t.toDer(),BigInt(+r)*BigInt(1e6),i),s=new Uint8Array([...s3,...new Uint8Array(s2({...n}))]);return{delegation:n,signature:await e.sign(s)}}class a4{static async create(e,t,r=new Date(Date.now()+9e5),i={}){let n=await a8(e,t,r,i.targets);return new a4([...i.previous?.delegations||[],n],i.previous?.publicKey||e.getPublicKey().toDer())}static fromJSON(e){let{publicKey:t,delegations:r}="string"==typeof e?JSON.parse(e):e;if(!Array.isArray(r))throw Error("Invalid delegations.");return new this(r.map(e=>{let{delegation:t,signature:r}=e,{pubkey:i,expiration:n,targets:s}=t;if(void 0!==s&&!Array.isArray(s))throw Error("Invalid targets.");return{delegation:new a3(a5(i),BigInt("0x"+n),s&&s.map(e=>{if("string"!=typeof e)throw Error("Invalid target.");return t5.fromHex(e)})),signature:a5(r)}}),a5(t))}static fromDelegations(e,t){return new this(e,t)}constructor(e,t){this.delegations=e,this.publicKey=t}toJSON(){return{delegations:this.delegations.map(e=>{let{delegation:t,signature:r}=e,{targets:i}=t;return{delegation:{expiration:t.expiration.toString(16),pubkey:a6(t.pubkey),...i&&{targets:i.map(e=>e.toHex())}},signature:a6(r)}}),publicKey:a6(this.publicKey)}}}class a7 extends s8{static fromDelegation(e,t){return new this(e,t)}constructor(e,t){super(),this._inner=e,this._delegation=t}getDelegation(){return this._delegation}getPublicKey(){return{derKey:this._delegation.publicKey,toDer:()=>this._delegation.publicKey}}sign(e){return this._inner.sign(e)}async transformRequest(e){let{body:t,...r}=e,i=await s2(t);return{...r,body:{content:t,sender_sig:await this.sign(new Uint8Array([...s6,...new Uint8Array(i)])),sender_delegation:this._delegation.delegations,sender_pubkey:this._delegation.publicKey}}}}class a9 extends a2{#L;get delegation(){return this.#L}constructor(e,t){super(e),this.#L=t}static fromDelegation(e,t){return new a9(e,t)}}function oe(e,t){for(let{delegation:t}of e.delegations)if(+new Date(Number(t.expiration/BigInt(1e6)))<=+Date.now())return!1;let r=[],i=t?.scope;for(let t of(i&&(Array.isArray(i)?r.push(...i.map(e=>"string"==typeof e?t5.fromText(e):e)):r.push("string"==typeof i?t5.fromText(i):i)),r)){let r=t.toText();for(let{delegation:t}of e.delegations){if(void 0===t.targets)continue;let e=!0;for(let i of t.targets)if(i.toText()===r){e=!1;break}if(e)return!1}}return!0}function ot(e){return null!==e&&"object"==typeof e}class or{static from(e){if("string"==typeof e){let t=eN(e);return this.fromRaw(t)}if(ot(e)){if(ot(e)&&Object.hasOwnProperty.call(e,"__derEncodedPublicKey__"))return this.fromDer(e);if(ArrayBuffer.isView(e))return this.fromRaw(t4(e.buffer));if(e instanceof ArrayBuffer)return this.fromRaw(t4(e));else if("rawKey"in e&&e.rawKey instanceof Uint8Array)return this.fromRaw(e.rawKey);else if("derKey"in e)return this.fromDer(e.derKey);else if("toDer"in e)return this.fromDer(e.toDer())}throw Error("Cannot construct Ed25519PublicKey from the provided key.")}static fromRaw(e){return new or(e)}static fromDer(e){return new or(this.derDecode(e))}static{this.RAW_KEY_LENGTH=32}static derEncode(e){let t=aP(e,aU);return t.__derEncodedPublicKey__=void 0,t}static derDecode(e){let t=aq(e,aU);if(t.length!==this.RAW_KEY_LENGTH)throw Error("An Ed25519 public key must be exactly 32bytes long");return t}#n;get rawKey(){return this.#n}#s;get derKey(){return this.#s}constructor(e){if(e.byteLength!==or.RAW_KEY_LENGTH)throw Error("An Ed25519 public key must be exactly 32bytes long");this.#n=e,this.#s=or.derEncode(e)}toDer(){return this.derKey}toRaw(){return this.rawKey}}class oi extends s8{static generate(e){if(e&&32!==e.length)throw Error("Ed25519 Seed needs to be 32 bytes long.");e||(e=ax.utils.randomPrivateKey()),0===t7(e,new Uint8Array(Array(32).fill(0)))&&console.warn("Seed is all zeros. This is not a secure seed. Please provide a seed with sufficient entropy if this is a production environment.");let t=new Uint8Array(32);for(let r=0;r<32;r++)t[r]=e[r];let r=ax.getPublicKey(t);return oi.fromKeyPair(r,t)}static fromParsedJson(e){let[t,r]=e;return new oi(or.fromDer(eN(t)),eN(r))}static fromJSON(e){let t=JSON.parse(e);if(Array.isArray(t))if("string"==typeof t[0]&&"string"==typeof t[1])return this.fromParsedJson([t[0],t[1]]);else throw Error("Deserialization error: JSON must have at least 2 items.");throw Error(`Deserialization error: Invalid JSON type for string: ${JSON.stringify(e)}`)}static fromKeyPair(e,t){return new oi(or.fromRaw(e),t)}static fromSecretKey(e){let t=ax.getPublicKey(e);return oi.fromKeyPair(t,e)}#$;#M;constructor(e,t){super(),this.#$=or.from(e),this.#M=t}toJSON(){return[eT(this.#$.toDer()),eT(this.#M)]}getKeyPair(){return{secretKey:this.#M,publicKey:this.#$}}getPublicKey(){return this.#$}async sign(e){let t=ax.sign(e,this.#M.slice(0,32));return Object.defineProperty(t,"__signature__",{enumerable:!1,value:void 0}),t}static verify(e,t,r){let[i,n,s]=[e,t,r].map(e=>("string"==typeof e&&(e=eN(e)),t4(e)));return ax.verify(i,n,s)}}class on extends Error{constructor(e){super(e),this.message=e,Object.setPrototypeOf(this,on.prototype)}}function os(t){if(e.g.crypto&&e.g.crypto.subtle)return e.g.crypto.subtle;if(t)return t;if("u">typeof crypto&&crypto.subtle)return crypto.subtle;throw new on("Global crypto was not available and none was provided. Please inlcude a SubtleCrypto implementation. See https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto")}class oa extends s8{static async generate(e){let{extractable:t=!1,keyUsages:r=["sign","verify"],subtleCrypto:i}=e??{},n=os(i),s=await n.generateKey({name:"ECDSA",namedCurve:"P-256"},t,r),a=t4(await n.exportKey("spki",s.publicKey));return Object.assign(a,{__derEncodedPublicKey__:void 0}),new this(s,a,n)}static async fromKeyPair(e,t){let r=os(t),i=t4(await r.exportKey("spki",e.publicKey));return Object.assign(i,{__derEncodedPublicKey__:void 0}),new oa(e,i,r)}constructor(e,t,r){super(),this._keyPair=e,this._derKey=t,this._subtleCrypto=r}getKeyPair(){return this._keyPair}getPublicKey(){let e=this._derKey,t=Object.create(this._keyPair.publicKey);return t.toDer=function(){return e},t}async sign(e){let t=t4(await this._subtleCrypto.sign({name:"ECDSA",hash:{name:"SHA-256"}},this._keyPair.privateKey,e));return Object.assign(t,{__signature__:void 0}),t}}let oo=["mousedown","mousemove","keydown","touchstart","wheel"];class oc{callbacks=[];idleTimeout=6e5;timeoutID=void 0;static create(e={}){return new this(e)}constructor(e={}){const{onIdle:t,idleTimeout:r=6e5}=e||{};this.callbacks=t?[t]:[],this.idleTimeout=r;const i=this._resetTimer.bind(this);window.addEventListener("load",i,!0),oo.forEach(function(e){document.addEventListener(e,i,!0)});const n=(e,t)=>{let r;return(...i)=>{let n=this;clearTimeout(r),r=window.setTimeout(function(){r=void 0,e.apply(n,i)},t)}};if(e?.captureScroll){const t=n(i,e?.scrollDebounce??100);window.addEventListener("scroll",t,!0)}i()}registerCallback(e){this.callbacks.push(e)}exit(){clearTimeout(this.timeoutID),window.removeEventListener("load",this._resetTimer,!0);let e=this._resetTimer.bind(this);oo.forEach(function(t){document.removeEventListener(t,e,!0)}),this.callbacks.forEach(e=>e())}_resetTimer(){let e=this.exit.bind(this);window.clearTimeout(this.timeoutID),this.timeoutID=window.setTimeout(e,this.idleTimeout)}}let ol=new WeakMap,od=new WeakMap,ou=new WeakMap,of=new WeakMap,oh=new WeakMap,op={get(e,t,r){if(e instanceof IDBTransaction){if("done"===t)return od.get(e);if("objectStoreNames"===t)return e.objectStoreNames||ou.get(e);if("store"===t)return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return om(e[t])},set:(e,t,r)=>(e[t]=r,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function om(e){if(e instanceof IDBRequest){let t;return(t=new Promise((t,r)=>{let i=()=>{e.removeEventListener("success",n),e.removeEventListener("error",s)},n=()=>{t(om(e.result)),i()},s=()=>{r(e.error),i()};e.addEventListener("success",n),e.addEventListener("error",s)})).then(t=>{t instanceof IDBCursor&&ol.set(t,e)}).catch(()=>{}),oh.set(t,e),t}if(of.has(e))return of.get(e);let i=function(e){if("function"==typeof e)return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(r||(r=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(oy(this),t),om(ol.get(this))}:function(...t){return om(e.apply(oy(this),t))}:function(t,...r){let i=e.call(oy(this),t,...r);return ou.set(i,t.sort?t.sort():[t]),om(i)};return e instanceof IDBTransaction&&function(e){if(od.has(e))return;let t=new Promise((t,r)=>{let i=()=>{e.removeEventListener("complete",n),e.removeEventListener("error",s),e.removeEventListener("abort",s)},n=()=>{t(),i()},s=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",n),e.addEventListener("error",s),e.addEventListener("abort",s)});od.set(e,t)}(e),(t||(t=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(t=>e instanceof t)?new Proxy(e,op):e}(e);return i!==e&&(of.set(e,i),oh.set(i,e)),i}let oy=e=>oh.get(e),ob=["get","getKey","getAll","getAllKeys","count"],og=["put","add","delete","clear"],ox=new Map;function ow(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&"string"==typeof t))return;if(ox.get(t))return ox.get(t);let r=t.replace(/FromIndex$/,""),i=t!==r,n=og.includes(r);if(!(r in(i?IDBIndex:IDBObjectStore).prototype)||!(n||ob.includes(r)))return;let s=async function(e,...t){let s=this.transaction(e,n?"readwrite":"readonly"),a=s.store;return i&&(a=a.index(t.shift())),(await Promise.all([a[r](...t),n&&s.done]))[0]};return ox.set(t,s),s}op={...d=op,get:(e,t,r)=>ow(e,t)||d.get(e,t,r),has:(e,t)=>!!ow(e,t)||d.has(e,t)};let ov="auth-client-db",oE="ic-keyval",o_=async(e=ov,t=oE,r)=>(ok&&localStorage?.getItem(oB)&&(localStorage.removeItem(oB),localStorage.removeItem(oN)),await function(e,t,{blocked:r,upgrade:i,blocking:n,terminated:s}={}){let a=indexedDB.open(e,t),o=om(a);return i&&a.addEventListener("upgradeneeded",e=>{i(om(a.result),e.oldVersion,e.newVersion,om(a.transaction),e)}),r&&a.addEventListener("blocked",e=>r(e.oldVersion,e.newVersion,e)),o.then(e=>{s&&e.addEventListener("close",()=>s()),n&&e.addEventListener("versionchange",e=>n(e.oldVersion,e.newVersion,e))}).catch(()=>{}),o}(e,r,{upgrade:e=>{e.objectStoreNames.contains(t)&&e.clear(t),e.createObjectStore(t)}}));async function oI(e,t,r){return await e.get(t,r)}async function oS(e,t,r,i){return await e.put(t,i,r)}async function oT(e,t,r){return await e.delete(t,r)}class oj{_db;_storeName;static async create(e){let{dbName:t=ov,storeName:r=oE,version:i=oC}=e??{};return new oj(await o_(t,r,i),r)}constructor(e,t){this._db=e,this._storeName=t}async set(e,t){return await oS(this._db,this._storeName,e,t)}async get(e){return await oI(this._db,this._storeName,e)??null}async remove(e){return await oT(this._db,this._storeName,e)}}let oN="identity",oB="delegation",oC=1,ok="u">typeof window;class oO{prefix;_localStorage;constructor(e="ic-",t){this.prefix=e,this._localStorage=t}get(e){return Promise.resolve(this._getLocalStorage().getItem(this.prefix+e))}set(e,t){return this._getLocalStorage().setItem(this.prefix+e,t),Promise.resolve()}remove(e){return this._getLocalStorage().removeItem(this.prefix+e),Promise.resolve()}_getLocalStorage(){if(this._localStorage)return this._localStorage;let t="u"<typeof window?e.g.localStorage:window.localStorage;if(!t)throw Error("Could not find local storage.");return t}}class oA{#V;constructor(e){this.#V=e??{}}initializedDb;get _db(){return new Promise((e,t)=>{this.initializedDb?e(this.initializedDb):oj.create(this.#V).then(t=>{this.initializedDb=t,e(t)}).catch(t)})}async get(e){let t=await this._db;return await t.get(e)}async set(e,t){let r=await this._db;await r.set(e,t)}async remove(e){let t=await this._db;await t.remove(e)}}let oR=BigInt(1e9),oD=BigInt(3600),oU=BigInt(8)*(oR*oD),oP="ECDSA",oq="Ed25519";class oF{_identity;_key;_chain;_storage;idleManager;_createOptions;_idpWindow;_eventHandler;static async create(e={}){let t,r=e.storage??new oA,i=e.keyType??oP,n=null;if(e.identity)n=e.identity;else{let e=await r.get(oN);if(!e&&ok)try{let t=new oO,n=await t.get(oB),s=await t.get(oN);n&&s&&i===oP&&(console.log("Discovered an identity stored in localstorage. Migrating to IndexedDB"),await r.set(oB,n),await r.set(oN,s),e=n,await t.remove(oB),await t.remove(oN))}catch(e){console.error("error while attempting to recover localstorage: "+e)}if(e)try{"object"==typeof e?n=i===oq&&"string"==typeof e?oi.fromJSON(e):await oa.fromKeyPair(e):"string"==typeof e&&(n=oi.fromJSON(e))}catch{}}let s=new s4,a=null;if(n)try{let t=await r.get(oB);if("object"==typeof t&&null!==t)throw Error("Delegation chain is incorrectly stored. A delegation chain should be stored as a string.");e.identity?s=e.identity:t&&(a=a4.fromJSON(t),oe(a)?s="toDer"in n?a9.fromDelegation(n,a):a7.fromDelegation(n,a):(await oL(r),n=null))}catch(e){console.error(e),await oL(r),n=null}return e.idleOptions?.disableIdle?t=void 0:(a||e.identity)&&(t=oc.create(e.idleOptions)),n||(i===oq?(n=oi.generate(),await r.set(oN,JSON.stringify(n.toJSON()))):(e.storage&&i===oP&&console.warn(`You are using a custom storage provider that may not support CryptoKey storage. If you are using a custom storage provider that does not support CryptoKey storage, you should use '${oq}' as the key type, as it can serialize to a string`),n=await oa.generate(),await r.set(oN,n.getKeyPair()))),new this(s,n,a,r,t,e)}constructor(e,t,r,i,n,s,a,o){this._identity=e,this._key=t,this._chain=r,this._storage=i,this.idleManager=n,this._createOptions=s,this._idpWindow=a,this._eventHandler=o,this._registerDefaultIdleCallback()}_registerDefaultIdleCallback(){let e=this._createOptions?.idleOptions;e?.onIdle||e?.disableDefaultIdleCallback||this.idleManager?.registerCallback(()=>{this.logout(),location.reload()})}async _handleSuccess(e,t){let r=e.delegations.map(e=>({delegation:new a3(e.delegation.pubkey,e.delegation.expiration,e.delegation.targets),signature:e.signature})),i=a4.fromDelegations(r,e.userPublicKey),n=this._key;if(!n)return;this._chain=i,"toDer"in n?this._identity=a9.fromDelegation(n,this._chain):this._identity=a7.fromDelegation(n,this._chain),this._idpWindow?.close();let s=this._createOptions?.idleOptions;this.idleManager||s?.disableIdle||(this.idleManager=oc.create(s),this._registerDefaultIdleCallback()),this._removeEventListener(),delete this._idpWindow,this._chain&&await this._storage.set(oB,JSON.stringify(this._chain.toJSON())),t?.(e)}getIdentity(){return this._identity}async isAuthenticated(){return!this.getIdentity().getPrincipal().isAnonymous()&&null!==this._chain&&oe(this._chain)}async login(e){let t=function(e,t){if(!e&&!t)return;let r=e?.customValues||t?.customValues?{...e?.customValues,...t?.customValues}:void 0;return{...e,...t,customValues:r}}(this._createOptions?.loginOptions,e),r=t?.maxTimeToLive??oU,i=new URL(t?.identityProvider?.toString()||"https://identity.internetcomputer.org");i.hash="#authorize",this._idpWindow?.close(),this._removeEventListener(),this._eventHandler=this._getEventHandler(i,{maxTimeToLive:r,...t}),window.addEventListener("message",this._eventHandler),this._idpWindow=window.open(i.toString(),"idpWindow",t?.windowOpenerFeatures)??void 0;let n=()=>{this._idpWindow&&(this._idpWindow.closed?this._handleFailure("UserInterrupt",t?.onError):setTimeout(n,500))};n()}_getEventHandler(e,t){return async r=>{if(r.origin!==e.origin)return;let i=r.data;switch(i.kind){case"authorize-ready":{let r={kind:"authorize-client",sessionPublicKey:new Uint8Array(this._key?.getPublicKey().toDer()),maxTimeToLive:t?.maxTimeToLive,allowPinAuthentication:t?.allowPinAuthentication,derivationOrigin:t?.derivationOrigin?.toString(),...t?.customValues};this._idpWindow?.postMessage(r,e.origin);break}case"authorize-client-success":try{await this._handleSuccess(i,t?.onSuccess)}catch(e){this._handleFailure(e.message,t?.onError)}break;case"authorize-client-failure":this._handleFailure(i.text,t?.onError)}}}_handleFailure(e,t){this._idpWindow?.close(),t?.(e),this._removeEventListener(),delete this._idpWindow}_removeEventListener(){this._eventHandler&&window.removeEventListener("message",this._eventHandler),this._eventHandler=void 0}async logout(e={}){if(await oL(this._storage),this._identity=new s4,this._chain=null,e.returnTo)try{window.history.pushState({},"",e.returnTo)}catch{window.location.href=e.returnTo}}}async function oL(e){await e.remove(oN),await e.remove(oB),await e.remove("iv")}function o$(e){return"localhost"===e||"127.0.0.1"===e}let oM=({IDL:e})=>{let t=e.Record({anchor_number:e.Nat64,email:e.Text,principal:e.Text,first_login_at_ns:e.Nat64,last_login_at_ns:e.Nat64,login_count:e.Nat64}),r=e.Record({existed_before:e.Bool,record:t}),i=e.Variant({Ok:r,Err:e.Text});return e.Service({check_and_save_identity:e.Func([e.Nat64,e.Text],[i],[])})};async function oV(e){let t=ey.default.env.NEXT_PUBLIC_IC_HOST?ey.default.env.NEXT_PUBLIC_IC_HOST:o$(window.location.hostname)?"http://127.0.0.1:4943":"https://icp-api.io",r=new aV({host:t,identity:e});return(t.startsWith("http://127.0.0.1")||t.startsWith("http://localhost")||t.includes(".localhost"))&&await r.fetchRootKey(),aX.createActor(oM,{agent:r,canisterId:ey.default.env.NEXT_PUBLIC_MY_MOTOKO_PROJECT_BACKEND_CANISTER_ID??ey.default.env.NEXT_PUBLIC_CANISTER_ID_MY_MOTOKO_PROJECT_BACKEND??"uxrrr-q7777-77774-qaaaq-cai"})}async function oK(){let e=await oF.create();await e.isAuthenticated()||await new Promise((t,r)=>{e.login({identityProvider:ey.default.env.NEXT_PUBLIC_INTERNET_IDENTITY_URL?ey.default.env.NEXT_PUBLIC_INTERNET_IDENTITY_URL:o$(window.location.hostname)?"http://rdmx6-jaaaa-aaaaa-aaadq-cai.localhost:4943/#authorize":"https://identity.ic0.app/#authorize",maxTimeToLive:BigInt(6048e11),onSuccess:t,onError:()=>r(Error("Internet Identity login failed."))})});let t=e.getIdentity(),r=t.getPrincipal().toText(),i=await oV(t);return{principal:r,checkAndSaveIdentity:async(e,t)=>{let r=await i.check_and_save_identity(e,t);if("Err"in r)throw Error(r.Err);return r.Ok}}}let oz=[{icon:ef,title:"Tuamail",description:"100% on-chain. Have the rights over your email with full encryption and ownership.",link:"/tuamail",requiresInternetIdentity:!0},{icon:eh,title:"Tuamsdia",description:"100% on-chain. Decide what you want to post and have full control over your content.",link:"#"},{icon:ep,title:"Analytics",description:"Unlock insights from your data to make informed decisions and optimize performance.",link:"#"}];function oG(){let e=(0,L.useRef)(null),t=(0,eu.useRouter)(),[r,i]=(0,L.useState)(null);(0,L.useEffect)(()=>{let t=new IntersectionObserver(e=>{for(let t of e)t.isIntersecting&&t.target.classList.add("animate-visible")},{threshold:.1}),r=e.current?.querySelectorAll("[data-animate]");return r?.forEach(e=>t.observe(e)),()=>t.disconnect()},[]);let n=async e=>{if(!e.requiresInternetIdentity||"#"===e.link)return void window.alert("This service is coming soon.");i(e.title);try{let r=await oK(),i=window.localStorage.getItem("tuamail_email")??"",n=function(){let e=window.prompt("Enter your Internet Identity anchor number:");if(!e)throw Error("Action cancelled.");let t=e.trim();if(!/^\d+$/.test(t))throw Error("Internet Identity anchor number must contain only digits.");return BigInt(t)}(),s=function(e){let t=window.prompt("Enter your email address:",e);if(!t)throw Error("Action cancelled.");let r=t.trim().toLowerCase();if(!r.includes("@"))throw Error("Please provide a valid email address.");return r}(i),a=await r.checkAndSaveIdentity(n,s);window.localStorage.setItem("tuamail_email",s),window.localStorage.setItem("tuamail_login_context",JSON.stringify({anchorNumber:n.toString(),email:s,principal:r.principal,existedBefore:a.existed_before,loginCount:a.record.login_count.toString(),firstLoginAtNs:a.record.first_login_at_ns.toString(),lastLoginAtNs:a.record.last_login_at_ns.toString()})),t.push(e.link)}catch(t){let e=t instanceof Error?t.message:"Unable to complete Internet Identity login.";"Action cancelled."!==e&&window.alert(e)}finally{i(null)}};return(0,F.jsx)("section",{ref:e,id:"services",className:"py-24",children:(0,F.jsxs)("div",{className:"max-w-7xl mx-auto px-6 lg:px-8",children:[(0,F.jsxs)("div",{className:"text-center mb-16",children:[(0,F.jsx)("div",{"data-animate":!0,className:"opacity-0 animate-on-scroll inline-block px-5 py-2 bg-card border border-border rounded-full text-xs font-medium uppercase tracking-widest text-muted-foreground mb-6",children:"What We Do"}),(0,F.jsxs)("h2",{"data-animate":!0,className:"opacity-0 animate-on-scroll font-serif text-4xl md:text-5xl lg:text-6xl font-light text-foreground",children:["Services built for",(0,F.jsx)("br",{}),(0,F.jsx)("span",{className:"font-semibold",children:"benefits of Users"})]})]}),(0,F.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:oz.map((e,t)=>(0,F.jsxs)("div",{"data-animate":!0,className:"opacity-0 animate-on-scroll group bg-card p-8 md:p-10 rounded-2xl border border-border transition-all duration-400 cursor-pointer hover:-translate-y-2 hover:shadow-xl hover:border-accent",style:{animationDelay:`${.15*t}s`},children:[(0,F.jsx)("div",{className:"w-16 h-16 rounded-2xl flex items-center justify-center mb-6 transition-all duration-500 group-hover:rotate-6 group-hover:scale-110",style:{background:"linear-gradient(135deg, hsl(var(--accent)) 0%, #ee5a6f 100%)"},children:(0,F.jsx)(e.icon,{className:"w-7 h-7 text-accent-foreground"})}),(0,F.jsx)("h3",{className:"font-serif text-2xl font-semibold text-foreground mb-3",children:e.title}),(0,F.jsx)("p",{className:"text-muted-foreground leading-relaxed mb-6",children:e.description}),(0,F.jsxs)("button",{type:"button",onClick:()=>void n(e),disabled:r===e.title,className:"inline-flex items-center gap-2 text-accent font-medium text-sm transition-all duration-300 hover:gap-3",children:[r===e.title?"Connecting...":"Try it",(0,F.jsx)(em,{className:"w-4 h-4"})]})]},e.title))})]})})}let oY=[{title:"Drone Book",description:"A book that teaches users how to build drones in the fastest fashion.",tags:["Author","Arduino","Python","C++"],gradient:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",large:!0},{title:"AI-Powered SAT Platform",description:"An AI-powered platform that helps students prepare for the SAT exam with personalized learning paths.",tags:["Python","HTML","TS","Java"],gradient:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)",large:!1},{title:"Water Complaint System",description:"A system for reporting and tracking water-related complaints in apartments.",tags:["HTML","CSS","Java","Motoko"],gradient:"linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)",large:!1}];function oZ(){let e=(0,L.useRef)(null);return(0,L.useEffect)(()=>{let t=new IntersectionObserver(e=>{for(let t of e)t.isIntersecting&&t.target.classList.add("animate-visible")},{threshold:.1}),r=e.current?.querySelectorAll("[data-animate]");return r?.forEach(e=>t.observe(e)),()=>t.disconnect()},[]),(0,F.jsx)("section",{ref:e,id:"work",className:"py-24 bg-card",children:(0,F.jsxs)("div",{className:"max-w-7xl mx-auto px-6 lg:px-8",children:[(0,F.jsxs)("div",{className:"text-center mb-16",children:[(0,F.jsx)("div",{"data-animate":!0,className:"opacity-0 animate-on-scroll inline-block px-5 py-2 bg-background border border-border rounded-full text-xs font-medium uppercase tracking-widest text-muted-foreground mb-6",children:"Case Studies"}),(0,F.jsxs)("h2",{"data-animate":!0,className:"opacity-0 animate-on-scroll font-serif text-4xl md:text-5xl lg:text-6xl font-light text-foreground",children:["Featured ",(0,F.jsx)("span",{className:"font-semibold",children:"Work"})]})]}),(0,F.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:oY.map((e,t)=>(0,F.jsxs)("div",{"data-animate":!0,className:`opacity-0 animate-on-scroll group relative rounded-2xl overflow-hidden cursor-pointer transition-all duration-400 hover:shadow-2xl ${e.large?"md:row-span-2":""}`,style:{animationDelay:`${.15*t}s`},children:[(0,F.jsx)("div",{className:"w-full transition-transform duration-500 group-hover:scale-105",style:{background:e.gradient,minHeight:e.large?"100%":"320px",height:e.large?"100%":"320px"}}),(0,F.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 p-6 md:p-8 text-card transition-transform duration-400 translate-y-8 group-hover:translate-y-0",style:{background:"linear-gradient(to top, rgba(0, 0, 0, 0.85), transparent)",color:"white"},children:[(0,F.jsx)("h3",{className:"font-serif text-2xl md:text-3xl font-semibold mb-2",children:e.title}),(0,F.jsx)("p",{className:"text-sm opacity-80 mb-4 max-w-md leading-relaxed",children:e.description}),(0,F.jsx)("div",{className:"flex flex-wrap gap-2",children:e.tags.map(e=>(0,F.jsx)("span",{className:"px-3 py-1 rounded-full text-xs backdrop-blur-sm",style:{background:"rgba(255,255,255,0.2)"},children:e},e))})]})]},e.title))})]})})}let oH=Y("quote",[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]]);function oW(){let e=(0,L.useRef)(null);return(0,L.useEffect)(()=>{let t=new IntersectionObserver(e=>{for(let t of e)t.isIntersecting&&t.target.classList.add("animate-visible")},{threshold:.2}),r=e.current?.querySelectorAll("[data-animate]");return r?.forEach(e=>t.observe(e)),()=>t.disconnect()},[]),(0,F.jsx)("section",{ref:e,id:"testimonials",className:"py-24 md:py-32 bg-foreground",children:(0,F.jsxs)("div",{className:"max-w-4xl mx-auto px-6 lg:px-8 text-center",children:[(0,F.jsx)(oH,{"data-animate":!0,className:"opacity-0 animate-on-scroll w-12 h-12 mx-auto mb-8",style:{color:"hsl(var(--accent))"}}),(0,F.jsx)("blockquote",{"data-animate":!0,className:"opacity-0 animate-on-scroll font-serif text-2xl md:text-3xl lg:text-4xl font-light leading-relaxed mb-10",style:{color:"hsl(var(--background))",fontStyle:"italic"},children:"âTuams transformed our digital presence completely. Their attention to detail and creative approach exceeded all expectations.â"}),(0,F.jsxs)("div",{"data-animate":!0,className:"opacity-0 animate-on-scroll",children:[(0,F.jsx)("h4",{className:"text-lg font-semibold mb-1",style:{color:"hsl(var(--background))"},children:"Sarah Chen"}),(0,F.jsx)("p",{className:"text-sm",style:{color:"hsl(var(--background) / 0.6)"},children:"CEO, TechVenture"})]})]})})}function oX(){let e=(0,L.useRef)(null);return(0,L.useEffect)(()=>{let t=new IntersectionObserver(e=>{for(let t of e)t.isIntersecting&&t.target.classList.add("animate-visible")},{threshold:.1}),r=e.current?.querySelectorAll("[data-animate]");return r?.forEach(e=>t.observe(e)),()=>t.disconnect()},[]),(0,F.jsx)("section",{ref:e,id:"contact",className:"py-24",children:(0,F.jsx)("div",{className:"max-w-7xl mx-auto px-6 lg:px-8",children:(0,F.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 lg:gap-20",children:[(0,F.jsxs)("div",{"data-animate":!0,className:"opacity-0 animate-on-scroll",children:[(0,F.jsxs)("h2",{className:"font-serif text-4xl md:text-5xl font-light text-foreground mb-6 leading-tight",children:["Let's Create Something ",(0,F.jsx)("span",{className:"font-semibold",children:"Amazing"})]}),(0,F.jsx)("p",{className:"text-muted-foreground text-lg leading-relaxed mb-10",children:"Wants to collaborate on innovative projects that push the boundaries of technology and design."}),(0,F.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,F.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,F.jsx)("span",{className:"text-xs uppercase tracking-widest text-muted-foreground font-medium",children:"Email"}),(0,F.jsx)("a",{href:"mailto:dophamtuan2008@gmail.com",className:"text-foreground text-lg font-medium transition-colors duration-300 hover:text-accent",children:"dophamtuan2008@gmail.com"})]}),(0,F.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,F.jsx)("span",{className:"text-xs uppercase tracking-widest text-muted-foreground font-medium",children:"Location"}),(0,F.jsx)("span",{className:"text-foreground text-lg",children:"Viet Nam"})]})]})]}),(0,F.jsx)("div",{"data-animate":!0,className:"opacity-0 animate-on-scroll",style:{animationDelay:"0.2s"},children:(0,F.jsxs)("form",{className:"bg-card p-8 md:p-10 rounded-2xl border border-border",children:[(0,F.jsx)("div",{className:"mb-5",children:(0,F.jsx)("input",{type:"text",placeholder:"Your Name",required:!0,className:"w-full px-5 py-4 border border-border rounded-xl bg-background text-foreground text-base transition-all duration-300 focus:outline-none focus:border-accent focus:ring-2 focus:ring-accent/10 placeholder:text-muted-foreground/60"})}),(0,F.jsx)("div",{className:"mb-5",children:(0,F.jsx)("input",{type:"email",placeholder:"Your Email",required:!0,className:"w-full px-5 py-4 border border-border rounded-xl bg-background text-foreground text-base transition-all duration-300 focus:outline-none focus:border-accent focus:ring-2 focus:ring-accent/10 placeholder:text-muted-foreground/60"})}),(0,F.jsx)("div",{className:"mb-6",children:(0,F.jsx)("textarea",{placeholder:"Tell us about your project",rows:5,required:!0,className:"w-full px-5 py-4 border border-border rounded-xl bg-background text-foreground text-base transition-all duration-300 focus:outline-none focus:border-accent focus:ring-2 focus:ring-accent/10 resize-y placeholder:text-muted-foreground/60"})}),(0,F.jsx)("button",{type:"submit",className:"w-full px-8 py-4 bg-foreground text-background rounded-full text-base font-medium transition-all duration-300 hover:bg-accent hover:text-accent-foreground hover:-translate-y-1 hover:shadow-lg",children:"Send Message"})]})})]})})})}function oJ(){return(0,F.jsx)("footer",{className:"bg-foreground py-16",children:(0,F.jsxs)("div",{className:"max-w-7xl mx-auto px-6 lg:px-8",children:[(0,F.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-10 mb-12 pb-12",style:{borderBottom:"1px solid hsl(var(--background) / 0.1)"},children:[(0,F.jsxs)("div",{className:"lg:col-span-2",children:[(0,F.jsx)("span",{className:"font-serif text-3xl font-bold tracking-wide block mb-4",style:{color:"hsl(var(--background))"},children:"TUAMS"}),(0,F.jsx)("p",{className:"text-sm leading-relaxed max-w-xs",style:{color:"hsl(var(--background) / 0.6)"},children:"Bringing the new world of social media since 2025."})]}),(0,F.jsxs)("div",{children:[(0,F.jsx)("h4",{className:"text-sm font-medium uppercase tracking-widest mb-5",style:{color:"hsl(var(--background))"},children:"Services"}),(0,F.jsx)("ul",{className:"flex flex-col gap-3",children:[{label:"Tuamess",href:"#services"},{label:"Tuamsdia",href:"#services"},{label:"Analytics",href:"#services"}].map(e=>(0,F.jsx)("li",{children:(0,F.jsx)("a",{href:e.href,className:"text-sm transition-all duration-300 hover:translate-x-1 inline-block",style:{color:"hsl(var(--background) / 0.6)"},onMouseEnter:e=>e.currentTarget.style.color="hsl(var(--accent))",onMouseLeave:e=>e.currentTarget.style.color="hsl(var(--background) / 0.6)",children:e.label})},e.label))})]}),(0,F.jsxs)("div",{children:[(0,F.jsx)("h4",{className:"text-sm font-medium uppercase tracking-widest mb-5",style:{color:"hsl(var(--background))"},children:"Company"}),(0,F.jsx)("ul",{className:"flex flex-col gap-3",children:[{label:"About Us",href:"#"},{label:"Careers",href:"#"},{label:"Blog",href:"#"},{label:"Contact",href:"#contact"}].map(e=>(0,F.jsx)("li",{children:(0,F.jsx)("a",{href:e.href,className:"text-sm transition-all duration-300 hover:translate-x-1 inline-block",style:{color:"hsl(var(--background) / 0.6)"},onMouseEnter:e=>e.currentTarget.style.color="hsl(var(--accent))",onMouseLeave:e=>e.currentTarget.style.color="hsl(var(--background) / 0.6)",children:e.label})},e.label))})]}),(0,F.jsxs)("div",{children:[(0,F.jsx)("h4",{className:"text-sm font-medium uppercase tracking-widest mb-5",style:{color:"hsl(var(--background))"},children:"Follow Us"}),(0,F.jsx)("ul",{className:"flex flex-col gap-3",children:[{label:"Instagram",href:"#"},{label:"Twitter",href:"#"},{label:"LinkedIn",href:"#"}].map(e=>(0,F.jsx)("li",{children:(0,F.jsx)("a",{href:e.href,className:"text-sm transition-all duration-300 hover:translate-x-1 inline-block",style:{color:"hsl(var(--background) / 0.6)"},onMouseEnter:e=>e.currentTarget.style.color="hsl(var(--accent))",onMouseLeave:e=>e.currentTarget.style.color="hsl(var(--background) / 0.6)",children:e.label})},e.label))})]})]}),(0,F.jsx)("div",{className:"text-center",children:(0,F.jsx)("p",{className:"text-xs",style:{color:"hsl(var(--background) / 0.4)"},children:"Â© 2025 Tuams. All rights reserved."})})]})})}function oQ(){let[e,t]=(0,L.useState)(!1),[r,i]=(0,L.useState)(!1);return(0,F.jsxs)(F.Fragment,{children:[!e&&(0,F.jsx)(M,{onComplete:()=>{i(!0),setTimeout(()=>{t(!0)},1300)}}),(0,F.jsxs)("div",{className:`transition-opacity duration-700 ${r?"opacity-100":"opacity-0"}`,children:[(0,F.jsx)(X,{}),(0,F.jsxs)("main",{children:[(0,F.jsx)(ei,{}),(0,F.jsx)(eo,{}),(0,F.jsx)(ed,{}),(0,F.jsx)(oG,{}),(0,F.jsx)(oZ,{}),(0,F.jsx)(oW,{}),(0,F.jsx)(oX,{})]}),(0,F.jsx)(oJ,{})]})]})}e.s(["default",()=>oQ],78166)}]);